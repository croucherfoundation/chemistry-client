/*! For license information please see chemistry.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.chemistry=e():t.chemistry=e()}(self,(function(){return(()=>{var t={3855:t=>{t.exports=function(t){return`<div class='cms-buttons'><a class='control show' title='${t.t.tooltips.insert_something}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-plus_bare"></use>\n  </svg>\n</a><a class='control add page' title='${t.t.tooltips.insert_pages}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-page"></use>\n  </svg>\n</a><a class='control add image' title='${t.t.tooltips.insert_image}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-image"></use>\n  </svg>\n</a><a class='control add video' title='${t.t.tooltips.insert_video}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-video"></use>\n  </svg>\n</a><a class='control add document' title='${t.t.tooltips.insert_document}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-document"></use>\n  </svg>\n</a><a class='control add quote' title='${t.t.tooltips.insert_quote}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-quote"></use>\n  </svg>\n</a><a class='control add note' title='${t.t.tooltips.insert_note}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-note"></use>\n  </svg>\n</a>\n<a class='control add customInsert' title='My Custom Insert'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-note"></use>\n  </svg>\n</a>\n</div>\n`}},8461:t=>{t.exports=function(t){return"<p>\n  No assets available for reuse.\n</p>\n"}},9062:t=>{t.exports=function(t){return'<div class="cms-controls remover"></div>\n<div class="embedded">\n  \n</div>\n'}},275:t=>{t.exports=function(t){return""}},5614:t=>{t.exports=function(t){return`<a class="cms-button cms-chooser-head">\n  <svg class="cms-icon filled"><use href="/spritemap.svg#sprite-document"></use></svg>\n</a>\n\n<div class="cms-chooser-body assets">\n  <a class="close">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <ul class='options'>\n    <li>\n      <label class="choose upload">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-upload"></use></svg>\n        <span class='label'>${t.t.assets.upload_document}</span>\n        <input type='file' class="upload" name="document_file">\n      </label>\n    </li>\n    <li>\n      <a class="choose reuse">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-document_button"></use></svg>\n        <span class='label'>${t.t.assets.reuse_document}</span>\n      </a>\n    </li>  \n  </ul>\n  <div class='progress'></div>\n  <div class='action'></div>\n</div>\n`}},4974:t=>{t.exports=function(t){return`<h3>\n  <a class='back'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class='label'>\n      ${t.t.headings.reuse_document}\n    </span>\n  </a>\n</h3>\n\n<div class="filter"><input class='q' placeholder='${t.t.placeholders.document.filter}' type='text'><a class='button filter'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-search"></use>\n  </svg>\n</a><a class='button reset'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-close"></use>\n  </svg>\n</a></div>\n\n<div class='pick list'></div>\n`}},7304:t=>{t.exports=function(t){return`<div class="cms-embed-controls"></div>\n<a class='document'>\n  <svg class="cms-icon"><use class="file_type" href="/spritemap.svg#sprite-file"></use></svg>\n  <span class='label filename' data-placeholder="${t.t.placeholders.document.file}" contenteditable=true></span>\n</a>\n`}},7360:t=>{t.exports=function(t){return'<a class=\'document\'>\n  <svg class="cms-icon"><use class="file_type" href="/spritemap.svg#sprite-file"></use></svg>\n  <span class=\'label\'></span>\n</a>\n'}},9327:t=>{t.exports=function(t){return`<div class="cms-bg">\n  <a class="close">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-close"></use>\n    </svg>\n  </a>\n  <div class="cms-menu-content">\n    <h3>${t.t.headings.edit_link}</h3>\n    <p>\n      <label>\n        <input type="url" name="href" placeholder="${t.t.placeholders.link.href}" autocomplete="off">\n      </label>\n    </p>\n    <p class="controls">\n      <a class="detail">\n        <svg class="cms-icon">\n          <use href="/spritemap.svg#sprite-next_bare"></use>\n        </svg>\n        <span class="label">More options</span>\n      </a>\n      <a class="remove">\n        <svg class="cms-icon">\n          <use href="/spritemap.svg#sprite-cross_button"></use>\n        </svg>\n        <span class="label">Remove link</span>\n      </a>\n    </p>\n    <div class="details">\n      <p>\n        <label>\n          Link class\n          <input type="text" name="class" placeholder="${t.t.placeholders.link.class}">\n        </label>\n      </p>\n      <p>\n        <label>\n          Title\n          <input type="text" name="title" placeholder="${t.t.placeholders.link.title}">\n        </label>\n      </p>\n      <p>\n        <label>\n          <input type="checkbox" name="pops">\n          Open in new window\n        </label>\n      </p>\n    </div>\n    <p>\n      <span class="note">${t.t.notes.link.href}</span>\n    </p>\n    <div class="suggestions">\n      <div class="suggested_page_list"></div>\n    </div>\n\n  </div>\n</div>\n<div class='cms-pointer up'></div>\n`}},3379:t=>{t.exports=function(t){return"<div class='cms-modifier'></div>\n<div class='cms-inserter'></div>\n"}},4811:t=>{t.exports=function(t){return`<div class='cms-buttons'>\n  <a class='control hide' title='${t.t.tooltips.block_p}'>\n\t<svg class="cms-icon">\n\t\t<use href="/spritemap.svg#sprite-x"></use>\n\t</svg>\n  </a><a class='control show' title='${t.t.tooltips.block_p}'>\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-p"></use>\n  \t</svg>\n  </a><a class='control' title='${t.t.tooltips.block_p}' data-tagname="p">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-p_button"></use>\n  \t</svg>\n  </a><a class='control' title='${t.t.tooltips.block_h2}' data-tagname="h2">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-h2_button"></use>\n  \t</svg>\n  </a><a class='control' title='${t.t.tooltips.block_h3}' data-tagname="h3">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-h3_button"></use>\n  \t</svg>\n  </a><a class='control' title='${t.t.tooltips.block_ul}' data-tagname="ul">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-ul_button"></use>\n  \t</svg>\n  </a><a class='control' title='${t.t.tooltips.block_ol}' data-tagname="ol">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-ol_button"></use>\n  \t</svg>\n  </a><a class='control' title='${t.t.tooltips.block_pre}' data-tagname="pre">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-pre_button"></use>\n  \t</svg>\n  </a>\n</div>\n`}},5637:t=>{t.exports=function(t){return"<div class=\"dialog\">\n  <p class='message'></p>\n  <p class='notes'></p>\n  <div class='decision'>\n    <a class='accept warning'>\n      Yes, continue\n    </a>\n    <a class='reject'>\n      No, cancel\n    </a>\n  </div>\n</div>"}},7998:t=>{t.exports=function(t){return"<svg class='icon filled'>\n\t<use href=\"/spritemap.svg#sprite-cross_button\"></use>\n</svg>\n"}},9128:t=>{t.exports=function(t){return`<div class="cms-bg">\n  <div class='cms-buttons'><a class='control bold' title='${t.t.tooltips.inline_bold}' data-cms-format="bold">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-bold_button"></use>\n  </svg>\n  </a><a class='control bold' title='${t.t.tooltips.inline_italic}' data-cms-format="italic">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-italic_button"></use>\n    </svg>\n  </a><a class='control italic' title='${t.t.tooltips.inline_underline}' data-cms-format="underline">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-underline_button"></use>\n    </svg>\n  </a><a class='control strikethrough' title='${t.t.tooltips.inline_strikethrough}' data-cms-format="strikethrough">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-strikethrough_button"></use>\n    </svg>\n  </a><a class='control anchor' title='${t.t.tooltips.inline_anchor}' data-cms-format="anchor">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-anchor_button"></use>\n    </svg>\n  </a><a class='control code' title='${t.t.tooltips.inline_code}' data-cms-format="code">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-pre_button"></use>\n    </svg>\n  </a></div>\n</div>\n<div class='cms-pointer down'></div>\n`}},9793:t=>{t.exports=function(t){return'<svg class=\'icon file\'>\n  <use href="/spritemap.svg#sprite-save_button"></use>\n</svg><span class="bar_holder"><span class="bar"></span></span><a class="cancel">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-cross_button"></use>\n  </svg>\n</a>\n<span class="file_name"></span>'}},639:t=>{t.exports=function(t){return`<h3 class="uploading">\n  ${t.t.waiters.uploading}\n</h3>\n<h3 class="uploaded">\n  ${t.t.waiters.processing_upload}\n</h3>\n<span class="bar_holder"><span class="bar"></span></span>\n<span class="file_name"></span>\n<a class="cancel">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-cross_button"></use>\n  </svg>\n</a>`}},8922:t=>{t.exports=function(t){return`<img class='preview' data-cms="true">\n<img class='image'>\n<figcaption contenteditable='plaintext-only' data-placeholder='${t.t.placeholders.image.caption}'></figcaption>\n<div class="cms-embed-controls"></div>\n`}},6944:t=>{t.exports=function(t){return'<a class="slider-control prev">\n  <svg class="cms-icon">\n  \t<use href="/spritemap.svg#sprite-prev_bare"></use>\n  </svg>\n</a>\n<a class="slider-control next">\n  <svg class="cms-icon">\n  \t<use href="/spritemap.svg#sprite-next_bare"></use>\n  </svg>\n</a>\n<a class="slider-control add" data-cms="true">\n  <svg class=\'icon filled\'>\n  \t<use href="/spritemap.svg#sprite-plus_bare"></use>\n  </svg>\n</a>\n    \n<div class="cms-slider">\n  <div class="collection cms-slide-holder">\n    \n  </div>\n</div>\n'}},2288:t=>{t.exports=function(t){return`<a class="cms-button cms-chooser-head">\n  <svg class="cms-icon filled"><use href="/spritemap.svg#sprite-image"></use></svg>\n</a>\n\n<div class="cms-chooser-body assets">\n  <a class="close">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <ul class='options'>\n    <li>\n      <label class="choose upload">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-upload"></use></svg>\n        <span class='label'>${t.t.assets.upload_image}</span>\n        <input type='file' class="upload" name="image_file">\n      </label>\n    </li>\n    <li>\n      <a class="choose import">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-download"></use></svg>\n        <span class='label'>${t.t.assets.import_image}</span>\n      </a>\n    </li>  \n    <li>\n      <a class="choose reuse">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-image_button"></use></svg>\n        <span class='label'>${t.t.assets.reuse_image}</span>\n      </a>\n    </li>  \n    <li>\n      <a class="choose remove">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-cross"></use></svg>\n        <span class='label'>${t.t.assets.remove_image}</span>\n      </a>\n    </li>  \n  </ul>\n  <div class='progress'></div>\n  <div class='action'></div>\n</div>\n`}},3172:t=>{t.exports=function(t){return`<h3>\n  <a class='back'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class='label'>\n      ${t.t.headings.import_image}\n    </span>\n  </a>\n</h3>\n\n<div><input name='remote_url' placeholder='${t.t.placeholders.image.remote_url}' type='url'><a class='button submit'>\n  ${t.t.buttons.import}\n</a><span class='waiter'>\n  ${t.t.waiters.image_import}\n</span></div>\n\n<div class='url_check'></div>`}},6662:t=>{t.exports=function(t){return`<h3>\n  <a class='back'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class='label'>\n      ${t.t.headings.reuse_image}\n    </span>\n  </a>\n</h3>\n\n<div class="filter"><input class='q' placeholder='${t.t.placeholders.image.filter}' type='text'><a class='button filter'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-search"></use>\n  </svg>\n</a><a class='button reset'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-close"></use>\n  </svg>\n</a></div>\n\n<div class="pick list"></div>\n`}},6302:t=>{t.exports=function(t){return"<a class='thumbnail pickme'></a>\n"}},5426:t=>{t.exports=function(t){return'<a class="cms-button cms-menu-head">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-admin"></use>\n  </svg>\n</a>\n\n<div class="cms-menu-body">\n  <a class=\'close\'>\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <div class="cms-menu-content"></div>\n</div>\n'}},3451:t=>{t.exports=function(t){return`<a class="cms-button cms-menu-head">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-upload"></use>\n  </svg>\n</a>\n\n<div class="cms-menu-body control narrow">\n  <a class='close'>\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <h3>${t.t.headings.page_control}</h3>\n  <div class="cms-menu-content"></div>\n</div>\n\n`}},8817:t=>{t.exports=function(t){return'<a class="cms-button cms-menu-head">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-flask"></use>\n  </svg>\n</a>\n\n<div class="cms-menu-body">\n  <a class=\'close\'>\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <div class="cms-menu-content"></div>\n</div>\n'}},6408:t=>{t.exports=function(t){return`<p contenteditable='plaintext-only' data-placeholder='${t.t.placeholders.note.text}'></p>\n`}},3673:t=>{t.exports=function(t){return"<a class='close'>\n  <svg class=\"cms-icon\">\n    <use href=\"/spritemap.svg#sprite-close\"></use>\n  </svg>\n</a>\n<span class='message'></span>\n"}},9392:t=>{t.exports=function(t){return'<h4 class="header">\n  <a class="toggle">\n    <svg class="cms-icon">\n      <use xlink:href="/spritemap.svg#sprite-next_bare"></use>\n    </svg>\n    <span class="label title"></span><br/>\n  </a>\n</h4>\n<div class="toggled">\n  <div class="tree"></div>\n</div>\n'}},6672:t=>{t.exports=function(t){return`<a class='page saved'>\n  <svg role="img" class="cms-icon page"><use href="/spritemap.svg#sprite-page-texty"></use></svg>\n  <span class='title'></span>\n</a>\n<span class="unsaved" data-cms="true">\n  <svg role="img" class="cms-icon page"><use href="/spritemap.svg#sprite-page-illustrated"></use></svg>\n  <span class='edit_title' data-placeholder="${t.t.placeholders.page.new_title}" contenteditable="true"></span>\n  <a class="save inline">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-save_button"></use></svg>\n  </a>\n</span>\n<a class='remove'>\n  <svg class="cms-icon"><use href="/spritemap.svg#sprite-cross_button"></use></svg>\n</a>\n`}},8060:t=>{t.exports=function(t){return`<div class="cms-embed-controls"></div>\n<h2 class="toc_title" contenteditable="true" data-placeholder='${t.t.placeholders.page.toc_title}'></h2>\n<ul class="collection cms-page-list"></ul>\n<div class="actions" data-cms="true">\n  <a class="pick">\n    <svg class='icon filled'>\n    \t<use href="/spritemap.svg#sprite-page"></use>\n    </svg>\n    <span class="label">${t.t.buttons.choose_page}</span>\n  </a>\n  <a class="add">\n    <svg class='icon filled'>\n    \t<use href="/spritemap.svg#sprite-plus_button"></use>\n    </svg>\n    <span class="label">${t.t.buttons.create_child_page}</span>\n  </a>\n</div>`}},7706:t=>{t.exports=function(t){return'<a class="page">\n  <svg class="cms-icon page">\n    <use class="content" href="/spritemap.svg#sprite-page"></use>\n  </svg>\n  <span class="title"></span>\n</a>\n'}},1085:t=>{t.exports=function(t){return`<h3>${t.t.headings.jump_to}</h3>\n<div class="page_collections"></div>\n<ul class="actions">\n  <li>\n    <a class='cms-control exit'>\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-exit_button"></use>\n      </svg>\n      <span class='label'>\n        ${t.t.buttons.exit_editor}\n      </span>\n    </a>\n  </li>\n</ul>\n`}},6782:t=>{t.exports=function(t){return`${t.t.gotno.pages}`}},2550:t=>{t.exports=function(t){return"<div id='cms_illustration'></div>\n<div id='cms_body'>\n\t<div id='cms_title'></div>\n\t<div id='cms_content'></div>\n</div>\n<div class='cms-page-controls'>\n  <div class=\"site\"></div>\n  <div class=\"page_config\"></div>\n  <div class=\"page_control\"></div>\n</div>\n"}},1317:t=>{t.exports=function(t){return`<h3>\n  <a class='back'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class='label'>\n      ${t.t.headings.choose_page}\n    </span>\n  </a>\n</h3>\n\n<div class="filter"><input class='q' placeholder='${t.t.placeholders.page.filter}' type='text'><a class='button filter'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-search"></use>\n  </svg>\n</a><a class='button reset'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-close"></use>\n  </svg>\n</a></div>\n\n<div class='pick list'></div>\n`}},3469:t=>{t.exports=function(t){return`<a class="cms-button cms-chooser-head">\n  <svg class="cms-icon filled"><use href="/spritemap.svg#sprite-page"></use></svg>\n</a>\n\n<div class="cms-chooser-body assets">\n  <a class="close">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <ul class='options'>\n    <li>\n      <a class="choose children">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-branch"></use></svg>\n        <span class='label'>${t.t.assets.child_pages}</span>\n      </a>\n    </li>\n    <li>\n      <a class="choose similar">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-list"></use></svg>\n        <span class='label'>${t.t.assets.similar_pages}</span>\n      </a>\n    </li>\n    \x3c!-- <li>\n      <a class="choose branch">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-branch"></use></svg>\n        <span class='label'>${t.t.assets.other_child_pages}</span>\n      </a>\n    </li>   --\x3e\n    <li>\n      <a class="choose selected">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-list"></use></svg>\n        <span class='label'>${t.t.assets.select_pages}</span>\n      </a>\n    </li>\n  </ul>\n  <div class='action'></div>\n</div>\n`}},1997:t=>{t.exports=function(t){return`<ul class="actions">\n  <li>\n    <a class='cms-control save default-unavailable'>\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-save_button"></use>\n      </svg>\n      <span class='label'>\n        ${t.t.buttons.save_page}\n      </span>\n    </a>\n  </li>\n  <li>\n    <a class='cms-control publish default-unavailable'>\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-publish_button"></use>\n      </svg>\n      <span class='label'>\n        ${t.t.buttons.publish_page}\n      </span>\n    </a>\n  </li>\n  <li>\n    <a class='cms-control view default-unavailable' target='_blank'>\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-page_button"></use>\n      </svg>\n      <span class='label'>\n        ${t.t.buttons.see_page}\n      </span>\n    </a>\n  </li>\n</ul>\n<div class="progress"></div>`}},3101:t=>{t.exports=function(t){return`<h3>${t.t.headings.page_settings}</h3>\n\n<p class="config">\n  <label class="prefix" for="page-slug">${t.t.labels.page.slug}</label>\n  <span class="setting">\n    <input name="slug" id="page-slug" type="text" spellcheck="false" placeholder="${t.t.placeholders.page.slug}">\n  </span>\n</p>\n\n<p class="config">\n  <label class="prefix" for="page-style">${t.t.labels.page.style}</label>\n  <span class="setting">\n    <label>\n      <input name="style" type="radio" value="heroic">\n      <svg role="img" class="label page"><title>${t.t.labels.page.style_heroic}</title><use href="/spritemap.svg#sprite-page-heroic"></use></svg>\n    </label>\n    <label>\n      <input name="style" type="radio" value="illustrated">\n      <svg role="img" class="label page"><title>${t.t.labels.page.style_illustrated}</title><use href="/spritemap.svg#sprite-page-illustrated"></use></svg>\n    </label>\n    <label>\n      <input name="style" type="radio" value="gallery">\n      <svg role="img" class="label page"><title>${t.t.labels.page.style_gallery}</title><use href="/spritemap.svg#sprite-page-gallery"></use></svg>\n    </label>\n    <label>\n      <input name="style" type="radio" value="texty">\n      <svg role="img" class="label page"><title>${t.t.labels.page.style_texty}</title><use href="/spritemap.svg#sprite-page-texty"></use></svg>\n    </label>\n  </span>\n</p>\n\n<p class="config">\n  <label class="prefix" for="page-byline">${t.t.labels.page.byline}</label>\n  <span class="setting">\n    <input name="byline" id="page-byline" type="text" placeholder="${t.t.placeholders.page.byline}">\n  </span>\n</p>\n\n<p class="config">\n  <label class="prefix" for="page-summary">${t.t.labels.page.summary}</label>\n  <span class="setting">\n    <textarea name='summary' id="page-summary" contenteditable='true' placeholder='${t.t.placeholders.page.summary}'></textarea>\n  </span>\n</p>\n\n\n<a class="toggle">\n  <svg class="prefix">\n    <use href="/spritemap.svg#sprite-next_bare"></use>\n  </svg>\n  <span class="label">\n    ${t.t.buttons.show_details}\n  </span>\n</a>\n\n<div class="details toggled">\n  <p class="config">\n    <label class="prefix" for="page_collection">${t.t.labels.page.page_collection}</label>\n    <span class="setting page_collection"></span>\n  </p>\n\n  <p class="config">\n    <label class="prefix" for="page_category">${t.t.labels.page.page_category}</label>\n    <span class="setting page_category"></span>\n  </p>\n\n  <p class="config">\n    <label class="prefix" for="page_parent">${t.t.labels.page.page_parent}</label>\n    <span class="setting page_parent"></span>\n  </p>\n\n  <p class="config">\n    <label class="prefix" for="page_terms_q">${t.t.labels.page.terms}</label>\n  </p>\n\n  <div class="page_terms"></div>\n\n</div>\n`}},8350:t=>{t.exports=function(t){return'<a class="page">\n  <svg class="cms-icon page">\n    <use class="content" href="/spritemap.svg#sprite-page"></use>\n  </svg>\n  <span class="title"></span>\n  <span class="collection"></span>\n  <span class="date"></span>\n</a>\n'}},7711:t=>{t.exports=function(t){return'<div class="terms"></div>\n<div class="suggester">\n  <span contenteditable="true" id="page_terms_q" class="prompt"></span>\n  <a class="reset">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n</div>\n<div class="suggestions"></div>\n'}},2139:t=>{t.exports=function(t){return`<h1 class="pagetitle"><span class='name' contenteditable='true' data-placeholder='${t.t.placeholders.page.page_title}'></span></h1>\n`}},325:t=>{t.exports=function(t){return`<span class="indent"></span>\n<a class="toggle">\n  <svg class="cms-icon">\n    <use xlink:href="/spritemap.svg#sprite-next_bare"></use>\n  </svg>\n</a>\n<span class="detail saved">\n  <a class="page">\n    <svg class="cms-icon page">\n      <use class="content" href="/spritemap.svg#sprite-page"></use>\n    </svg>\n    <span class="title"></span>\n    <br/>\n    <span class="path"></span>\n  </a>\n  <span class="actions">\n    <a class="delete">\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-cross_button"></use>\n      </svg>\n    </a>\n    <a class="review" target="_blank">\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-show_button"></use>\n      </svg>\n    </a>\n  </span>\n</span>\n<span class="unsaved" data-cms="true">\n  <svg class="cms-icon page">\n    <use class="content" href="/spritemap.svg#sprite-page"></use>\n  </svg>\n  <span class='edit_title' data-placeholder="${t.t.placeholders.page.new_title}" contenteditable="true"></span>\n  <a class="save inline">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-save_button"></use></svg>\n  </a>\n</span>\n`}},8596:t=>{t.exports=function(t){return`<blockquote contenteditable='plaintext-only' data-placeholder='${t.t.placeholders.quote.remarks}'></blockquote>\n<figcaption contenteditable='plaintext-only' data-placeholder='${t.t.placeholders.quote.attribution}'></figcaption>\n`}},7246:t=>{t.exports=function(t){return'<span class="term"></span>\n<a class="detach">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-close"></use>\n  </svg>\n</span>'}},5722:t=>{t.exports=function(t){return`${t.t.gotno.term_suggestions}\n`}},4418:t=>{t.exports=function(t){return'<a class="pick">\n  <svg class="prefix">\n    <use href="/spritemap.svg#sprite-plus_bare"></use>\n  </svg>\n  <span class="label term"></span>\n</a>'}},6037:t=>{t.exports=function(t){return"<div id='cms_page' class='editing'></div>\n<div id='notices'></div>\n<div id='warning'></div>\n"}},6076:t=>{t.exports=function(t){return`<video autoplay controls='false' loop muted='muted' preload='auto'>\n  <source>\n</video>\n<div class='player'></div>\n<div class="cms-embed-controls"></div>\n<figcaption contenteditable='plaintext-only' data-placeholder='${t.t.placeholders.video.caption}'></figcaption>\n`}},9099:t=>{t.exports=function(t){return`<a class="cms-button cms-chooser-head">\n  <svg class="cms-icon filled"><use href="/spritemap.svg#sprite-video"></use></svg>\n</a>\n\n<div class="cms-chooser-body assets">\n  <a class="close">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <ul class='options'>\n    <li>\n      <label class="choose upload">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-upload_video"></use></svg>\n        <span class='label'>${t.t.assets.upload_video}</span>\n        <input type='file' class="upload" name="video_file">\n      </label>\n    </li>\n    <li>\n      <a class="choose import">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-import_video"></use></svg>\n        <span class='label'>${t.t.assets.import_video}</span>\n      </a>\n    </li>  \n    <li>\n      <a class="choose reuse">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-video_button"></use></svg>\n        <span class='label'>${t.t.assets.reuse_video}</span>\n      </a>\n    </li>  \n  </ul>\n  <div class='action'>\n    \n    \n  </div>\n</div>\n`}},4770:t=>{t.exports=function(t){return`<h3>\n  <a class='back'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class='label'>\n      ${t.t.headings.import_video}\n    </span>\n  </a>\n</h3>\n\n<form class="import"><input name='remote_url' placeholder='${t.t.placeholders.video.remote_url}' type='url'><a class='button submit'>\n  ${t.t.buttons.import}\n</a><span class='waiter'>\n  ${t.t.waiters.video_import}\n</span></form>\n\n<div class='url_check'></div>`}},1476:t=>{t.exports=function(t){return`<h3>\n  <a class='back'>\n    <svg class='cms-icon'>\n      <use href='/spritemap.svg#sprite-prev_bare'></use>\n    </svg>\n    <span class='label'>\n      ${t.t.headings.reuse_video}\n    </span>\n  </a>\n</h3>\n\n<div class='filter'><input class='q' placeholder='${t.t.placeholders.video.filter}' type='text'><a class='button filter'>\n  <svg class='cms-icon'>\n    <use href='/spritemap.svg#sprite-search'></use>\n  </svg>\n</a><a class='button reset'>\n  <svg class='cms-icon'>\n    <use href='/spritemap.svg#sprite-close'></use>\n  </svg>\n</a></div>\n\n<div class='pick list'></div>\n`}},2913:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>wg});var r=n(2316),o=n.n(r);n(989);const i=JSON.parse('{"defaults":{"api_url":"/cms/api","logging":true,"pubsub":true,"report_errors":true,"trap_errors":false,"mock_data":true,"terms_url":"","exit_url":"/"},"development":{},"staging":{},"production":{"logging":false,"report_errors":false,"trap_errors":true,"mock_data":false}}');var s,a,c=n(9050),u=new RegExp(/\.(dev|local)/);function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a=c.defaults(t,i[s],i.defaults)}function f(t){return(a||l(),a)[t]}s=u.test(window.location.href)?"development":"production";var p=n(3574),h={en:JSON.parse('{"affirmations":{"new_page_saved":"Page is saved: click listing to edit.","page_saved":"Page is saved. Click publish when you are ready to make it public.","page_published":"Page has been published. Click preview in the save menu to see its public form."},"assets":{"add_document":"Add document","upload_document":"Upload document","import_document":"Import document","reuse_document":"Reuse document","upload_image":"Upload image","import_image":"Import image","reuse_image":"Reuse image","upload_video":"Upload video","import_video":"Embed video","reuse_video":"Reuse video","remove_image":"Remove image","child_pages":"Children of this page","similar_pages":"Similar pages","other_child_pages":"Children of selected page...","select_pages":"Selected pages"},"buttons":{"choose_page":"Choose a page","create_page":"Create a page","create_child_page":"Add child page","create_collection_page":"Add collection page","exit_editor":"Exit page editor","import":"Import","publish_page":"Publish page","save_page":"Save page","see_page":"Review published page","show_details":"Show details"},"confirmations":{"and_work_in_progress":"and uploads that are currently in progress.","leave_editor":"Do you want to leave the page editor?","page_jump":"Do you want to leave this page and jump to ","page_unsaved":"You will lose unsaved changes on this page","work_in_progress":"You will lose the uploads currently in progress"},"editor_loading":"Page Editor Loading","gotno":{"pages":"No pages to display","term_suggestions":"Type two characters or more to see matching terms"},"headings":{"choose_image":"Add images","choose_page":"Add one page","choose_video":"Add video","edit_link":"Edit Link","image_settings":"Image Settings","image_weighting":"Image Weighting","import_document":"Import Document","import_image":"Import Image","import_video":"Embed Video","jump_to":"Jump to page","layout":"Layout","main_page_collection":"Site pages","page_control":"Page Control","page_settings":"Page Settings","suggested_pages":"Suggested pages","reuse_document":"Reuse Document","reuse_image":"Reuse Image","reuse_video":"Reuse Video"},"labels":{"page":{"byline":"Byline","filter":"Filter by title, path or content","private":"Private","slug":"URL Slug","visibility":"Visibility","style":"Layout","page_collection":"Collection","page_category":"Category","page_parent":"Parent","summary":"Summary","terms":"Tagging"},"link":{"href":"Destination","title":"Hover title"}},"missing":{"document":{"title":"Unnamed document"}},"notes":{"link":{"href":"Type a bit of URL or page title to see local link suggestions below"}},"placeholders":{"document":{"file":"File name","filter":"Filter by name"},"image":{"caption":"Optional caption","remote_url":"Full URL","filter":"Filter by name"},"link":{"class":"Optional","href":"Relative or absolute URL.","title":"Recommended for accessibility"},"note":{"text":"Note text"},"page":{"blocks":"Please type or paste here. Press return for a new paragraph or shift-return for a new line. When the caret rests on an empty line you can also use the asset button to insert images, video, a list of page links, a downloadable document and other useful content blocks. Select a block of text to add formatting or a link.","byline":"Author or source","filter":"Filter by name, path or terms","page_title":"Page title","page_content":"Click here to edit the main body of your page. Click the marginal icon to insert blocks and assets. Select a phrase to bring up the formatting and linking menu.","slug":"Plain text, no spaces","toc_title":"Optional TOC heading","new_title":"Enter title and press save button","summary":"For use in lists and features"},"quote":{"remarks":"Quoted text","attribution":"Optional attribution"},"video":{"caption":"Optional caption","remote_url":"URL or youtube ID","filter":"Filter by name or ID"},"waiters":{}},"prompts":{"image":"Tap here or drop image"},"tooltips":{"insert_something":"Insert something","insert_image":"Insert image","insert_video":"Insert video","insert_document":"Insert download","insert_quote":"Insert quote","insert_note":"Insert note","insert_pages":"Insert page links"},"validation":{"image_url_ok":"URL looks importable: click to check","url_not_img":"URL doesn\'t look like an image address","url_or_yt_required":"Please give full URL or Youtube ID","url_ok":"URL looks valid: click to check","url_required":"Please give full URL","video_url_ok":"URL looks importable: click to check","yt_ok":"Check Youtube URL:"},"waiters":{"document_import":"Importing document","image_import":"Downloading image","video_import":"Fetching video data","processing_upload":"Processing upload","uploading":"Uploading file"},"warnings":{"upload_cancelled":"Upload cancelled"}}'),de:JSON.parse('{"with_password":"mit Passwort"}')};function d(){return{t:h.en}}function y(t){var e=h.en;return(Array.isArray(t)?t:t.split(".")).reduce((function(t,e){return t&&t[e]}),e)}var v=f("report_errors"),g=f("trap_errors"),m=new r.Collection;function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"info";m.add({message:t,href:n,duration:e,type:r})}function w(t,e){b(t,4e3,e,"success")}function _(t,e){console.log("complain",t,e),b(t,1e5,e,"error")}function O(t,e,n,r,o){var i;return"not_allowed"===o?i="<p><strong>".concat(y("problems.not_allowed"),"</strong>.").concat(y("notes.view_denied")):"not_found"===o&&(i="<p><strong>".concat(y("problems.not_found"),"</strong>.").concat(y("notes.item_denied"))),i?(_(i,1e5),!0):(i="<strong>".concat(t,"</strong> at ").concat(e," line ").concat(n," col ").concat(r,"."),v&&b(i,1e5,null,"error"),g)}function x(t){return t.toString().toLowerCase().replace("&nbsp;"," ").replace(/[åàáãäâ]/,"a").replace(/[èéëê]/,"e").replace(/[ìíïî]/,"i").replace(/[òóöô]/,"o").replace(/[ùúüû]/,"u").replace(/ñ/,"n").replace(/ç/,"c").replace(/ß/,"ss").replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"").trim()}function S(t,e,n){var r,o=(r=t)?"".concat(r):"",i=n||"...",s=e||80;return o.length>s?o.slice(0,s)+i:o}String.prototype.trim;var k=f("logging");function j(){var t;k&&console&&console.log&&(t=console).log.apply(t,arguments)}var E=new r.Collection;function R(t){E.remove(t)}var P=n(9050),T=n(9755);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e,n){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},D(t,e,n||t)}function B(t,e){return B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},B(t,e)}function M(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return V(t)}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&B(t,e)}(a,t);var e,n,r,i,s=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=I(r);if(i){var n=I(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return M(this,t)});function a(){var t;A(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=s.call.apply(s,[this].concat(n))).urlRoot=t.urlRoot.bind(V(t)),t.prepareLoader=t.prepareLoader.bind(V(t)),t.loadAnd=t.loadAnd.bind(V(t)),t.whenLoaded=t.whenLoaded.bind(V(t)),t.whenFailed=t.whenFailed.bind(V(t)),t.isLoaded=t.isLoaded.bind(V(t)),t.load=t.load.bind(V(t)),t.fetch=t.fetch.bind(V(t)),t.loaded=t.loaded.bind(V(t)),t.notLoaded=t.notLoaded.bind(V(t)),t.prepareSaver=t.prepareSaver.bind(V(t)),t.save=t.save.bind(V(t)),t.saved=t.saved.bind(V(t)),t.confirmSave=t.confirmSave.bind(V(t)),t.cancelSave=t.cancelSave.bind(V(t)),t.notSaved=t.notSaved.bind(V(t)),t.revert=t.revert.bind(V(t)),t.resetUploads=t.resetUploads.bind(V(t)),t.startProgress=t.startProgress.bind(V(t)),t.setProgress=t.setProgress.bind(V(t)),t.finishProgress=t.finishProgress.bind(V(t)),t.build=t.build.bind(V(t)),t.parse=t.parse.bind(V(t)),t.toJSON=t.toJSON.bind(V(t)),t.toJSONWithRootAndAssociations=t.toJSONWithRootAndAssociations.bind(V(t)),t.toJSONWithAssociations=t.toJSONWithAssociations.bind(V(t)),t.checkChanges=t.checkChanges.bind(V(t)),t.recordAttributes=t.recordAttributes.bind(V(t)),t.resetChanges=t.resetChanges.bind(V(t)),t.significantAttributes=t.significantAttributes.bind(V(t)),t.hasChangedAttributes=t.hasChangedAttributes.bind(V(t)),t.significantChangedAttributes=t.significantChangedAttributes.bind(V(t)),t.hasChangedAssociations=t.hasChangedAssociations.bind(V(t)),t.significantChangedAssociations=t.significantChangedAssociations.bind(V(t)),t.reloadAssociations=t.reloadAssociations.bind(V(t)),t.validate=t.validate.bind(V(t)),t.touch=t.touch.bind(V(t)),t.isPopulated=t.isPopulated.bind(V(t)),t.sig=t.sig.bind(V(t)),t}return e=a,n=[{key:"initialize",value:function(){this._class_name=this.constructor.name,this._original_attributes={},this.checkState=P.debounce(this.checkChanges,250),this.prepareLoader(),this.autoload&&this.load(),this.build(),this.prepareSaver(),this.recordAttributes(),this.checkState(),this.set("changed",!1),this.on("change",this.checkState),this.on("change",this.validate)}},{key:"build",value:function(){}},{key:"discard",value:function(){this.collection&&this.collection.remove(this)}},{key:"urlRoot",value:function(){return this.collection?this.collection.urlRoot():[f("api_url"),this.pluralName].join("/")}},{key:"prepareLoader",value:function(){this._loader&&this._loader.cancel(),this._loaded=T.Deferred(),this.isNew()&&this._loaded.resolve(),this._loading=!1}},{key:"loadAnd",value:function(t){this._loaded.done(t),this.load()}},{key:"whenLoaded",value:function(t){this._loaded.done(t)}},{key:"whenFailed",value:function(t){this._loaded.fail(t)}},{key:"isLoaded",value:function(){return"resolved"===this._loaded.state()}},{key:"load",value:function(){return this._loading||this.isLoaded()||(this._loading=!0,this._loader=this.fetch({error:this.notLoaded}).done(this.loaded)),this._loaded.promise()}},{key:"loaded",value:function(t){this._loading=!1,this._loader=null,this._saved.resolve(),this._loaded.resolve(t),this.resetChanges()}},{key:"notLoaded",value:function(t){this._loading=!1,this._loader=null,this._loaded.reject(t)}},{key:"reload",value:function(){this.prepareLoader(),this.load()}},{key:"prepareSaver",value:function(){this._saved=T.Deferred(),this.isNew()||this._saved.resolve(),this._saving=!1}},{key:"save",value:function(){if(!this._saving){var t;this._saved=T.Deferred(),this._saving=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._saver=(t=D(I(a.prototype),"save",this)).call.apply(t,[this].concat(n)),this._saver.fail(this.notSaved).done(this.saved)}return this._saved.promise()}},{key:"saved",value:function(t){this._saving=!1,this._saved.resolve(t),this._saver=null,this.confirmSave(),this.resetChanges(),this.resetUploads(),this.reloadAssociations()}},{key:"confirmSave",value:function(){w("Saved")}},{key:"notSaved",value:function(t,e,n){if(this._saving=!1,this._saved.reject(n),this._saver=null,this.set({progressing:!1,progress:0}),R(this),"abort"===e)_(y("warnings.upload_cancelled"));else{var r=t.responseJSON;r&&r.errors?_("".concat(t.status,": ").concat(r.errors)):_(n)}}},{key:"cancelSave",value:function(){this.log("✋ cancelSave"),this._saver&&this._saver.abort()}},{key:"revert",value:function(){this.reload()}},{key:"resetUploads",value:function(){}},{key:"sync",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("read"!==t){var i=r.beforeSend,s=r.success;r.beforeSend=function(t,r){e.startProgress(),r.xhr=function(){var t=new window.XMLHttpRequest;return t.upload.addEventListener("progress",(function(t){return e.setProgress(t)})),t},i&&i.apply(n,t,r)},r.success=function(){e.finishProgress(!0),s&&s.apply(void 0,arguments)}}return o().sync.call(this,t,e,r)}},{key:"startProgress",value:function(){this.set({progressing:!0,progress:0}),function(t){E.add(t)}(this)}},{key:"setProgress",value:function(t){if(t.lengthComputable){var e=t.loaded/t.total;this.set({progress:e}),e>=.99&&this.set({progressing:!1})}}},{key:"finishProgress",value:function(){this.set({progressing:!1,progress:1}),R(this)}},{key:"parse",value:function(t){var e=t.id,n=t.data,r=t.attributes||n.attributes;return r.id||(e?r.id=e:n&&n.id&&(r.id=n.id)),this.inflateDates(r)}},{key:"inflateDates",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return["published_at","updated_at","created_at"].forEach((function(e){var n=t[e];n&&(t[e]=new Date(n))})),t}},{key:"toJSON",value:function(){return this.toJSONWithRootAndAssociations()}},{key:"toJSONWithRootAndAssociations",value:function(){var t={};return t[this.jsonRoot()]=this.toJSONWithAssociations(),t}},{key:"jsonRoot",value:function(){return this.singularName}},{key:"toJSONWithAssociations",value:function(){var t=this,e={},n=P.result(this,"savedAssociations")||[];return(P.result(this,"savedAttributes")||[]).forEach((function(n){e[n]=t.get(n)})),n.forEach((function(n){e["".concat(n,"_data")]=t[n].toJSONWithAssociations()})),e}},{key:"checkChanges",value:function(){var t=this.hasChangedAttributes()||this.hasChangedAssociations(),e=!t,n=this.isPopulated();this.set({changed:t,unchanged:e,populated:n})}},{key:"recordAttributes",value:function(){this._original_attributes=this.significantAttributes()}},{key:"resetChanges",value:function(){var t=this;(P.result(this,"savedAssociations")||[]).forEach((function(e){return t[e].resetChanges()})),this.recordAttributes(),this.checkChanges()}},{key:"significantAttributes",value:function(){return P.pick(this.attributes,this.savedAttributes)}},{key:"hasChangedAttributes",value:function(){return!P.isEmpty(this.significantChangedAttributes())}},{key:"significantChangedAttributes",value:function(t){var e=this,n=this.significantAttributes(),r=t||P.keys(n),o=P.filter(r,(function(t){return n[t]!==e._original_attributes[t]}));return P.pick(n,o)}},{key:"hasChangedAssociations",value:function(){return!P.isEmpty(this.significantChangedAssociations())}},{key:"significantChangedAssociations",value:function(){var t=this;return P.filter(this.savedAssociations,(function(e){return t[e].hasAnyChanges()}))}},{key:"reloadAssociations",value:function(){var t=this;P.each(this.savedAssociations,(function(e){return t[e].debouncedReload()}))}},{key:"validate",value:function(){this.set("valid",!0)}},{key:"touch",value:function(){this.set("updated_at",new Date,{stickitChange:!0})}},{key:"sig",value:function(){return"".concat(this.singularName," • ").concat(this.cid)}},{key:"isPopulated",value:function(){return!0}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];j.apply(void 0,["[".concat(this.sig(),"]")].concat(e))}}],n&&N(e.prototype,n),a}(o().Model);L.prototype.savedAttributes=[],L.prototype.publishedAttributes=[],L.prototype.savedAssociations=[],L.prototype.uploadProgress=!1,L.prototype.autoload=!1,L.prototype.defaults={populated:!1};const $=L;function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){return F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},F(t,e)}function U(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=z(e);if(n){var o=z(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return U(this,t)});function o(){return H(this,o),r.apply(this,arguments)}return o}($);W.prototype.singularName="term",W.prototype.pluralName="terms",W.prototype.savedAttributes=[];const G=W;var J=n(9050),K=n(9755);function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,e){return Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z(t,e)}function tt(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}var rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(c,t);var e,n,o,i,s,a=(i=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=nt(i);if(s){var n=nt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return tt(this,t)});function c(){var t;Y(this,c);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=a.call.apply(a,[this].concat(n))).url=t.url.bind(et(t)),t.initialize=t.initialize.bind(et(t)),t.getState=t.getState.bind(et(t)),t.prepareToLoad=t.prepareToLoad.bind(et(t)),t.load=t.load.bind(et(t)),t.fetch=t.fetch.bind(et(t)),t.reload=t.reload.bind(et(t)),t.loadSuccess=t.loadSuccess.bind(et(t)),t.loadFail=t.loadFail.bind(et(t)),t.isLoaded=t.isLoaded.bind(et(t)),t.whenLoaded=t.whenLoaded.bind(et(t)),t.loadAnd=t.loadAnd.bind(et(t)),t.parse=t.parse.bind(et(t)),t.findOrAdd=t.findOrAdd.bind(et(t)),t.setAll=t.setAll.bind(et(t)),t}return e=c,n=[{key:"initialize",value:function(t,e){if(this._state=new r.Model,e){var n=e.p,o=e.pp,i=e.filter;this._state.set({p:n,pp:o,filter:i})}this._state.on("change",J.debounce(this.updateState.bind(this),250)),this.prepareToLoad()}},{key:"getState",value:function(){return this._state}},{key:"updateState",value:function(){this.fetch()}},{key:"setPage",value:function(t){this._state.set("p",t)}},{key:"setPerPage",value:function(t){this._state.set("pp",t)}},{key:"setFilter",value:function(t,e){this._state.get("filter").set(t,e)}},{key:"resetFilter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._state.set("filter",t)}},{key:"setQuery",value:function(t){this.log("setQuery",t),this._state.set("q",t)}},{key:"urlRoot",value:function(){return this._page?[f("api_url"),"pages",this._page.id,this.pluralName].join("/"):[f("api_url"),this.pluralName].join("/")}},{key:"url",value:function(){var t=this,e=this.urlRoot();if(this._state){var n=new URLSearchParams;["p","pp","q"].forEach((function(e){var r=t._state.get(e);r&&n.set(e,r)}));var r=this._state.get("filter");r&&Object.keys(r).forEach((function(t){t&&r[t]&&n.set(encodeURIComponent(t),encodeURIComponent(r[t]))}));var o=n.toString();if(o.length)return"".concat(e,"?").concat(o)}return e}},{key:"prepareToLoad",value:function(){this._loaded&&this._loaded.reject(),this._loaded=K.Deferred(),this._loading=!1}},{key:"load",value:function(){return this._loading||this.isLoaded()||(this._loading=!0,this.fetch({error:this.loadFail}).done(this.loadSuccess)),this._loaded.promise()}},{key:"reload",value:function(){this.prepareToLoad(),this.load()}},{key:"loadSuccess",value:function(t){this._loading=!1,this._loaded.resolve(t)}},{key:"loadFail",value:function(t){this._loaded.reject(t)}},{key:"isLoaded",value:function(){return this._loaded&&"resolved"===this._loaded.state()}},{key:"whenLoaded",value:function(t){this._loaded.done(t)}},{key:"loadAnd",value:function(t){this.whenLoaded(t),this.load()}},{key:"parse",value:function(t){return t.data}},{key:"findOrAdd",value:function(t){var e=this.findWhere(t);return e||(e=this.add(t)).fetch(),e}},{key:"setAll",value:function(t,e){this.each((function(n){return n.set(t,e)}))}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];j.apply(void 0,["[".concat(this.pluralName,"]")].concat(e))}}],o=[{key:"key",value:function(){return this.class_key}}],n&&Q(e.prototype,n),o&&Q(e,o),c}(r.Collection);const ot=rt;var it=n(9050),st=n(9755);function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lt(t,e,n){return lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},lt(t,e,n||t)}function ft(t,e){return ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ft(t,e)}function pt(t,e){if(e&&("object"===at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ht(t)}function ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dt(t)}var yt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(a,t);var e,n,r,o,i,s=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dt(o);if(i){var n=dt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return pt(this,t)});function a(){var t;ct(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=s.call.apply(s,[this].concat(n))).initialize=t.initialize.bind(ht(t)),t.suggest=t.suggest.bind(ht(t)),t.fetch=t.fetch.bind(ht(t)),t.url=t.url.bind(ht(t)),t.debouncedSuggest=it.debounce(t.suggest,ht(t)),t.moveSelectionNext=t.moveSelectionNext.bind(ht(t)),t.moveSelectionLast=t.moveSelectionLast.bind(ht(t)),t.moveSelectionPrev=t.moveSelectionPrev.bind(ht(t)),t.moveSelectionFirst=t.moveSelectionFirst.bind(ht(t)),t.moveSelectionTo=t.moveSelectionTo.bind(ht(t)),t.currentSelection=t.currentSelection.bind(ht(t)),t}return e=a,n=[{key:"termList",value:function(){return it.uniq(this.pluck("term")).join(",")}},{key:"resetFromList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t){var e=it.uniq(t.split(",")).map((function(t){return{term:t}}));this.reset(e,{silent:!0})}else this.reset([],{silent:!0})}},{key:"suggest",value:function(t){t!==this._q&&(this._q=encodeURIComponent(t),this.fetch())}},{key:"moveSelectionNext",value:function(){var t=this.currentSelection();if(t){var e=this.indexOf(t);this.moveSelectionTo(e+1)}else this.moveSelectionFirst()}},{key:"moveSelectionLast",value:function(){this.moveSelectionTo(this.length-1)}},{key:"moveSelectionPrev",value:function(){var t=this.currentSelection();if(t){var e=this.indexOf(t);this.moveSelectionTo(e-1)}else this.moveSelectionLast()}},{key:"moveSelectionFirst",value:function(){this.moveSelectionTo(0)}},{key:"moveSelectionTo",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=e<0?this.length-1:e>=this.length?0:e,this.each((function(e,n){e.set("selected",n===t)}))}},{key:"currentSelection",value:function(){return this.findWhere({selected:!0})}},{key:"fetch",value:function(){var t=this,e=st.Deferred();if(this._q&&this._q.length>=2){var n,r=a.cachedState(this._q);if(r)return this.reset(r),e.resolve(r).promise();for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=lt(dt(a.prototype),"fetch",this)).call.apply(n,[this].concat(i)).done((function(){a.suggestionCache[t._q]=t.models,e.resolve(t.models)})),e.promise()}return this.reset(),e.resolve([]).promise()}},{key:"url",value:function(){return f("terms_url")+this._q}}],r=[{key:"cachedState",value:function(t){return a.suggestionCache[t]}}],n&&ut(e.prototype,n),r&&ut(e,r),a}(ot);yt.suggestionCache={},yt.class_key="terms",yt.prototype.model=G,yt.prototype.singularName="term",yt.prototype.pluralName="terms";const vt=yt,gt=JSON.parse('{"data":{"id":"2160","type":"page","attributes":{"id":2160,"path":"news/uncovering-the-mechanism-for-neural-progenitor-competence-regulation","slug":"uncovering-the-mechanism-for-neural-progenitor-competence-regulation","style":"heroic","parent_id":null,"page_category_id":2,"page_collection_id":1,"title":"Uncovering the mechanism for neural progenitor competence regulation","masthead":"<div class=\\"images cms-slides\\"><div class=\\"cms-slider\\"><div class=\\"cms-slide-holder\\"><figure class=\\"image cms-slide\\" data-image=\\"838\\"><img class=\'image\' src=\\"https://croucher-public.s3.amazonaws.com/pub/images/images/3773/original/brunet-cells.jpg?1595303356\\"><figcaption></figcaption></figure></div></div></div>","content":"<p>A research team led by Professor Kin-ming Kwan has provided significant new insights for stem cell biology and regeneration of neuronal cells.\\n</p><p><span style=\\"font-size: 1.2rem;\\">Our brain is built up from tens of billions of neurons. These neurons are categorised into different subtypes, each with unique cellular characteristics and a specialised function. Neurons are differentiated from neural stem cells by undergoing temporal transition of fate specification.</span><br></p><p>During central nervous system development, neural stem cells determine which type of neurons to generate according to a pre-set temporal schedule. In the case of the cerebellum, neural progenitors will first differentiate into Purkinje cells. As development proceeds, progenitors gradually lose this potency and switch to generating interneurons. How this occurs was previously unclear.</p><p><span style=\\"font-size: 1.2rem;\\"><a href=\\"https://scholars.croucher.org.hk/scholars/kwan-kin-ming\\">Professor Kin-ming Kwan (Croucher Scholarship 1991)</a> at the Chinese University of Hong Kong</span><span style=\\"font-size: 1.2rem;\\">&nbsp;and his team found the process to be modulated by a signalling factor, bone morphogenetic protein (BMP), with the signalling strength of BMP determining the temporal identity transition of neural progenitors.</span></p><p>Through a mouse model lacking the two essential mediators of BMP signalling, Smad1 and Smad5, the scientists were able to demonstrate that the transition of the progenitor fate specification programme was accelerated, leading to significantly fewer Purkinje cells but notably more interneurons being generated in the cerebellum. </p><p>They also found that the same two mediators can repress downstream gene Gsx1. The expression of this gene is a hallmark for potency restriction. </p><p>To uncover this, the researchers injected the two mediators into the cerebrospinal fluid of mouse embryos, causing a sharp increase of BMP signalling strength in the progenitor pool of the developing cerebellum. The approach was able to stall the restriction of stem cell competence and alter the stoichiometry of specific neuronal subtypes.</p><p>The research was published in <a href=\\"https://www.cell.com/cell-reports/fulltext/S2211-1247(20)30263-1\\">Cell Reports</a>. It could also contribute to the development of novel neurological therapies for diseases such as autism spectrum disorders and hereditary cerebellar ataxia. </p><p>“Our research for the first time shows that, in mammalian brains, the strength of extrinsic signalling factors plays a decisive role in instructing the expression of transcription factors to regulate progenitor fate transition,” Kwan explained. </p><p>“By simply adjusting the strength of certain extrinsic signalling cues, it is already possible to modulate the competence of neural progenitors,” he said. The finding points to the potential in engineering neural progenitors for therapeutic purposes through the manipulation of extrinsic cues. The researchers are now taking a further step to assess this feasibility.</p><p><br></p><p><br></p><p><i>Professor Kin-ming Kwan is Associate Dean (Education), Associate Professor, and Director of the Natural Sciences Programme in the Faculty of Science at the Chinese University of Hong Kong (CUHK). He received undergraduate and doctoral training at the University of Hong Kong, and postdoctoral training at the University of Texas MD Anderson Cancer Center in the United States. He joined CUHK in 2006, where he has been investigating the genetic regulation of neuronal cell development in the cerebellum and its relationship to stem cell renewal and neuronal cell regeneration. He received the CUHK Young Researcher Award in 2008 and CUHK Science Faculty Teaching Award in 2009 and 2013. He was awarded a Croucher Scholarship in 1991. </i></p><p><br></p><p>To view Professor Kwan’s Croucher profile, please click <a href=\\"https://scholars.croucher.org.hk/scholars/kwan-kin-ming\\">here</a>.&nbsp;</p>","byline":null,"summary":"A research team led by Professor Kin-ming Kwan has provided significant new insights for stem cell biology and regeneration of neuronal cells.\\n","excerpt":"A research team led by Professor Kin-ming Kwan has provided significant new insights for stem cell biology and regeneration of neuronal cells.\\nOur brain is built up from tens of billions of neurons. These neurons are categorised into different subtypes, each with unique cellular characteristics and a specialised function. Neurons are differentiated from neural stem cells by undergoing temporal transition of fate specification.During central nervous system development, neural stem cells determine which ty...","terms":null,"home":false,"nav":false,"nav_name":null,"nav_position":718,"created_at":"2020-08-09T18:44:33.000+08:00","updated_at":"2020-08-09T18:44:33.000+08:00","published_at":"2020-07-21T11:48:46.000+08:00","url":"http://pub.croucher.dev/news/uncovering-the-mechanism-for-neural-progenitor-competence-regulation"}}}');var mt=n(9755);function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e){return Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ot(t,e)}function xt(t,e){if(e&&("object"===bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return St(t)}function St(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(t)}var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kt(r);if(o){var n=kt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return xt(this,t)});function s(){var t;wt(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).build=t.build.bind(St(t)),t.publish=t.publish.bind(St(t)),t.publishSucceeded=t.publishSucceeded.bind(St(t)),t.publishFailed=t.publishFailed.bind(St(t)),t.isPublished=t.isPublished.bind(St(t)),t.setPublicationStatus=t.setPublicationStatus.bind(St(t)),t.setSlug=t.setSlug.bind(St(t)),t}return e=s,n=[{key:"build",value:function(){this.terms=new vt,this.on("change:terms",this.getTerms),this.terms.on("add remove reset",this.setTerms.bind(this)),this.on("change:title",this.setSlug.bind(this)),this.on("change:updated_at change:published_at",this.setPublicationStatus.bind(this)),this.on("change:collapsed",this.storeDisplayState.bind(this)),this.setPublicationStatus()}},{key:"load",value:function(){if("sandbox"===this.id){this.log("LOADING SANDBOX PAGE");var t=this.parse(gt);this.set(t),this.loaded(t)}else this._loading||this.isLoaded()||(this._loading=!0,this._loader=this.fetch({error:this.notLoaded}).done(this.loaded));return this._loaded.promise()}},{key:"setSlug",value:function(){var t=this.get("title"),e=this.previous("title"),n=this.get("slug");n?e&&n===x(e)&&this.set("slug",x(t)):this.set("slug",x(t))}},{key:"getTerms",value:function(t,e,n){n.localReset||t.terms.resetFromList(e)}},{key:"setTerms",value:function(){var t=this.terms.termList();this.set("terms",t,{localReset:!0})}},{key:"children",value:function(){return this.collection.where({parent_id:this.id})}},{key:"toggleCollapse",value:function(){this.get("collapsed")?this.uncollapse():this.collapse()}},{key:"collapse",value:function(){this.concealChildren(),this.set("collapsed",!0)}},{key:"uncollapse",value:function(){this.revealChildren(),this.set("collapsed",!1)}},{key:"concealChildren",value:function(){this.children().forEach((function(t){return t.conceal()}))}},{key:"revealChildren",value:function(){this.children().forEach((function(t){return t.reveal()}))}},{key:"storeDisplayState",value:function(){var t=this.id.toString(),e=(localStorage.getItem("collapsed_pages")||"").split(","),n=this.get("collapsed"),r=e.indexOf(t);n&&-1===r?e.push(t):!n&&r>-1&&e.splice(r,1),localStorage.setItem("collapsed_pages",e.join(","))}},{key:"publish",value:function(){var t=this.url(),e=mt.ajax({url:"".concat(t,"/publish"),method:"PUT"});return e.done(this.publishSucceeded).fail(this.publishFailed),e}},{key:"publishSucceeded",value:function(t){var e=this.parse(t);this.set(e),w(y("affirmations.page_published"))}},{key:"publishFailed",value:function(t){this.complain("Error ".concat(t.status,": ").concat(t.responseText))}},{key:"isPublished",value:function(){return!this.get("unpublished")}},{key:"setPublicationStatus",value:function(){this.get("published_at")?(this.set("unpublished",!1),this.set("outofdate",this.get("updated_at")>this.get("published_at"))):(this.set("unpublished",!0),this.set("outofdate",!0))}}],n&&_t(e.prototype,n),s}($);jt.prototype.singularName="page",jt.prototype.pluralName="pages",jt.prototype.savedAttributes=["slug","title","masthead","content","byline","summary","style","private","terms","parent_id","page_collection_id","page_category_id","image_id"],jt.prototype.defaults={busy:!1,style:"heroic",depth:0,populated:!1,parental:!1,collapsed:!1,concealed:!1};const Et=jt;var Rt=n(9050);function Pt(t){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pt(t)}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function At(t,e){return At=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},At(t,e)}function Nt(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Dt(t){return Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Dt(t)}var Bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&At(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dt(r);if(o){var n=Dt(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Nt(this,t)});function s(){return Tt(this,s),i.apply(this,arguments)}return e=s,n=[{key:"rootPage",value:function(){return this.findWhere({home:!0})||this.findWhere({parent_id:null})}},{key:"buildTree",value:function(){var t=this,e={};this.each((function(t){var n=t.get("parent_id")||"none";e[n]||(e[n]=[]),e[n].push(t)}));var n=e.none||[],r=0;n.forEach((function(n){r=t.buildBranch(n,r,0,e)})),this.sort()}},{key:"buildBranch",value:function(t,e,n,r){var o=this,i=e||0,s=n||0;return t.set({position:i,depth:s}),r[t.id]&&Rt.sortBy(r[t.id],(function(t){return t.get("title")})).forEach((function(t){i=o.buildBranch(t,i+1,s+1,r)})),i+1}}],n&&Ct(e.prototype,n),s}(ot);Bt.class_key="pages",Bt.prototype.model=Et,Bt.prototype.singularName="page",Bt.prototype.pluralName="pages",Bt.prototype.comparator="position";const Mt=Bt;function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function It(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){return Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Lt(t,e)}function $t(t,e){if(e&&("object"===Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=qt(e);if(n){var o=qt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return $t(this,t)});function o(){return It(this,o),r.apply(this,arguments)}return o}($);Ht.prototype.singularName="page_category",Ht.prototype.pluralName="page_categories",Ht.prototype.savedAttributes=[];const Ft=Ht;function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wt(t,e){return Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Wt(t,e)}function Gt(t,e){if(e&&("object"===Ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Jt(t){return Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jt(t)}var Kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Jt(e);if(n){var o=Jt(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Gt(this,t)});function o(){return zt(this,o),r.apply(this,arguments)}return o}(ot);Kt.class_key="page_categories",Kt.prototype.model=Ft,Kt.prototype.singularName="page_category",Kt.prototype.pluralName="page_categories";const Xt=Kt;function Yt(t){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yt(t)}function Qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zt(t,e){return Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zt(t,e)}function te(t,e){if(e&&("object"===Yt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ee(t){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ee(t)}var ne=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zt(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ee(e);if(n){var o=ee(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return te(this,t)});function o(){return Qt(this,o),r.apply(this,arguments)}return o}($);ne.prototype.singularName="page_collection",ne.prototype.pluralName="page_collections",ne.prototype.savedAttributes=[];const re=ne;function oe(t){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(t)}function ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function se(t,e){return se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},se(t,e)}function ae(t,e){if(e&&("object"===oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ce(t)}var ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ce(e);if(n){var o=ce(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ae(this,t)});function o(){return ie(this,o),r.apply(this,arguments)}return o}(ot);ue.class_key="page_collections",ue.prototype.model=re,ue.prototype.singularName="page_collection",ue.prototype.pluralName="page_collections";const le=ue;function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function he(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function de(t,e){return de=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},de(t,e)}function ye(t,e){if(e&&("object"===fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ve(t)}function ve(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ge(t){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ge(t)}var me=/^https?:\/\/([\w\-_]+\.)+\w*/i,be=/(jpeg|jpg|gif|png)$/i,we=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&de(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ge(r);if(o){var n=ge(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ye(this,t)});function s(){var t;pe(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).build=t.build.bind(ve(t)),t.resetUploads=t.resetUploads.bind(ve(t)),t.getThumbs=t.getThumbs.bind(ve(t)),t.getAspect=t.getAspect.bind(ve(t)),t.setProgressThumb=t.setProgress.bind(ve(t)),t.isPopulated=t.isPopulated.bind(ve(t)),t.resizeImage=t.resizeImage.bind(ve(t)),t}return e=s,(n=[{key:"build",value:function(){this.on("change:width change:height",this.getAspect),this.getAspect(),this.on("change:file_data",this.getThumbs),this.getThumbs(),this.on("change:progress",this.setProgressThumb),this.checkImportable(),this.on("change:remote_url",this.checkImportable)}},{key:"checkImportable",value:function(){var t=this.get("remote_url");if(!t)return this.set({importable:!1,importmessage:y("validation.url_required")}),!1;if(me.test(t)){if(be.test(t)){var e=y("validation.image_url_ok");return this.set({importable:!0,importmessage:'<a href="'.concat(t,'" class="check" target="_blank">').concat(e,"</a>")}),!0}return this.set({importable:!1,importmessage:y("validation.url_not_img")}),!1}return this.set({importable:!1,importmessage:y("validation.url_required")}),!1}},{key:"resetUploads",value:function(){this.unset("file_data")}},{key:"getThumbs",value:function(){var t=this;this.get("file_data")&&(this._preload_img=document.createElement("img"),this._preload_img.onload=function(){t.set({width:t._preload_img.width,height:t._preload_img.height,preload_url:t.resizeImage(32),thumb_url:t.resizeImage(128)})},this._preload_img.src=this.get("file_data"))}},{key:"setProgressThumb",value:function(){if(this.get("progress")&&this.get("width")){var t=256*Math.pow(this.get("progress"),2);this.set({preload_url:this.resizeImage(t)})}else this.unset("preload_url")}},{key:"getAspect",value:function(){var t=this.get("width"),e=this.get("height");t&&e&&this.set({portrait:e>t,aspect_ratio:t/e})}},{key:"isPopulated",value:function(){return this.has("file_url")||this.has("file_data")}},{key:"resizeImage",value:function(t){var e,n=t||48,r=document.createElement("canvas"),o=this._preload_img;if(o){var i=r.getContext("2d");o.height>o.width?e=n*(o.height/o.width):n=(e=n)*(o.width/o.height),r.width=n,r.height=e,i.drawImage(o,0,0,n,e)}return r.toDataURL("image/png")}}])&&he(e.prototype,n),s}($);we.prototype.singularName="image",we.prototype.pluralName="images",we.prototype.savedAttributes=["title","file_data","file_name","remote_url","width","height"],we.prototype.uploadProgress=!0,we.prototype.defaults={asset_type:"image",importable:!1,populated:!1};const _e=we;function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Se(t,e){return Se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Se(t,e)}function ke(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function je(t){return je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},je(t)}var Ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Se(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=je(e);if(n){var o=je(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ke(this,t)});function o(){return xe(this,o),r.apply(this,arguments)}return o}(ot);Ee.class_key="images",Ee.prototype.model=_e,Ee.prototype.singularName="image",Ee.prototype.pluralName="images";const Re=Ee;function Pe(t){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(t)}function Te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ae(t,e){return Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ae(t,e)}function Ne(t,e){if(e&&("object"===Pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return De(t)}function De(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Be(t){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Be(t)}var Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Be(r);if(o){var n=Be(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ne(this,t)});function s(){var t;Te(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).isPopulated=t.isPopulated.bind(De(t)),t}return e=s,(n=[{key:"isPopulated",value:function(){return this.has("file_url")||this.has("file_data")}}])&&Ce(e.prototype,n),s}($);Me.prototype.singularName="document",Me.prototype.pluralName="documents",Me.prototype.savedAttributes=["title","caption","file_data","file_name","remote_url"],Me.prototype.uploadProgress=!0,Me.prototype.defaults={asset_type:"document",populated:!1};const Ve=Me;function Ie(t){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ie(t)}function Le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $e(t,e){return $e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$e(t,e)}function qe(t,e){if(e&&("object"===Ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function He(t){return He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},He(t)}var Fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=He(e);if(n){var o=He(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return qe(this,t)});function o(){return Le(this,o),r.apply(this,arguments)}return o}(ot);Fe.class_key="documents",Fe.prototype.model=Ve,Fe.prototype.singularName="document",Fe.prototype.pluralName="documents";const Ue=Fe;function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function We(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Je(t,e){return Je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Je(t,e)}function Ke(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xe(t)}function Xe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}var Qe=/^https?:\/\/\w+\.\w*/i,Ze=/(youtube|vimeo|dailymotion|wistia)/i,tn=/^[a-zA-Z0-9_-]{11}$/,en=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Je(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ye(r);if(o){var n=Ye(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ke(this,t)});function s(){var t;We(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).isPopulated=t.isPopulated.bind(Xe(t)),t}return e=s,(n=[{key:"build",value:function(){this.checkImportable(),this.on("change:remote_url",this.checkImportable)}},{key:"isPopulated",value:function(){return this.has("file_url")||this.has("remote_url")||this.has("embed")}},{key:"checkImportable",value:function(){var t=this.get("remote_url");if(!t)return this.set({importable:!1,importmessage:y("validation.url_or_yt_required")}),!1;if(Qe.test(t)&&Ze.test(t)){var e=y("validation.video_url_ok");return this.set({importable:!0,importmessage:'<a href="'.concat(t,'" class="check" target="_blank">').concat(e,"</a>")}),!0}if(11===t.length&&tn.test(t)){var n=y("validation.yt_ok"),r="https://youtu.be/".concat(t);return this.set({importable:!0,importmessage:"".concat(n,' <a href="').concat(r,'" class="check" target="_blank">').concat(r,"</a>")}),!0}return this.set({importable:!1,importmessage:y("validation.url_or_yt_required")}),!1}}])&&Ge(e.prototype,n),s}($);en.prototype.singularName="video",en.prototype.pluralName="videos",en.prototype.savedAttributes=["title","caption","file_data","file_name","file_type","remote_url"],en.prototype.uploadProgress=!0,en.prototype.defaults={asset_type:"video",importable:!1,populated:!1};const nn=en;function rn(t){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(t)}function on(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sn(t,e){return sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},sn(t,e)}function an(t,e){if(e&&("object"===rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function cn(t){return cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cn(t)}var un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sn(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=cn(e);if(n){var o=cn(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return an(this,t)});function o(){return on(this,o),r.apply(this,arguments)}return o}(ot);un.class_key="videos",un.prototype.model=nn,un.prototype.singularName="video",un.prototype.pluralName="videos";const ln=un;var fn={};function pn(t){var e=t.key();return fn[e]||(fn[e]=new t,fn[e].isLibraryCollection=!0),fn[e]}function hn(){return pn(le)}var dn=["[data-cms]",".cms-controls",".cms-embed-controls",".cms-page-controls"],yn=["contenteditable","data-placeholder","data-medium-editor-element","data-medium-editor-editor-index","data-medium-focused","medium-editor-index","role","spellcheck","aria-multiline"],vn=["medium-editor-element","cms-shimmy","animate","cms-page-list"];function gn(t){var e=document.createElement("div");e.append(t.cloneNode(!0));var n=dn.join(", ");e.querySelectorAll(n).forEach((function(t){t.remove()}));var r=yn.map((function(t){return"[".concat(t,"]")})).join(", ");e.querySelectorAll(r).forEach((function(t){yn.forEach((function(e){return t.removeAttribute(e)}))}));var o=vn.map((function(t){return".".concat(t)})).join(", ");return e.querySelectorAll(o).forEach((function(t){vn.forEach((function(e){return t.classList.remove(e)}))})),e.firstChild}function mn(t){return gn(t).outerHTML}function bn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.trim();if(!e)return"";var n=document.createElement("div");return n.innerHTML=e,n.innerText}var wn=n(9050);function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function On(t,e){return jn(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||Sn(t,e)||xn()}function xn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sn(t,e){if(t){if("string"==typeof t)return kn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(t,e):void 0}}function kn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jn(t){if(Array.isArray(t))return t}function En(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pn(t,e){return Pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pn(t,e)}function Tn(t,e){if(e&&("object"===_n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cn(t){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cn(t)}var An=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pn(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cn(r);if(o){var n=Cn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Tn(this,t)});function s(){return En(this,s),i.apply(this,arguments)}return e=s,n=[{key:"onRender",value:function(){this.model&&this.stickit(),this.triggerMethod("after:render",this)}},{key:"_renderHtml",value:function(t,e){return t?wn.isFunction(t)?t(e):t:""}},{key:"contentChange",value:function(){this.trigger("updated")}},{key:"cleanCopy",value:function(){return gn(this.el)}},{key:"cleanCopyIfPopulated",value:function(){return this.isPopulated()?gn(this.el):null}},{key:"isPopulated",value:function(){return this.model&&this.model.get("populated")}},{key:"cleanContent",value:function(){return mn(this.el)}},{key:"textOnly",value:function(t){return bn(t)}},{key:"untrue",value:function(t){return!t}},{key:"ifAbsent",value:function(t){return!t}},{key:"ifPresent",value:function(t){return!!t}},{key:"thisOrThat",value:function(t){var e=On(t,2),n=e[0],r=e[1];return n||r}},{key:"thisAndThat",value:function(t){var e=On(t,2),n=e[0],r=e[1];return n&&!!r}},{key:"thisButNotThat",value:function(t){var e=On(t,2),n=e[0],r=e[1];return n&&!r}},{key:"thatIfThis",value:function(t){var e=On(t,2),n=e[0],r=e[1];return n&&r}},{key:"allOfThese",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!t.find((function(t){return!t}))}},{key:"anyOfThese",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!t.find((function(t){return t}))}},{key:"noneOfThese",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!t.find((function(t){return t}))}},{key:"thisButNotThose",value:function(t){var e,n=jn(e=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||Sn(e)||xn(),r=n[0],o=n.slice(1);return r&&!o.find((function(t){return t}))}},{key:"inBytes",value:function(t){if(t){if(t>1048576){var e=Math.floor(t/10485.76)/100;return"".concat(e,"MB")}var n=Math.floor(t/1024);return"".concat(n,"KB")}return""}},{key:"inPixels",value:function(t){return"".concat(t||0,"px")}},{key:"inTime",value:function(t){if(t){var e=parseInt(t,10);if(e>=3600){var n=Math.floor(e/60);return[Math.floor(n/60),n%60,e%60].join(":")}return[Math.floor(e/60),e%60].join(":")}return"0:00"}},{key:"asPercentage",value:function(t){return"".concat(t||0,"%")}},{key:"percentageStyleWidth",value:function(t){var e=Math.round(1e4*t)/100,n=this.asPercentage(e);return"width: ".concat(n)}},{key:"providerClass",value:function(t){return"YouTube"===t?"yt":""}},{key:"justDate",value:function(t){return t&&t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),null}},{key:"justDateNoYear",value:function(t){return t?t.toLocaleDateString(void 0,{month:"short",day:"numeric"}):null}},{key:"numericalDate",value:function(t){return t?t.toLocaleDateString():null}},{key:"publicationDate",value:function(t){var e=On(t,2),n=e[0],r=e[1],o=n||r;return o?this.justDate(o):null}},{key:"socialSymbolName",value:function(t){return"#".concat(t,"_symbol")}},{key:"visibleWithFade",value:function(t,e){e&&!t.is(":visible")?t.fadeIn():t.is(":visible")&&t.fadeOut()}},{key:"visibleAsBlock",value:function(t,e){e?t.css("display","block"):t.css("display","none")}},{key:"containEvent",value:function(t){t&&(t.stopPropagation(),t.preventDefault())}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];j.apply(void 0,["[".concat(this.constructor.name,"]")].concat(e))}}],n&&Rn(e.prototype,n),s}(p.View);An.prototype.templateContext=d;const Nn=An;function Dn(t){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(t)}function Bn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vn(t,e){return Vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vn(t,e)}function In(t,e){if(e&&("object"===Dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ln(t){return Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ln(t)}var $n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vn(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ln(r);if(o){var n=Ln(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return In(this,t)});function s(){return Bn(this,s),i.apply(this,arguments)}return e=s,n=[{key:"onRender",value:function(){this.model&&this.stickit(),this.triggerMethod("after:render",this)}},{key:"cleanContent",value:function(){return this.cleanCopy().outerHTML}},{key:"cleanCopy",value:function(){return gn(this.el)}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];j.apply(void 0,["[".concat(this.constructor.name,"]")].concat(e))}}],n&&Mn(e.prototype,n),s}(p.CollectionView);$n.prototype.templateContext=d,$n.prototype.tagName="ul";const qn=$n;function Hn(t){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(t)}function Fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zn(t,e){return zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},zn(t,e)}function Wn(t,e){if(e&&("object"===Hn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gn(t)}function Gn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jn(t){return Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Jn(t)}var Kn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zn(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Jn(r);if(o){var n=Jn(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Wn(this,t)});function s(){var t;Fn(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).addEmbed=t.addEmbed.bind(Gn(t)),t.removeEmbed=t.removeEmbed.bind(Gn(t)),t.focus=t.focus.bind(Gn(t)),t}return e=s,n=[{key:"addEmbed",value:function(t){t&&t.preventDefault(),this.collection.add({})}},{key:"removeEmbed",value:function(t){this.collection.remove(t),this.render()}},{key:"replaceEmbed",value:function(t,e){var n=this.collection.indexOf(t.model),r=t.model;e.checkChanges(),this.collection.add(e,{at:n}),this.collection.remove(r),this.contentChange()}},{key:"focus",value:function(){}},{key:"contentChange",value:function(){this.trigger("updated")}}],n&&Un(e.prototype,n),s}(qn);Kn.prototype.tagName="div",Kn.prototype.ui={add:"a.add"},Kn.prototype.events={"click @ui.add":"addEmbed"},Kn.prototype.childViewEvents={updated:"contentChange",removed:"removeEmbed","set:model":"replaceEmbed"};const Xn=Kn;var Yn=n(6944),Qn=n.n(Yn),Zn=n(9755);function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var er=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.el=e.get(0),this.callbacks=n||{},this.holder=e.find(".cms-slide-holder"),this.slides=e.find(".cms-slide"),this.touchstartx=void 0,this.touchmovex=void 0,this.movex=void 0,this.index=0,this.max=0,this.maxDrag=0,this.longTouch=void 0,this.mode="horizontal",this._goToEndOnUpdate=!1,this.init=this.init.bind(this),this.getSlides=this.getSlides.bind(this),this.movePrev=this.movePrev.bind(this),this.moveNext=this.moveNext.bind(this),this.panTo=this.panTo.bind(this),this.setAspect=this.setAspect.bind(this),new ResizeObserver(this.setAspect).observe(this.container.get(0)),new MutationObserver(this.getSlides).observe(this.holder.get(0),{childList:!0})}var e,n;return e=t,(n=[{key:"init",value:function(){this.holder.on("touchstart",this.touchStart.bind(this)),this.holder.on("touchmove",this.touchMove.bind(this)),this.holder.on("touchend",this.touchEnd.bind(this)),this.setAspect(),this.getSlides()}},{key:"getSlides",value:function(){this.slides=this.container.find(".cms-slide"),this.max=this.slides.length-1,this.slideWidth&&(this.maxDrag=this.max*this.slideWidth),this._goToEndOnUpdate&&(this.panTo(this.max),this._goToEndOnUpdate=!1)}},{key:"setAspect",value:function(){var t=this.el.getBoundingClientRect();t.width/t.height<.4?("vertical"!==this.mode&&j("🎪 slideshow goes vertical"),this.mode="vertical",this.el.parentElement.classList.add("vertical")):"vertical"===this.mode&&(this.mode="horizontal",this.el.parentElement.classList.remove("vertical")),this.slideWidth=t.width,this.maxDrag=this.max*this.slideWidth}},{key:"movePrev",value:function(){this.panTo(this.index-1)}},{key:"moveNext",value:function(){this.panTo(this.index+1)}},{key:"moveToEndWhenUpdated",value:function(){this._goToEndOnUpdate=!0}},{key:"panTo",value:function(t){t>=0&&t<=this.max&&(this.holder.addClass("animate").css("transform","translate3d(-".concat(t*this.slideWidth,"px,0,0)")),this.index=t,this.callbacks.onMove&&this.callbacks.onMove(this.index))}},{key:"revert",value:function(){this.panTo(this.index)}},{key:"reset",value:function(){this.panTo(0)}},{key:"touchStart",value:function(t){var e=this;this.longTouch=!1,setTimeout(function(){e.longTouch=!0}.bind(this),250),this.touchstartx=t.originalEvent.touches[0].pageX,Zn(".bump").removeClass("bump right left"),Zn(".animate").removeClass("animate")}},{key:"touchMove",value:function(t){this.touchmovex=t.originalEvent.touches[0].pageX,this.movex=this.index*this.slideWidth+(this.touchstartx-this.touchmovex),this.movex<0?this.movex=-2*Math.sqrt(Math.abs(this.movex)):this.movex>this.maxDrag&&(this.movex=this.maxDrag+2*Math.sqrt(Math.abs(this.movex-this.maxDrag))),this.holder.css("transform","translate3d(".concat(-this.movex,"px,0,0)"))}},{key:"touchEnd",value:function(){var t,e=Math.abs(this.index*this.slideWidth-this.movex)>this.slideWidth/3||!1===this.longTouch;t=this.movex>this.index*this.slideWidth?"right":this.movex<this.index*this.slideWidth?"left":"unmoved",e&&"right"===t&&this.index<this.max?this.moveNext():e&&"left"===t&&this.index>0?this.movePrev():this.revert()}}])&&tr(e.prototype,n),t}();function nr(t){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(t)}function rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function or(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ir(t,e){return ir=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ir(t,e)}function sr(t,e){if(e&&("object"===nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ar(t)}function ar(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cr(t){return cr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cr(t)}var ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ir(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=cr(r);if(o){var n=cr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return sr(this,t)});function s(){var t;rr(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onAfterRender=t.onAfterRender.bind(ar(t)),t.focus=t.focus.bind(ar(t)),t.setModel=t.setModel.bind(ar(t)),t.onSetModel=t.onSetModel.bind(ar(t)),t.isPopulated=t.isPopulated.bind(ar(t)),t}return e=s,n=[{key:"onAfterRender",value:function(){var t=this,e=this.getOption("controlView");e&&(this.controlView=new e({model:this.model}),this.showChildView("controls",this.controlView),this.controlView.on("replaced",(function(e){return t.setModel(e)})),this.controlView.on("removed",(function(){return t.removeModel()})),this.isPopulated()||this.controlView.open())}},{key:"focus",value:function(){}},{key:"setModel",value:function(t){this.model!==t&&this.triggerMethod("set:model",this,t)}},{key:"onSetModel",value:function(t,e){this.model=e,this.controlView&&this.controlView.reset(),this.stickit()}},{key:"removeModel",value:function(){this.trigger("removed",this.model)}},{key:"isSaved",value:function(){return this.model&&!this.model.isNew()}},{key:"cleanContent",value:function(){return this.isPopulated()?this.cleanCopy().outerHTML:""}}],n&&or(e.prototype,n),s}(Nn);ur.prototype.tagName="figure",ur.prototype.regions={controls:".cms-embed-controls"};const lr=ur;var fr=n(8922),pr=n.n(fr);function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}function dr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e){return vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vr(t,e)}function gr(t,e){if(e&&("object"===hr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mr(t)}function mr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function br(t){return br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},br(t)}var wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=br(r);if(o){var n=br(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return gr(this,t)});function s(){var t;dr(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).initialize=t.initialize.bind(mr(t)),t.place=t.place.bind(mr(t)),t.onAfterRender=t.onAfterRender.bind(mr(t)),t}return e=s,(n=[{key:"onAfterRender",value:function(){var t=this.getOption("contentView");t&&this.showChildView("content",new t({model:this.model}))}},{key:"toggle",value:function(t){t&&t.preventDefault(),this.showing()?this.close():this.open()}},{key:"showing",value:function(){return this.$el.hasClass("open")}},{key:"open",value:function(){this.el.classList.add("open"),window.ub=this.ui.body,this.ui.body.slideDown(),this.triggerMethod("open")}},{key:"close",value:function(){this.$el.removeClass("open"),this.triggerMethod("close")}},{key:"place",value:function(){var t=this.ui.head.position(),e=this.ui.head.width(),n=t.left+e/2,r=t.top+e/2;this.ui.body.css({top:r,left:n})}}])&&yr(e.prototype,n),s}(Nn);wr.prototype.className="div",wr.prototype.className="cms-menu",wr.prototype.regions={content:".cms-menu-content"},wr.prototype.ui={head:".cms-menu-head",body:".cms-menu-body",close:"a.close"},wr.prototype.events={"click @ui.head":"toggle","click @ui.close":"close"};const _r=wr;var Or=n(639),xr=n.n(Or);function Sr(t){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(t)}function kr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Er(t,e){return Er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Er(t,e)}function Rr(t,e){if(e&&("object"===Sr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pr(t){return Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pr(t)}var Tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Er(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pr(r);if(o){var n=Pr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Rr(this,t)});function s(){return kr(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"onAfterRender",value:function(){var t=this.model.singularName;this.ui.symbol.attr("href","/spritemap.svg#sprite-".concat(t,"_button")),this.ui.icon.addClass(t)}},{key:"styleWidth",value:function(t){return"width: ".concat(100*t,"%")}},{key:"cancelUpload",value:function(t){t&&t.preventDefault(),this.model.cancelSave()}},{key:"progressComplete",value:function(t){return t&&t>=.999}},{key:"progressIncomplete",value:function(t){return t&&t<.999}}])&&jr(e.prototype,n),s}(Nn);Tr.prototype.template=xr(),Tr.prototype.tagName="div",Tr.prototype.ui={icon:"svg.file",symbol:"svg.file use"},Tr.prototype.events={"click a.cancel":"cancelUpload"},Tr.prototype.bindings={"span.job_status":"status","span.percentage":"progress","span.file_name":"file_name","span.bar":{attributes:[{name:"style",observe:"progress",onGet:"styleWidth"}]},".uploading":{observe:"progress",visible:"progressIncomplete"},".uploaded":{observe:"progress",visible:"progressComplete"}};const Cr=Tr;function Ar(t,e){if(t){var n=new FileReader;n.onloadend=function(){return e(n.result,t)},n.readAsDataURL(t)}}function Nr(t){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(t)}function Dr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mr(t,e){return Mr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Mr(t,e)}function Vr(t,e){if(e&&("object"===Nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ir(t)}function Ir(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lr(t){return Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lr(t)}var $r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lr(r);if(o){var n=Lr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Vr(this,t)});function s(){var t;Dr(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).initialize=t.initialize.bind(Ir(t)),t.reset=t.reset.bind(Ir(t)),t.onAfterRender=t.onAfterRender.bind(Ir(t)),t.showImporter=t.showImporter.bind(Ir(t)),t.showReuser=t.showReuser.bind(Ir(t)),t.showActionView=t.showActionView.bind(Ir(t)),t.showOptions=t.showOptions.bind(Ir(t)),t.enableOptions=t.enableOptions.bind(Ir(t)),t.selectedModel=t.selectedModel.bind(Ir(t)),t.createdModel=t.createdModel.bind(Ir(t)),t.replacedModel=t.replacedModel.bind(Ir(t)),t.filePicked=t.filePicked.bind(Ir(t)),t.observeDrops=t.observeDrops.bind(Ir(t)),t.ignoreDrops=t.ignoreDrops.bind(Ir(t)),t.expectDrop=t.expectDrop.bind(Ir(t)),t.stopExpectingDrop=t.stopExpectingDrop.bind(Ir(t)),t.fileDropped=t.fileDropped.bind(Ir(t)),t.buildModel=t.buildModel.bind(Ir(t)),t}return e=s,n=[{key:"initialize",value:function(){this.collection=this.getCollection(),this.collection.on("add remove reset",this.enableOptions.bind(this)),this.collection.load()}},{key:"getCollection",value:function(){}},{key:"reset",value:function(){this.showOptions(),this.close()}},{key:"onAfterRender",value:function(){this.enableOptions(),this.observeDrops()}},{key:"showImporter",value:function(t){t&&t.preventDefault(),this.showActionView(this.importView)}},{key:"showReuser",value:function(t){t&&t.preventDefault(),this.showActionView(this.reuseView)}},{key:"showActionView",value:function(t){if(t){var e=new t({collection:this.collection});this.showChildView("action",e),this.ui.options.hide(),this.ui.action.show(),e.on("selected",this.selectedModel),e.on("created",this.createdModel),e.on("replaced",this.replacedModel)}}},{key:"showOptions",value:function(t){t&&t.preventDefault(),this.getRegion("action").reset(),this.getRegion("progress").reset(),this.ui.options.show(),this.ui.action.hide(),this.enableOptions()}},{key:"showProgress",value:function(){this.ui.options.hide(),this.ui.action.hide(),this.showChildView("progress",new Cr({model:this.model}))}},{key:"enableOptions",value:function(){this.isDestroyed()||(this.ui.picker&&(this.collection&&this.collection.length?this.ui.picker.removeClass("unavailable"):this.ui.picker.addClass("unavailable")),this.ui.remover&&(this.isPopulated()?this.ui.remover.removeClass("unavailable"):this.ui.remover.addClass("unavailable")))}},{key:"selectedModel",value:function(t){this._original_model=this.model,this.model=t}},{key:"createdModel",value:function(t){this.model=t,this.trigger("replaced",t)}},{key:"replacedModel",value:function(t){this.model=t,this.trigger("replaced",t)}},{key:"focus",value:function(){this.open()}},{key:"onOpen",value:function(){}},{key:"observeDrops",value:function(){this.$el.on("dragenter",this.expectDrop)}},{key:"ignoreDrops",value:function(){this.$el.off("dragenter",this.expectDrop)}},{key:"expectDrop",value:function(){this.$el.addClass("over"),this.$el.on("dragleave",this.stopExpectingDrop),this.$el.on("dragover",this.enhanceDragAndDropStupidLevel),this.$el.on("drop",this.fileDropped)}},{key:"stopExpectingDrop",value:function(){this.$el.removeClass("over"),this.$el.off("dragleave",this.abandonDrop),this.$el.off("dragover",this.enhanceDragAndDropStupidLevel),this.$el.off("drop",this.fileDropped)}},{key:"enhanceDragAndDropStupidLevel",value:function(t){t&&(t.preventDefault(),t.originalEvent&&t.originalEvent.dataTransfer&&(t.originalEvent.dataTransfer.dropEffect="copy"))}},{key:"fileDropped",value:function(t){t&&(t.preventDefault(),t.stopPropagation(),function(t,e){t&&t.dataTransfer&&t.dataTransfer.files.length&&Ar(t.dataTransfer.files[0],e)}(t.originalEvent,this.buildModel)),this.stopExpectingDrop()}},{key:"filePicked",value:function(){var t,e;t=this.ui.file[0],e=this.buildModel,Ar(t.files[0],e)}},{key:"buildModel",value:function(t,e){var n=this,r=this.attributesFromFile(e);r.file_data=t;var o=this.collection.add(r,{at:0});o.isValid()?(this.selectedModel(o),this.showProgress(),this.model.save().done((function(){n.createdModel(o)})).fail((function(){n._original_model&&(n.model=n._original_model),o.discard(),n.showOptions()}))):(o.discard(),_(o.get("invalidity")))}},{key:"attributesFromFile",value:function(t){return{file_name:t.name}}},{key:"removeWithConfirmation",value:function(t){t&&t.preventDefault(),this.trigger("removed")}},{key:"reportClick",value:function(t){this.log("label click",t.target,t.currentTarget)}}],n&&Br(e.prototype,n),s}(_r);$r.prototype.tagName="div",$r.prototype.className="cms-chooser",$r.prototype.ui={head:".cms-chooser-head",prompt:".cms-chooser-prompt",body:".cms-chooser-body",close:"a.close",options:".options",importer:"a.import",picker:"a.reuse",remover:"a.remove",file:"input.upload",action:".action"},$r.prototype.events={"click label":"reportClick","click @ui.head":"toggle","click @ui.prompt":"open","click @ui.close":"close","click @ui.importer":"showImporter","click @ui.picker":"showReuser","click @ui.remover":"removeWithConfirmation","click a.back":"showOptions","change @ui.file":"filePicked"},$r.prototype.regions={action:".action",progress:".progress"};const qr=$r;var Hr=n(2288),Fr=n.n(Hr);function Ur(t){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(t)}function zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gr(t,e){return Gr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Gr(t,e)}function Jr(t,e){if(e&&("object"===Ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kr(t)}function Kr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xr(t){return Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xr(t)}var Yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gr(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Xr(r);if(o){var n=Xr(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Jr(this,t)});function s(){var t;zr(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).importModel=t.importModel.bind(Kr(t)),t.disableForm=t.disableForm.bind(Kr(t)),t}return e=s,(n=[{key:"onBeforeRender",value:function(){var t=this.modelClass;t&&(this.model=new t)}},{key:"importModel",value:function(){var t=this;this.model.get("importable")&&(this.disableForm(),this.model.save().done((function(){return t.trigger("created",t.model)})))}},{key:"disableForm",value:function(){this.ui.url.attr("disabled",!0),this.ui.button.addClass("waiting")}}])&&Wr(e.prototype,n),s}(Nn);Yr.prototype.tagName="div",Yr.prototype.className="cms-importer",Yr.prototype.ui={url:'input[name="remote_url"]',button:"a.submit",waiter:"p.waiter"},Yr.prototype.events={"click @ui.button":"importModel"},Yr.prototype.bindings={'input[name="remote_url"]':{observe:"remote_url"},".url_check":{observe:"importmessage",updateMethod:"html"},"a.submit":{classes:{available:"importable"}}};const Qr=Yr;var Zr=n(3172),to=n.n(Zr);function eo(t){return eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(t)}function no(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ro(t,e){return ro=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ro(t,e)}function oo(t,e){if(e&&("object"===eo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function io(t){return io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},io(t)}var so=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ro(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=io(e);if(n){var o=io(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return oo(this,t)});function o(){return no(this,o),r.apply(this,arguments)}return o}(Qr);so.prototype.modelClass=_e,so.prototype.template=to();const ao=so;function co(t){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(t)}function uo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fo(t,e){return fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fo(t,e)}function po(t,e){if(e&&("object"===co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ho(t){return ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ho(t)}var yo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fo(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ho(r);if(o){var n=ho(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return po(this,t)});function s(){return uo(this,s),i.apply(this,arguments)}return e=s,n=[{key:"viewFilter",value:function(t){return t.model&&!t.model.isNew()}},{key:"selectChild",value:function(t){this.trigger("select",t)}}],n&&lo(e.prototype,n),s}(qn);yo.prototype.tagName="ul",yo.prototype.className="cms-assets",yo.prototype.childViewEvents={select:"selectChild"};const vo=yo;function go(t){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(t)}function mo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wo(t,e){return wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wo(t,e)}function _o(t,e){if(e&&("object"===go(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Oo(t)}function Oo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xo(t){return xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xo(t)}var So=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wo(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xo(r);if(o){var n=xo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _o(this,t)});function s(){var t;mo(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onRender=t.onRender.bind(Oo(t)),t.unfilterCollection=t.unfilterCollection.bind(Oo(t)),t.selectModel=t.selectModel.bind(Oo(t)),t}return e=s,n=[{key:"initialize",value:function(){this.model=this.collection.getState()}},{key:"onRender",value:function(){this.stickit();var t=this.getOption("listView");if(t){var e=new t({collection:this.collection});this.showChildView("list",e),e.on("select",this.selectModel.bind(this))}}},{key:"unfilterCollection",value:function(t){t&&t.preventDefault(),this.model.set("q","")}},{key:"selectModel",value:function(t){this.trigger("replaced",t)}}],n&&bo(e.prototype,n),s}(Nn);So.prototype.tagName="div",So.prototype.className="cms-picker",So.prototype.listView=vo,So.prototype.regions={list:".pick"},So.prototype.ui={q:"input.q",filter:"a.filter",reset:"a.reset",close:"a.close"},So.prototype.events={"click @ui.filter":"filterCollection","click @ui.reset":"unfilterCollection","click @ui.close":"close"},So.prototype.bindings={"input.q":"q","a.filter":{observe:"q",visible:"untrue"},"a.reset":{observe:"q",visible:!0}};const ko=So;var jo=n(6662),Eo=n.n(jo);function Ro(t){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(t)}function Po(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function To(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Co(t,e){return Co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Co(t,e)}function Ao(t,e){if(e&&("object"===Ro(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return No(t)}function No(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Do(t){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Do(t)}var Bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Co(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Do(r);if(o){var n=Do(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ao(this,t)});function s(){var t;Po(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).deleteModel=t.deleteModel.bind(No(t)),t.selectMe=t.selectMe.bind(No(t)),t.backgroundUrl=t.backgroundUrl.bind(No(t)),t}return e=s,(n=[{key:"deleteModel",value:function(t){null!=t&&t.preventDefault(),this.model.remove()}},{key:"selectMe",value:function(t){t&&t.preventDefault(),this.trigger("select",this.model)}},{key:"backgroundUrl",value:function(t){return t?"background-image: url('".concat(t,"')"):""}}])&&To(e.prototype,n),s}(Nn);Bo.prototype.tagName="li",Bo.prototype.className="asset",Bo.prototype.ui={img:"img"},Bo.prototype.events={"click a.delete":"deleteModel","click a.pickme":"selectMe"},Bo.prototype.bindings={"a.preview":{attributes:[{name:"style",observe:"thumb_url",onGet:"backgroundUrl"},{name:"class",observe:"provider",onGet:"providerClass"},{name:"title",observe:"title"}]},".file_size":{observe:"file_size",onGet:"inBytes"},".width":{observe:"width",onGet:"inPixels"},".height":{observe:"height",onGet:"inPixels"},".duration":{observe:"duration",onGet:"inTime"}};const Mo=Bo;var Vo=n(6302),Io=n.n(Vo);function Lo(t){return Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(t)}function $o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ho(t,e){return Ho=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ho(t,e)}function Fo(t,e){if(e&&("object"===Lo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Uo(t){return Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uo(t)}var zo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ho(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Uo(r);if(o){var n=Uo(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Fo(this,t)});function s(){return $o(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"styleBackgroundImage",value:function(t){return t?"background-image: url('".concat(t,"')"):""}}])&&qo(e.prototype,n),s}(Mo);zo.prototype.template=Io(),zo.prototype.tagName="li",zo.prototype.className="img asset",zo.prototype.triggers={"click a.pickme":"pick"},zo.prototype.bindings={"a.thumbnail":{attributes:[{name:"style",observe:"thumb_url",onGet:"styleBackgroundImage"},{name:"title",observe:"title"}]}};const Wo=zo;var Go=n(275),Jo=n.n(Go);function Ko(t){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(t)}function Xo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yo(t,e){return Yo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Yo(t,e)}function Qo(t,e){if(e&&("object"===Ko(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Zo(t){return Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zo(t)}var ti=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yo(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Zo(e);if(n){var o=Zo(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Qo(this,t)});function o(){return Xo(this,o),r.apply(this,arguments)}return o}(p.View);ti.prototype.template=Jo(),ti.prototype.templateContext=d,ti.prototype.className="item none";const ei=ti;var ni=n(8461),ri=n.n(ni);function oi(t){return oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(t)}function ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function si(t,e){return si=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},si(t,e)}function ai(t,e){if(e&&("object"===oi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ci(t){return ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ci(t)}var ui=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&si(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ci(e);if(n){var o=ci(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ai(this,t)});function o(){return ii(this,o),r.apply(this,arguments)}return o}(ei);ui.prototype.template=ri();const li=ui;function fi(t){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi(t)}function pi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hi(t,e){return hi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},hi(t,e)}function di(t,e){if(e&&("object"===fi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function yi(t){return yi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yi(t)}var vi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hi(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=yi(e);if(n){var o=yi(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return di(this,t)});function o(){return pi(this,o),r.apply(this,arguments)}return o}(li);const gi=vi;function mi(t){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(t)}function bi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wi(t,e){return wi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wi(t,e)}function _i(t,e){if(e&&("object"===mi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Oi(t){return Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Oi(t)}var xi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wi(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Oi(e);if(n){var o=Oi(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return _i(this,t)});function o(){return bi(this,o),r.apply(this,arguments)}return o}(vo);xi.prototype.childView=Wo,xi.prototype.emptyView=gi;const Si=xi;function ki(t){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki(t)}function ji(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ei(t,e){return Ei=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ei(t,e)}function Ri(t,e){if(e&&("object"===ki(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pi(t){return Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pi(t)}var Ti=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ei(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Pi(e);if(n){var o=Pi(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ri(this,t)});function o(){return ji(this,o),r.apply(this,arguments)}return o}(ko);Ti.prototype.listView=Si,Ti.prototype.template=Eo();const Ci=Ti;function Ai(t){return Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ai(t)}function Ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bi(t,e){return Bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Bi(t,e)}function Mi(t,e){if(e&&("object"===Ai(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Vi(t){return Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vi(t)}var Ii=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bi(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vi(r);if(o){var n=Vi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Mi(this,t)});function s(){return Ni(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getCollection",value:function(){return pn(Re)}}])&&Di(e.prototype,n),s}(qr);Ii.prototype.importView=ao,Ii.prototype.reuseView=Ci,Ii.prototype.template=Fr();const Li=Ii;function $i(t){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(t)}function qi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fi(t,e){return Fi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Fi(t,e)}function Ui(t,e){if(e&&("object"===$i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function zi(t){return zi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zi(t)}var Wi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fi(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=zi(r);if(o){var n=zi(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ui(this,t)});function s(){return qi(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"setWidth",value:function(t){var e=t||100/this.model.collection.size();this.el.style.width="".concat(e,"%")}},{key:"styleOpacity",value:function(t){return t?"opacity: ".concat(t):"opacity: 0"}},{key:"onSetModel",value:function(){}}])&&Hi(e.prototype,n),s}(lr);Wi.prototype.controlView=Li,Wi.prototype.template=pr(),Wi.prototype.tagName="figure",Wi.prototype.className="image cms-slide",Wi.prototype.bindings={":el":{attributes:[{name:"data-image",observe:"id"}]},"img.image":{attributes:[{name:"src",observe:"file_url"}]},figcaption:{observe:"caption"},"img.preview":{classes:{uploaded:"file_url"},attributes:[{name:"src",observe:"preload_url"},{name:"style",observe:"progress",onGet:"styleOpacity"}]}};const Gi=Wi;function Ji(t){return Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(t)}function Ki(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Xi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xi(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zi(t,e){return Zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zi(t,e)}function ts(t,e){if(e&&("object"===Ji(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return es(t)}function es(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ns(t){return ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(t)}var rs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zi(t,e)}(a,t);var e,n,o,i,s=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ns(o);if(i){var n=ns(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ts(this,t)});function a(){var t;Yi(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=s.call.apply(s,[this].concat(n))).initialize=t.initialize.bind(es(t)),t.onBeforeRender=t.onBeforeRender.bind(es(t)),t.onAfterRender=t.onAfterRender.bind(es(t)),t.setDimensions=t.setDimensions.bind(es(t)),t.addEmbed=t.addEmbed.bind(es(t)),t.checkCollection=t.checkCollection.bind(es(t)),t}return e=a,(n=[{key:"initialize",value:function(){this.collection=new Re,this.collection.on("add remove reset destroy change:caption change:populated",this.checkCollection.bind(this)),this.collection.on("change:caption",this.contentChange.bind(this)),this.content=this.getOption("content"),this.state=new r.Model({position:0})}},{key:"onBeforeRender",value:function(){this.captureImages()}},{key:"captureImages",value:function(){var t=this;this.content&&(this.content.dataset&&this.content.dataset.image&&this.captureImageFrom(this.content),this.content.querySelectorAll("[data-image]").forEach((function(e){return t.captureImageFrom(e)})))}},{key:"captureImageFrom",value:function(t){if(t.dataset&&t.dataset.image){var e={id:t.dataset.image},n=t.querySelector('img:not([src=""])');n&&n.src&&(e.file_url=n.src,e.populated=!0);var r=t.querySelector("figcaption");r&&(e.caption=r.innerHTML),this.collection.add(e)}}},{key:"onRender",value:function(){this.stickit(this.state,{"a.next":{observe:["position","total"],visible:"unlessLast"},"a.prev":{observe:"position",visible:"unlessFirst"},"a.add":{classes:{up:{observe:["position","total","populated"],onGet:"ifLastAndPopulated"}}}}),this.triggerMethod("after:render",this),window.eiv||(window.eiv=this)}},{key:"onAfterRender",value:function(){var t,e;this.checkCollection(),this.setDimensions(),this.collection.on("add remove reset",this.setDimensions),this._slider=(t=this.ui.slider,e={onMove:this.sliderMoved.bind(this)},t.slideshow?t.slideshow.refresh():(t.slideshow=new er(t,e),t.slideshow.init()),t.slideshow),this.el.classList.add("cms-shimmy")}},{key:"setDimensions",value:function(){var t=this.collection.size();this.state.set("total",t);var e=100*t;this.ui.holder.css("width","".concat(e,"%"))}},{key:"addEmbed",value:function(t){t&&t.preventDefault(),this.collection.add({}),this._slider&&this._slider.moveToEndWhenUpdated()}},{key:"ifLast",value:function(t){var e=Ki(t,2);return e[0]===e[1]-1}},{key:"ifLastAndPopulated",value:function(t){var e=Ki(t,3),n=e[0],r=e[1];return e[2]&&n===r-1}},{key:"unlessLast",value:function(t){var e=Ki(t,2);return e[0]!==e[1]-1}},{key:"ifFirst",value:function(t){return 0===t}},{key:"unlessFirst",value:function(t){return 0!==t}},{key:"moveNext",value:function(t){t&&t.preventDefault(),this._slider&&this._slider.moveNext()}},{key:"movePrev",value:function(t){t&&t.preventDefault(),this._slider&&this._slider.movePrev()}},{key:"sliderMoved",value:function(t){this.state.set("position",t)}},{key:"resetSlider",value:function(){this._slider&&this._slider.reset()}},{key:"checkCollection",value:function(){this.collection.length||(this.collection.add({}),this.state.set({position:0}));var t=this.collection.find({populated:!1});this.state.set({populated:!t})}},{key:"cleanContent",value:function(){var t=this.collection.select((function(t){return t.isPopulated()})).length;if(t){var e=this.cleanCopy();e.querySelectorAll("a.slider-control").forEach((function(t){t.removeAttribute("style")})),e.querySelectorAll("figure.image:not([data-image])").forEach((function(t){t.remove()}));var n=e.querySelector(".cms-slide-holder");return n&&(n.style.transform="",n.style.width="".concat(100*t,"%")),e.outerHTML}return""}}])&&Qi(e.prototype,n),a}(Xn);rs.prototype.template=Qn(),rs.prototype.tagName="div",rs.prototype.className="images cms-slides",rs.prototype.childView=Gi,rs.prototype.childViewContainer=".collection",rs.prototype.ui={add:"a.add",prev:"a.prev",next:"a.next",slider:".cms-slider",holder:".cms-slide-holder",slides:"figure.image"},rs.prototype.events={"click a.add":"addEmbed","click a.prev":"movePrev","click a.next":"moveNext"};const os=rs;function is(t){return is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(t)}function ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function as(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cs(t,e){return cs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},cs(t,e)}function us(t,e){if(e&&("object"===is(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ls(t){return ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ls(t)}var fs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cs(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ls(r);if(o){var n=ls(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return us(this,t)});function s(){return ss(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"onBeforeRender",value:function(){if(this.model.get("masthead")){var t=document.createElement("template");t.innerHTML=this.model.get("masthead"),this.content=t.content,this.captureImages()}if(!this.model.get("image_id")){var e=this.collection.first();e&&this.model.set("image_id",e.id)}}},{key:"contentChange",value:function(){this.model.set("masthead",this.cleanContent());var t=this.collection.first();t&&this.model.set("image_id",t.id),this.log("🌈 page image_id",this.model.get("image_id"))}}])&&as(e.prototype,n),s}(os);const ps=fs;var hs=n(3451),ds=n.n(hs),ys=n(9793),vs=n.n(ys);function gs(t){return gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(t)}function ms(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bs(t,e){return bs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},bs(t,e)}function ws(t,e){if(e&&("object"===gs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _s(t){return _s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_s(t)}var Os=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bs(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=_s(e);if(n){var o=_s(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ws(this,t)});function o(){return ms(this,o),r.apply(this,arguments)}return o}(Cr);Os.prototype.template=vs(),Os.prototype.tagName="li",Os.prototype.className="progress";const xs=Os;function Ss(t){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(t)}function ks(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function js(t,e){return js=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},js(t,e)}function Es(t,e){if(e&&("object"===Ss(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Rs(t){return Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rs(t)}var Ps=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&js(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Rs(e);if(n){var o=Rs(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Es(this,t)});function o(){return ks(this,o),r.apply(this,arguments)}return o}(p.CollectionView);Ps.prototype.childView=xs,Ps.prototype.tagName="ul",Ps.prototype.className="progresses";const Ts=Ps;var Cs=n(1997),As=n.n(Cs);function Ns(t){return Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(t)}function Ds(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ms(t,e){return Ms=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ms(t,e)}function Vs(t,e){if(e&&("object"===Ns(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Is(t)}function Is(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ls(t){return Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ls(t)}var $s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ms(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ls(r);if(o){var n=Ls(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Vs(this,t)});function s(){var t;Ds(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).saveAction=t.saveAction.bind(Is(t)),t.publishAction=t.publishAction.bind(Is(t)),t}return e=s,(n=[{key:"onAfterRender",value:function(){this.showChildView("progress",new Ts({collection:E}))}},{key:"saveAction",value:function(t){var e=this;t&&t.preventDefault(),this.ui.save.addClass("waiting"),this.model.save().done((function(){return e.ui.save.removeClass("waiting")}))}},{key:"publishAction",value:function(t){var e=this;t&&t.preventDefault(),this.ui.publish.addClass("waiting"),this.model.publish().done((function(){return e.ui.publish.removeClass("waiting")}))}}])&&Bs(e.prototype,n),s}(Nn);$s.prototype.template=As(),$s.prototype.regions={progress:".progress"},$s.prototype.ui={save:"a.save",publish:"a.publish",view:"a.view"},$s.prototype.events={"click @ui.save":"saveAction","click @ui.publish":"publishAction"},$s.prototype.bindings={"a.save":{classes:{available:{observe:["changed","busy"],onGet:"thisButNotThat"}}},"a.publish":{classes:{available:{observe:["outofdate","changed","busy"],onGet:"thisButNotThose"}}},"a.view":{classes:{available:"url"},attributes:[{name:"href",observe:"url"}]}};const qs=$s;function Hs(t){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(t)}function Fs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Us(t,e){return Us=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Us(t,e)}function zs(t,e){if(e&&("object"===Hs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ws(t){return Ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ws(t)}var Gs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Us(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Ws(e);if(n){var o=Ws(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return zs(this,t)});function o(){return Fs(this,o),r.apply(this,arguments)}return o}(_r);Gs.prototype.className="cms-menu page-control",Gs.prototype.template=ds(),Gs.prototype.contentView=qs,Gs.prototype.bindings={":el":{classes:{busy:"busy",saveable:{observe:["changed","busy"],onGet:"thisButNotThat"},publishable:{observe:["outofdate","changed"],onGet:"thisButNotThat"}}}};const Js=Gs;var Ks=n(5426),Xs=n.n(Ks),Ys=n(3101),Qs=n.n(Ys);function Zs(t){return Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zs(t)}function ta(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ea(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function na(t,e){return na=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},na(t,e)}function ra(t,e){if(e&&("object"===Zs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oa(t)}function oa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ia(t){return ia=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ia(t)}var sa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&na(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ia(r);if(o){var n=ia(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ra(this,t)});function s(){var t;ta(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onRender=t.onRender.bind(oa(t)),t.getApp=t.getApp.bind(oa(t)),t.getOptionValue=t.getOptionValue.bind(oa(t)),t.getOptionText=t.getOptionText.bind(oa(t)),t}return e=s,(n=[{key:"initialize",value:function(){this._holder=this.getOption("holder"),this._attribute=this.getOption("attribute")}},{key:"onRender",value:function(){var t=this.getOptionText(),e=this.getOptionValue();this._holder.get(this._attribute)===e?this.$el.attr("selected","selected"):this._holder.get(this._attribute)||e?this.el.removeAttribute("selected"):this.$el.attr("selected","selected"),this.el.value=e,this.el.innerText=t||""}},{key:"getApp",value:function(){return this._holder.getApp()}},{key:"getOptionValue",value:function(){var t=this.model.get("id");return t?parseInt(t,10):""}},{key:"getOptionText",value:function(){return this.model.get("title")||this.model.get("name")}}])&&ea(e.prototype,n),s}(Nn);sa.prototype.tagName="option";const aa=sa;function ca(t){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(t)}function ua(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function la(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fa(t,e){return fa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fa(t,e)}function pa(t,e){if(e&&("object"===ca(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ha(t)}function ha(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function da(t){return da=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},da(t)}var ya=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fa(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=da(r);if(o){var n=da(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return pa(this,t)});function s(){var t;ua(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onRender=t.onRender.bind(ha(t)),t}return e=s,(n=[{key:"initialize",value:function(){this._attribute_name=this.getOption("attributeName")}},{key:"onRender",value:function(){this._attribute_name&&this.$el.val("").text("No ".concat(this._attribute_name))}}])&&la(e.prototype,n),s}(ei);ya.prototype.tagName="option";const va=ya;function ga(t){return ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(t)}function ma(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ba(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wa(t,e){return wa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wa(t,e)}function _a(t,e){if(e&&("object"===ga(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Oa(t)}function Oa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xa(t){return xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xa(t)}var Sa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wa(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xa(r);if(o){var n=xa(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _a(this,t)});function s(){var t;ma(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).childViewOptions=t.childViewOptions.bind(Oa(t)),t.setSelection=t.setSelection.bind(Oa(t)),t.onAfterRender=t.onAfterRender.bind(Oa(t)),t}return e=s,n=[{key:"initialize",value:function(){this._attribute=this.getOption("attribute"),this._allow_blank=this.getOption("allowBlank")}},{key:"onAfterRender",value:function(){var t=this;this.collection.loadAnd((function(){t._allow_blank&&t.collection.add({title:""},{at:0}),t.model.get(t._attribute)||t.setSelection()}))}},{key:"childViewOptions",value:function(t){return{model:t,holder:this.model,attribute:this._attribute}}},{key:"setSelection",value:function(){var t=this.$el.val();t&&this.model.set(this._attribute,parseInt(t,10)),this._allow_blank?this.model.set(this._attribute,null):this.model.set(this._attribute,this.collection.first())}}],n&&ba(e.prototype,n),s}(qn);Sa.prototype.tagName="select",Sa.prototype.childView=aa,Sa.prototype.emptyView=va,Sa.prototype.events={change:"setSelection"};const ka=Sa;var ja=n(7246),Ea=n.n(ja);function Ra(t){return Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(t)}function Pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ca(t,e){return Ca=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ca(t,e)}function Aa(t,e){if(e&&("object"===Ra(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Na(t)}function Na(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Da(t){return Da=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Da(t)}var Ba=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ca(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Da(r);if(o){var n=Da(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Aa(this,t)});function s(){var t;Pa(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).detach=t.detach.bind(Na(t)),t}return e=s,(n=[{key:"detach",value:function(t){t&&t.preventDefault(),this.model.discard()}}])&&Ta(e.prototype,n),s}(Nn);Ba.prototype.template=Ea(),Ba.prototype.tagName="li",Ba.prototype.className="term",Ba.prototype.events={"click a.detach":"detach"},Ba.prototype.bindings={"span.term":"term"};const Ma=Ba;function Va(t){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(t)}function Ia(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function La(t,e){return La=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},La(t,e)}function $a(t,e){if(e&&("object"===Va(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qa(t){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(t)}var Ha=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&La(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=qa(e);if(n){var o=qa(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return $a(this,t)});function o(){return Ia(this,o),r.apply(this,arguments)}return o}(qn);Ha.prototype.childView=Ma;const Fa=Ha;var Ua=n(4418),za=n.n(Ua);function Wa(t){return Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(t)}function Ga(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ja(t,e){return Ja=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ja(t,e)}function Ka(t,e){if(e&&("object"===Wa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xa(t){return Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xa(t)}var Ya=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ja(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Xa(e);if(n){var o=Xa(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ka(this,t)});function o(){return Ga(this,o),r.apply(this,arguments)}return o}(Nn);Ya.prototype.tagName="li",Ya.prototype.className="suggestion",Ya.prototype.template=za(),Ya.prototype.triggers={"click a.pick":"select"},Ya.prototype.bindings={"span.term":"term",":el":{classes:{selected:"selected",unavailable:"unavailable"}}};const Qa=Ya;var Za=n(5722),tc=n.n(Za);function ec(t){return ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(t)}function nc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rc(t,e){return rc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},rc(t,e)}function oc(t,e){if(e&&("object"===ec(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ic(t){return ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ic(t)}var sc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rc(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=ic(e);if(n){var o=ic(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return oc(this,t)});function o(){return nc(this,o),r.apply(this,arguments)}return o}(ei);sc.prototype.template=tc(),sc.prototype.tagName="li",sc.prototype.className="note none";const ac=sc;function cc(t){return cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(t)}function uc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fc(t,e){return fc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},fc(t,e)}function pc(t,e){if(e&&("object"===cc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hc(t)}function hc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dc(t){return dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dc(t)}var yc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fc(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dc(r);if(o){var n=dc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return pc(this,t)});function s(){var t;uc(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).pickTerm=t.pickTerm.bind(hc(t)),t.initialize=t.initialize.bind(hc(t)),t.childViewOptions=t.childViewOptions.bind(hc(t)),t}return e=s,n=[{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.excluded&&(this._exclusions=t.excluded,this._exclusions.on("add remove reset",this.setAvailability.bind(this)),this.collection.on("add remove reset",this.setAvailability.bind(this)),this.setAvailability())}},{key:"pickTerm",value:function(t){var e=t.model;e&&this.trigger("select",e)}},{key:"setAvailability",value:function(){var t=this;this.collection.each((function(e){var n=t._exclusions.findWhere({term:e.get("term")});e.set("unavailable",!!n)}))}},{key:"childViewOptions",value:function(t){var e=t&&!!this._exclusions.findWhere({term:t.get("term")});return{model:t,unavailable:e}}}],n&&lc(e.prototype,n),s}(qn);yc.prototype.childView=Qa,yc.prototype.emptyView=ac,yc.prototype.childViewEvents={select:"pickTerm"};const vc=yc;var gc=n(7711),mc=n.n(gc);function bc(t){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(t)}function wc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oc(t,e){return Oc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Oc(t,e)}function xc(t,e){if(e&&("object"===bc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sc(t)}function Sc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kc(t){return kc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kc(t)}var jc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oc(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=kc(r);if(o){var n=kc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return xc(this,t)});function s(){var t;wc(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).initialize=t.initialize.bind(Sc(t)),t.onAfterRender=t.onAfterRender.bind(Sc(t)),t.interceptNavigation=t.interceptNavigation.bind(Sc(t)),t.getSuggestions=t.getSuggestions.bind(Sc(t)),t.addTerm=t.addTerm.bind(Sc(t)),t.resetPrompt=t.resetPrompt.bind(Sc(t)),t}return e=s,n=[{key:"initialize",value:function(){this.collection=new vt}},{key:"onAfterRender",value:function(){var t=new Fa({collection:this.model.terms});this.showChildView("terms",t);var e=new vc({collection:this.collection,excluded:this.model.terms});this.showChildView("suggestions",e),e.on("select",this.addTerm.bind(this)),this.getSuggestions()}},{key:"interceptNavigation",value:function(t){return"ArrowDown"===t.code?(this.collection.moveSelectionNext(),!1):"PageDown"===t.code?(this.collection.moveSelectionLast(),!1):"ArrowUp"===t.code?(this.collection.moveSelectionPrev(),!1):"PageUp"===t.code?(this.collection.moveSelectionFirst(),!1):"Enter"===t.code?(this.addTerm(this.collection.currentSelection()),!1):"Escape"!==t.code||(this.resetPrompt(),!1)}},{key:"getSuggestions",value:function(){var t=this.ui.input.text();t&&t.length?this.ui.reset.show():this.ui.reset.hide(),this.collection.debouncedSuggest(t)}},{key:"addTerm",value:function(t){this.model.terms.add({term:t.get("term")}),this.ui.input.focus()}},{key:"resetPrompt",value:function(t){t&&t.preventDefault(),this.ui.input.text(""),this.getSuggestions(),this.ui.input.focus()}}],n&&_c(e.prototype,n),s}(Nn);jc.prototype.template=mc(),jc.prototype.ui={input:"span.prompt",reset:"a.reset"},jc.prototype.regions={terms:"div.terms",suggestions:"div.suggestions"},jc.prototype.events={"keydown @ui.input":"interceptNavigation","keyup @ui.input":"getSuggestions","click @ui.reset":"resetPrompt"};const Ec=jc;function Rc(t){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(t)}function Pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cc(t,e){return Cc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Cc(t,e)}function Ac(t,e){if(e&&("object"===Rc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nc(t)}function Nc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dc(t){return Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Dc(t)}var Bc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cc(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Dc(r);if(o){var n=Dc(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Ac(this,t)});function s(){var t;Pc(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onAfterRender=t.onAfterRender.bind(Nc(t)),t.toggleDetails=t.toggleDetails.bind(Nc(t)),t}return e=s,(n=[{key:"onAfterRender",value:function(){this.showChildView("collection",new ka({model:this.model,attribute:"page_collection_id",collection:new le})),this.showChildView("category",new ka({model:this.model,attribute:"page_category_id",collection:new Xt,allowBlank:!0})),this.showChildView("parent",new ka({model:this.model,attribute:"parent_id",collection:new Mt,allowBlank:!0})),this.showChildView("terms",new Ec({model:this.model}))}},{key:"toggleDetails",value:function(t){t&&t.preventDefault(),this.ui.toggle.hasClass("open")?(this.ui.details.slideUp("fast"),this.ui.toggle.removeClass("open")):(this.ui.toggle.addClass("open"),this.ui.details.slideDown("fast"))}}])&&Tc(e.prototype,n),s}(Nn);Bc.prototype.template=Qs(),Bc.prototype.regions={style:"div.page_style",collection:".page_collection",category:".page_category",parent:".page_parent",terms:".page_terms"},Bc.prototype.ui={toggle:"a.toggle",details:".details"},Bc.prototype.events={"click @ui.toggle":"toggleDetails"},Bc.prototype.bindings={'input[name="slug"]':"slug",'input[name="private"]':"private",'input[name="style"]':"style",'input[name="byline"]':"byline",'textarea[name="summary"]':"summary"};const Mc=Bc;function Vc(t){return Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(t)}function Ic(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lc(t,e){return Lc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Lc(t,e)}function $c(t,e){if(e&&("object"===Vc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qc(t){return qc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qc(t)}var Hc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lc(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=qc(e);if(n){var o=qc(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return $c(this,t)});function o(){return Ic(this,o),r.apply(this,arguments)}return o}(_r);Hc.prototype.className="cms-menu page-config",Hc.prototype.template=Xs(),Hc.prototype.contentView=Mc;const Fc=Hc;var Uc=n(8817),zc=n.n(Uc),Wc=n(1085),Gc=n.n(Wc),Jc=n(325),Kc=n.n(Jc),Xc=n(7706),Yc=n.n(Xc),Qc=n(9050);function Zc(t){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(t)}function tu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nu(t,e){return nu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nu(t,e)}function ru(t,e){if(e&&("object"===Zc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ou(t){return ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ou(t)}var iu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nu(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ou(r);if(o){var n=ou(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return ru(this,t)});function s(){return tu(this,s),i.apply(this,arguments)}return e=s,n=[{key:"onAfterRender",value:function(){var t=this;this.model.isNew()&&(this.ui.editor.show(),this.ui.edit_title&&this.ui.edit_title.length&&Qc.defer((function(){t.log("focussing on",t.ui.edit_title),t.ui.edit_title.focus()})))}},{key:"indentStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"width: ".concat(32*t,"px")}},{key:"truncatedTitle",value:function(t){return S(bn(t),42)}},{key:"styleSymbol",value:function(t){return"/spritemap.svg#sprite-page-".concat(t||"heroic")}},{key:"savePage",value:function(t){var e=this;t&&t.preventDefault(),this.model.save().done((function(){w(y("affirmations.page_saved")),e.$el.removeClass("confirmed").addClass("confirmed")}))}},{key:"selectPage",value:function(t){t&&t.preventDefault(),this.trigger("select",this.model)}},{key:"discardPage",value:function(){this.model.discard()}},{key:"interceptControlKey",value:function(t){return"Enter"===t.code?(this.savePage(),!1):"Escape"!==t.code||(this.discardPage(),!1)}},{key:"textOnly",value:function(t){return bn(t)}}],n&&eu(e.prototype,n),s}(Mo);iu.prototype.template=Yc(),iu.prototype.tagName="li",iu.prototype.className="page",iu.prototype.events={"click a.page":"selectPage","click a.save":"savePage","click a.remove":"discardPage","keydown .edit_title":"interceptControlKey"},iu.prototype.ui={editor:"span.unsaved",edit_title:"span.edit_title"},iu.prototype.bindings={":el":{classes:{unpublished:{observe:"published_at",onGet:"untrue"},unsaved:{observe:"created_at",onGet:"untrue"}},attributes:[{name:"data-page",observe:"id"}]},"a.toggle":{observe:"parental",visible:!0},"use.content":{attributes:[{name:"href",observe:"style",onGet:"styleSymbol"}]},".saved":{observe:"created_at",visible:!0},".unsaved":{observe:"created_at",visible:"untrue"},"a.save":{observe:"changed",visible:!0},".edit_title":{observe:"title",onSet:"textOnly",onGet:"textOnly"},".title":{observe:"title",onGet:"truncatedTitle"},".collection":{observe:"collectionName",onGet:"truncatedTitle"},".date":{observe:"published_at",onGet:"justDate"},".indent":{attributes:[{name:"style",observe:"depth",onGet:"indentStyle"}]}};const su=iu;function au(t){return au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(t)}function cu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lu(t,e){return lu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},lu(t,e)}function fu(t,e){if(e&&("object"===au(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pu(t){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pu(t)}var hu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lu(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=pu(r);if(o){var n=pu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return fu(this,t)});function s(){return cu(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"toggleCollapse",value:function(t){t&&t.preventDefault(),this.model.toggleCollapse()}}])&&uu(e.prototype,n),s}(su);hu.prototype.template=Kc(),hu.prototype.events={"click a.toggle":"toggleCollapse","click a.page":"selectPage","click a.save":"savePage"},hu.prototype.triggers={"click a.page":"selected"};const du=hu;function yu(t){return yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(t)}function vu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mu(t,e){return mu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mu(t,e)}function bu(t,e){if(e&&("object"===yu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wu(t)}function wu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _u(t){return _u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_u(t)}var Ou=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mu(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_u(r);if(o){var n=_u(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return bu(this,t)});function s(){var t;vu(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onBeforeRender=t.onBeforeRender.bind(wu(t)),t.onAfterRender=t.onAfterRender.bind(wu(t)),t}return e=s,(n=[{key:"onBeforeRender",value:function(){this.collection.buildTree()}},{key:"onAfterRender",value:function(){}}])&&gu(e.prototype,n),s}(qn);Ou.prototype.childView=du,Ou.prototype.tagName="ul",Ou.prototype.className="page_tree",Ou.prototype.childViewTriggers={selected:"selected"};const xu=Ou;var Su=n(9392),ku=n.n(Su);function ju(t){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(t)}function Eu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ru(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pu(t,e){return Pu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pu(t,e)}function Tu(t,e){if(e&&("object"===ju(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cu(t){return Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cu(t)}var Au=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pu(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Cu(r);if(o){var n=Cu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Tu(this,t)});function s(){return Eu(this,s),i.apply(this,arguments)}return e=s,n=[{key:"onAfterRender",value:function(){this.collection=new Mt([],{p:1,pp:"all",filter:{page_collection_id:this.model.id}}),this.treeView=new xu({collection:this.collection}),this.showChildView("tree",this.treeView),this.treeView.on("selected",this.selectedView.bind(this)),this.hideTree()}},{key:"toggleTree",value:function(){this.ui.toggled.is(":visible")?this.hideTree():this.showTree()}},{key:"showTree",value:function(){var t=this;this.ui.toggle.addClass("waiting"),this.collection.loadAnd((function(){t.ui.toggle.removeClass("waiting"),t.ui.toggled.slideDown(),t.ui.toggle.addClass("open"),t.trigger("opened")}))}},{key:"hideTree",value:function(){this.ui.toggled.slideUp(),this.ui.toggle.removeClass("open")}},{key:"selectedView",value:function(t){this.trigger("selected",t.model)}},{key:"createCollectionPage",value:function(t){t&&t.preventDefault(),window.np=this.collection.add({page_collection_id:this.model.id,style:"texty"},{at:0})}}],n&&Ru(e.prototype,n),s}(Nn);Au.prototype.template=ku(),Au.prototype.className="page_collection_tree",Au.prototype.events={"click a.toggle":"toggleTree","click a.add":"createCollectionPage"},Au.prototype.ui={toggled:"div.toggled",toggle:"a.toggle"},Au.prototype.regions={tree:"div.tree"},Au.prototype.bindings={".title":"short_title"};const Nu=Au;function Du(t){return Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(t)}function Bu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vu(t,e){return Vu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vu(t,e)}function Iu(t,e){if(e&&("object"===Du(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Lu(t){return Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lu(t)}var $u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vu(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Lu(r);if(o){var n=Lu(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Iu(this,t)});function s(){return Bu(this,s),i.apply(this,arguments)}return e=s,n=[{key:"initialize",value:function(){this.collection=hn()}},{key:"jumpToPage",value:function(t){this.$el.trigger("navigate",t)}},{key:"leaveEditor",value:function(){this.$el.trigger("exit")}}],n&&Mu(e.prototype,n),s}(qn);$u.prototype.template=Gc(),$u.prototype.childView=Nu,$u.prototype.tagName="div",$u.prototype.childViewContainer="div.page_collections",$u.prototype.events={"click a.exit":"leaveEditor"},$u.prototype.childViewEvents={selected:"jumpToPage"};const qu=$u;function Hu(t){return Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(t)}function Fu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uu(t,e){return Uu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Uu(t,e)}function zu(t,e){if(e&&("object"===Hu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wu(t){return Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wu(t)}var Gu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uu(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Wu(e);if(n){var o=Wu(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return zu(this,t)});function o(){return Fu(this,o),r.apply(this,arguments)}return o}(_r);Gu.prototype.className="cms-menu site",Gu.prototype.template=zc(),Gu.prototype.contentView=qu;const Ju=Gu;var Ku=n(2550),Xu=n.n(Ku),Yu=n(2139),Qu=n.n(Yu);function Zu(t){return Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(t)}function tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function el(t,e){return el=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},el(t,e)}function nl(t,e){if(e&&("object"===Zu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rl(t){return rl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rl(t)}var ol=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&el(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=rl(e);if(n){var o=rl(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return nl(this,t)});function o(){return tl(this,o),r.apply(this,arguments)}return o}(Nn);ol.prototype.template=Qu(),ol.prototype.ui={title:"h1"},ol.prototype.bindings={"span.name":{observe:"title"}};const il=ol;var sl=n(6076),al=n.n(sl),cl=n(9099),ul=n.n(cl),ll=n(4770),fl=n.n(ll);function pl(t){return pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(t)}function hl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dl(t,e){return dl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dl(t,e)}function yl(t,e){if(e&&("object"===pl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vl(t){return vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vl(t)}var gl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dl(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=vl(e);if(n){var o=vl(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return yl(this,t)});function o(){return hl(this,o),r.apply(this,arguments)}return o}(Qr);gl.prototype.modelClass=nn,gl.prototype.template=fl();const ml=gl;var bl=n(1476),wl=n.n(bl);function _l(t){return _l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(t)}function Ol(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sl(t,e){return Sl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sl(t,e)}function kl(t,e){if(e&&("object"===_l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jl(t){return jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jl(t)}var El=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sl(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jl(r);if(o){var n=jl(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return kl(this,t)});function s(){return Ol(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"styleBackgroundImage",value:function(t){return t?"background-image: url('".concat(t,"')"):""}}])&&xl(e.prototype,n),s}(Mo);El.prototype.template=Io(),El.prototype.tagName="li",El.prototype.className="video asset",El.prototype.triggers={"click a.pickme":"pick"},El.prototype.bindings={"a.thumbnail":{attributes:[{name:"style",observe:"thumb_url",onGet:"styleBackgroundImage"},{name:"title",observe:"title"}]}};const Rl=El;function Pl(t){return Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(t)}function Tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cl(t,e){return Cl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Cl(t,e)}function Al(t,e){if(e&&("object"===Pl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Nl(t){return Nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nl(t)}var Dl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cl(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Nl(e);if(n){var o=Nl(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Al(this,t)});function o(){return Tl(this,o),r.apply(this,arguments)}return o}(li);const Bl=Dl;function Ml(t){return Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(t)}function Vl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Il(t,e){return Il=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Il(t,e)}function Ll(t,e){if(e&&("object"===Ml(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $l(t){return $l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$l(t)}var ql=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Il(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=$l(e);if(n){var o=$l(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ll(this,t)});function o(){return Vl(this,o),r.apply(this,arguments)}return o}(vo);ql.prototype.childView=Rl,ql.prototype.emptyView=Bl;const Hl=ql;function Fl(t){return Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(t)}function Ul(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zl(t,e){return zl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},zl(t,e)}function Wl(t,e){if(e&&("object"===Fl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gl(t){return Gl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gl(t)}var Jl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zl(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Gl(e);if(n){var o=Gl(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Wl(this,t)});function o(){return Ul(this,o),r.apply(this,arguments)}return o}(ko);Jl.prototype.listView=Hl,Jl.prototype.template=wl();const Kl=Jl;function Xl(t){return Xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(t)}function Yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ql(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zl(t,e){return Zl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Zl(t,e)}function tf(t,e){if(e&&("object"===Xl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ef(t){return ef=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ef(t)}var nf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zl(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ef(r);if(o){var n=ef(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return tf(this,t)});function s(){return Yl(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getCollection",value:function(){return pn(ln)}}])&&Ql(e.prototype,n),s}(qr);nf.prototype.importView=ml,nf.prototype.reuseView=Kl,nf.prototype.template=ul();const rf=nf;function of(t){return of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(t)}function sf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cf(t,e){return cf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},cf(t,e)}function uf(t,e){if(e&&("object"===of(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return lf(t)}function lf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ff(t)}var pf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cf(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ff(r);if(o){var n=ff(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return uf(this,t)});function s(){var t;sf(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onBeforeRender=t.onBeforeRender.bind(lf(t)),t.videoId=t.videoId.bind(lf(t)),t}return e=s,(n=[{key:"onBeforeRender",value:function(){this.model=new nn({})}},{key:"videoId",value:function(t){return"video_".concat(t)}}])&&af(e.prototype,n),s}(lr);pf.prototype.controlView=rf,pf.prototype.template=al(),pf.prototype.className="video",pf.prototype.bindings={":el":{attributes:[{name:"data-video",observe:"id"}]},".player":{observe:"embed_code",updateMethod:"html",classes:{unnecessary:"mp4_url"}},video:{observe:["file_url","embed_code"],visible:"thisButNotThat",attributes:[{name:"id",observe:"id",onGet:"videoId"},{name:"poster",observe:"hero_url"}]},img:{attributes:[{name:"src",observe:"hero_url"}]},source:{attributes:[{name:"src",observe:"mp4_url"}]}};const hf=pf;var df=n(8060),yf=n.n(df),vf=n(6672),gf=n.n(vf);function mf(t){return mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(t)}function bf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _f(t,e){return _f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_f(t,e)}function Of(t,e){if(e&&("object"===mf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xf(t)}var Sf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_f(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xf(r);if(o){var n=xf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Of(this,t)});function s(){return bf(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"onBeforeRender",value:function(){this.el.dataset.cms=!0}},{key:"truncatedTitle",value:function(t){return S(t,256)}},{key:"discardPage",value:function(t){t&&t.preventDefault(),this.trigger("deselect",this.model)}}])&&wf(e.prototype,n),s}(su);Sf.prototype.template=gf();const kf=Sf;var jf=n(1317),Ef=n.n(jf);function Rf(t){return Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(t)}function Pf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tf(t,e){return Tf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Tf(t,e)}function Cf(t,e){if(e&&("object"===Rf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Af(t){return Af=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Af(t)}var Nf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tf(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Af(e);if(n){var o=Af(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Cf(this,t)});function o(){return Pf(this,o),r.apply(this,arguments)}return o}(vo);Nf.prototype.childView=su;const Df=Nf;function Bf(t){return Bf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(t)}function Mf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function If(t,e){return If=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},If(t,e)}function Lf(t,e){if(e&&("object"===Bf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $f(t){return $f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$f(t)}var qf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&If(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$f(r);if(o){var n=$f(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Lf(this,t)});function s(){return Mf(this,s),i.apply(this,arguments)}return e=s,n=[{key:"selectModel",value:function(t){this.trigger("selected",t)}}],n&&Vf(e.prototype,n),s}(ko);qf.prototype.listView=Df,qf.prototype.template=Ef();const Hf=qf;var Ff=n(3469),Uf=n.n(Ff);function zf(t){return zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(t)}function Wf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jf(t,e){return Jf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Jf(t,e)}function Kf(t,e){if(e&&("object"===zf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xf(t)}function Xf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yf(t)}var Qf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jf(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Yf(r);if(o){var n=Yf(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Kf(this,t)});function s(){var t;Wf(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).showChildPages=t.showChildPages.bind(Xf(t)),t.showSimilarPages=t.showSimilarPages.bind(Xf(t)),t.showSelectedPages=t.showSelectedPages.bind(Xf(t)),t.selectedModel=t.selectedModel.bind(Xf(t)),t}return e=s,n=[{key:"getCollection",value:function(){return pn(Mt)}},{key:"showChildPages",value:function(){this.trigger("mode","children"),this.close()}},{key:"showSimilarPages",value:function(){this.trigger("mode","similar"),this.close()}},{key:"showSelectedPages",value:function(){this.trigger("mode","list"),this.choosePage()}},{key:"choosePage",value:function(){this.showActionView(this.reuseView)}},{key:"selectedModel",value:function(t){this.trigger("select",t),this.close()}}],n&&Gf(e.prototype,n),s}(qr);Qf.prototype.reuseView=Hf,Qf.prototype.template=Uf(),Qf.prototype.ui={head:".cms-chooser-head",prompt:".cms-chooser-prompt",body:".cms-chooser-body",close:"a.close",options:".options",children:"a.children",similar:"a.similar",selected:"a.selected",action:".action"},Qf.prototype.events={"click @ui.head":"toggle","click @ui.prompt":"open","click @ui.close":"close","click @ui.children":"showChildPages","click @ui.similar":"showSimilarPages","click @ui.selected":"showSelectedPages","click a.back":"showOptions"};const Zf=Qf;var tp=n(6782),ep=n.n(tp);function np(t){return np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(t)}function rp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function op(t,e){return op=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},op(t,e)}function ip(t,e){if(e&&("object"===np(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sp(t)}var ap=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&op(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=sp(e);if(n){var o=sp(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ip(this,t)});function o(){return rp(this,o),r.apply(this,arguments)}return o}(li);ap.prototype.tagName="li",ap.prototype.className="page none",ap.prototype.template=ep();const cp=ap;function up(t){return up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(t)}function lp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pp(t,e){return pp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pp(t,e)}function hp(t,e){if(e&&("object"===up(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dp(t)}function dp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yp(t)}var vp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pp(t,e)}(a,t);var e,n,o,i,s=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yp(o);if(i){var n=yp(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return hp(this,t)});function a(){var t;lp(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=s.call.apply(s,[this].concat(n))).page=t.getOption("page"),t.initialize=t.initialize.bind(dp(t)),t.onBeforeRender=t.onBeforeRender.bind(dp(t)),t.showPageList=t.showPageList.bind(dp(t)),t}return e=a,n=[{key:"initialize",value:function(){this.collection=new Mt,this.state=new r.Model({content:"list",heading:"",pages:[]})}},{key:"onBeforeRender",value:function(){var t=this.getOption("content");if(t){var e=t.querySelector(".toc_title");e&&this.state.set("heading",e.innerText);var n=t.dataset.content;if("children"===n)this.state.set("content","children");else if("similar"===n)this.state.set("content","similar");else if("list"===n){this.state.set("content","list");var r=t.dataset.pages;r&&this.state.set("pages",r.split(","))}}this.state.on("change:content change:pages",this.updateCollection.bind(this)),this.state.on("change:heading",this.contentChange.bind(this))}},{key:"onRender",value:function(){this.stickit(this.state,{".toc_title":{observe:"heading"},"a.pick":{observe:"content",visible:"ifList"},"a.add":{observe:"content",visible:"ifChildren"}}),this.controlView=new Zf({model:this.model}),this.controlView.$el.appendTo(this.ui.controls),this.controlView.render(),this.controlView.on("mode",this.setMode.bind(this)),this.controlView.on("select",this.addEmbed.bind(this)),this.controlView.on("remove",this.removeEmbed.bind(this)),this.state.has("content")||this.controlView.open(),this.setContent()}},{key:"updateCollection",value:function(){this.setContent(),this.contentChange()}},{key:"setContent",value:function(){var t=this.state.get("content");if(this.el.dataset.content=t,"list"===t){var e=this.state.get("pages")||[];delete this.el.dataset.page,this.el.dataset.pages=e.join(",")}else delete this.el.dataset.pages,this.el.dataset.page=this.page.id;this.showPageList()}},{key:"ifList",value:function(t){return"list"===t}},{key:"ifChildren",value:function(t){return"children"===t}},{key:"showPageList",value:function(){var t=this.state.get("content");if("children"===t)this.collection.resetFilter({parent_id:this.page.id});else if("similar"===t)this.collection.resetFilter({similar:this.page.id});else if("list"===t){var e=this.state.get("pages")||[];e.length?this.collection.resetFilter({ids:e.join(",")}):this.collection.reset()}}},{key:"showControls",value:function(){this.controlView&&this.controlView.open()}},{key:"hideControls",value:function(){this.controlView&&this.controlView.close()}},{key:"setMode",value:function(t){this.content!==t&&(this.state.set("content",t),this.showPageList())}},{key:"showPicker",value:function(t){t&&t.preventDefault(),this.controlView.open(),this.controlView.choosePage()}},{key:"createChildPage",value:function(t){t&&t.preventDefault(),this.collection.add({parent_id:this.page.id,page_collection_id:this.page.get("page_collection_id"),style:"illustrated"})}},{key:"addEmbed",value:function(t){var e=this.state.get("pages");-1===e.indexOf(t.id)&&e.push(t.id),this.state.trigger("change:pages",this.state,e),this.showPageList()}},{key:"removeEmbed",value:function(t){var e=this.state.get("pages"),n=e.indexOf(t.id);n>-1&&e.splice(n,1),this.state.trigger("change:pages",this.state,e),this.showPageList()}},{key:"focus",value:function(){this.isPopulated()||this.controlView.open()}},{key:"isPopulated",value:function(){var t=this.state.get("content"),e=this.state.get("pages");return t&&("list"!==t||e.length)}},{key:"selectModel",value:function(t){this.$el.trigger("navigate",t)}},{key:"cleanContent",value:function(){return this.collection.select((function(t){return t.isPopulated()})).length?this.cleanCopy().outerHTML:""}}],n&&fp(e.prototype,n),a}(Xn);vp.prototype.controlView=Zf,vp.prototype.template=yf(),vp.prototype.childView=kf,vp.prototype.emptyView=cp,vp.prototype.childViewContainer=".collection",vp.prototype.childViewEvents={select:"selectModel",deselect:"removeEmbed"},vp.prototype.tagName="div",vp.prototype.className="pages",vp.prototype.content=null,vp.prototype.events={"click a.add":"createChildPage","click a.pick":"showPicker"},vp.prototype.ui={controls:".cms-embed-controls",heading:"h2"};const gp=vp;var mp=n(7304),bp=n.n(mp),wp=n(5614),_p=n.n(wp),Op=n(4974),xp=n.n(Op),Sp=n(7360),kp=n.n(Sp);function jp(t){return jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(t)}function Ep(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tp(t,e){return Tp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Tp(t,e)}function Cp(t,e){if(e&&("object"===jp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ap(t)}var Np=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tp(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ap(r);if(o){var n=Ap(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Cp(this,t)});function s(){return Rp(this,s),i.apply(this,arguments)}return e=s,n=[{key:"fileSymbol",value:function(t){if(t){var e=this.fileExtension(t);return"xlsx"===e&&(e="xls"),"docx"===e&&(e="doc"),["pdf","doc","ppt","xls"].includes(e)||(e="file"),"/spritemap.svg#sprite-".concat(e)}return"/spritemap.svg#sprite-file"}},{key:"fileExtension",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(".").pop()}},{key:"truncatedTitle",value:function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return Ep(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ep(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return S(o||i||y("missing.document.title"),32)}},{key:"readableFileSize",value:function(){}}],n&&Pp(e.prototype,n),s}(Mo);Np.prototype.template=kp(),Np.prototype.tagName="li",Np.prototype.className="document",Np.prototype.events={"click a.delete":"deleteModel","click a.document":"selectMe"},Np.prototype.bindings={":el":{attributes:[{name:"data-document",observe:"id"}]},"a.preview":{attributes:[{name:"href",observe:"file_url"}]},"a.document":{attributes:[{name:"class",observe:"file_name",onGet:"fileExtension"}]},"use.file_type":{attributes:[{name:"href",observe:"file_name",onGet:"fileSymbol"}]},"span.label":{observe:["title","file_name"],onGet:"truncatedTitle"},"span.size":{observe:"file_size",onGet:"readableFileSize"}};const Dp=Np;function Bp(t){return Bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(t)}function Mp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vp(t,e){return Vp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Vp(t,e)}function Ip(t,e){if(e&&("object"===Bp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lp(t)}var $p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vp(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Lp(e);if(n){var o=Lp(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ip(this,t)});function o(){return Mp(this,o),r.apply(this,arguments)}return o}(ei);const qp=$p;function Hp(t){return Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(t)}function Fp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Up(t,e){return Up=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Up(t,e)}function zp(t,e){if(e&&("object"===Hp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wp(t)}var Gp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Up(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Wp(e);if(n){var o=Wp(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return zp(this,t)});function o(){return Fp(this,o),r.apply(this,arguments)}return o}(vo);Gp.prototype.childView=Dp,Gp.prototype.emptyView=qp;const Jp=Gp;function Kp(t){return Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(t)}function Xp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yp(t,e){return Yp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Yp(t,e)}function Qp(t,e){if(e&&("object"===Kp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zp(t)}var th=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yp(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Zp(e);if(n){var o=Zp(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Qp(this,t)});function o(){return Xp(this,o),r.apply(this,arguments)}return o}(ko);th.prototype.listView=Jp,th.prototype.template=xp();const eh=th;function nh(t){return nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(t)}function rh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ih(t,e){return ih=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ih(t,e)}function sh(t,e){if(e&&("object"===nh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ah(t){return ah=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ah(t)}var ch=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ih(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ah(r);if(o){var n=ah(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return sh(this,t)});function s(){return rh(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"getCollection",value:function(){return pn(Ue)}}])&&oh(e.prototype,n),s}(qr);ch.prototype.reuseView=eh,ch.prototype.template=_p();const uh=ch;function lh(t){return lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(t)}function fh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ph(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dh(t,e){return dh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dh(t,e)}function yh(t,e){if(e&&("object"===lh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vh(t)}var gh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dh(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=vh(r);if(o){var n=vh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return yh(this,t)});function s(){return ph(this,s),i.apply(this,arguments)}return e=s,n=[{key:"onBeforeRender",value:function(){var t={id:this.el.dataset.document},e=this.el.querySelector("a.document");e&&(t.file_url=e.href);var n=this.el.querySelector("span.label");n&&(t.title=n.innerText),this.model=new Ve(t)}},{key:"fileExtension",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split(".").pop()}},{key:"documentId",value:function(t){return"document_".concat(t)}},{key:"titleOrPrompt",value:function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return fh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fh(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return o||i}},{key:"fileSymbol",value:function(t){if(t){var e=this.fileExtension(t);return"xlsx"===e&&(e="xls"),"docx"===e&&(e="doc"),["pdf","doc","ppt","xls"].includes(e)||(e="file"),"/spritemap.svg#sprite-".concat(e)}return"/spritemap.svg#sprite-file"}},{key:"allowEdit",value:function(t){t&&t.preventDefault()}}],n&&hh(e.prototype,n),s}(lr);gh.prototype.controlView=uh,gh.prototype.template=bp(),gh.prototype.className="document",gh.prototype.events={"click span.label":"allowEdit"},gh.prototype.bindings={":el":{attributes:[{name:"data-document",observe:"id"}]},"a.document":{attributes:[{name:"href",observe:"file_url"},{name:"class",observe:"file_name",onGet:"fileExtension"}]},"use.file_type":{attributes:[{name:"href",observe:"file_name",onGet:"fileSymbol"}]},"span.filename":{observe:["title","file_name"],onGet:"titleOrPrompt"}};const mh=gh;var bh=n(8596),wh=n.n(bh);function _h(t){return _h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(t)}function Oh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sh(t,e){return Sh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sh(t,e)}function kh(t,e){if(e&&("object"===_h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jh(t)}var Eh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sh(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=jh(r);if(o){var n=jh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return kh(this,t)});function s(){return Oh(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"isPopulated",value:function(){return!!this.get("utterance").trim()}}])&&xh(e.prototype,n),s}($);Eh.prototype.singularName="quote",Eh.prototype.pluralName="quotes",Eh.prototype.savedAttributes=[],Eh.prototype.defaults={asset_type:"quote",utterance:"",caption:""};const Rh=Eh;function Ph(t){return Ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(t)}function Th(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ah(t,e){return Ah=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ah(t,e)}function Nh(t,e){if(e&&("object"===Ph(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dh(t)}function Dh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bh(t){return Bh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bh(t)}var Mh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ah(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Bh(r);if(o){var n=Bh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Nh(this,t)});function s(){var t;Th(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onBeforeRender=t.onBeforeRender.bind(Dh(t)),t.focus=t.focus.bind(Dh(t)),t}return e=s,n=[{key:"onBeforeRender",value:function(){var t={},e=this.getOption("content");if(e){var n=e.querySelector("blockquote");n&&(t.utterance=n.innerText);var r=e.querySelector("figcaption");r&&(t.caption=r.innerText)}this.model=new Rh(t),this.model.on("change",this.contentChange.bind(this))}},{key:"focus",value:function(){this.ui.quote.focus()}},{key:"classFromLength",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.replace(/&nbsp;/g," ").trim().length;return e<24?"veryshort":e<48?"short":e<96?"shortish":""}}],n&&Ch(e.prototype,n),s}(lr);Mh.prototype.template=wh(),Mh.prototype.className="quote",Mh.prototype.ui={quote:"blockquote",caption:"figcaption"},Mh.prototype.bindings={":el":{attributes:[{name:"class",observe:"utterance",onGet:"classFromLength"}]},blockquote:{observe:"utterance"},figcaption:{observe:"caption"}};const Vh=Mh;var Ih=n(6408),Lh=n.n(Ih);function $h(t){return $h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(t)}function qh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hh(t,e){return Hh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Hh(t,e)}function Fh(t,e){if(e&&("object"===$h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uh(t)}var zh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hh(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Uh(e);if(n){var o=Uh(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Fh(this,t)});function o(){return qh(this,o),r.apply(this,arguments)}return o}($);zh.prototype.singularName="note",zh.prototype.pluralName="notes",zh.prototype.savedAttributes=[],zh.prototype.defaults={asset_type:"note",text:""};const Wh=zh;function Gh(t){return Gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(t)}function Jh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xh(t,e){return Xh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Xh(t,e)}function Yh(t,e){if(e&&("object"===Gh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qh(t)}function Qh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zh(t){return Zh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zh(t)}var td=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xh(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Zh(r);if(o){var n=Zh(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Yh(this,t)});function s(){var t;Jh(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onBeforeRender=t.onBeforeRender.bind(Qh(t)),t.focus=t.focus.bind(Qh(t)),t}return e=s,n=[{key:"onBeforeRender",value:function(){var t={},e=this.getOption("content");if(e){var n=e.querySelector("p");n&&(t.text=n.innerText)}this.model=new Wh(t),this.model.on("change",this.contentChange.bind(this))}},{key:"focus",value:function(){return this.ui.note.focus()}},{key:"classFromLength",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t.replace(/&nbsp;/g," ").trim().length;return e<24?"veryshort":e<48?"short":e<96?"shortish":""}}],n&&Kh(e.prototype,n),s}(lr);td.prototype.template=Lh(),td.prototype.className="note",td.prototype.ui={note:"p"},td.prototype.bindings={":el":{attributes:[{name:"class",observe:"text",onGet:"classFromLength"}]},p:{observe:"text"}};const ed=[{label:"images",selector:"div.embed.images",migrate_selector:"figure.image",content_view:os},{label:"video",selector:"div.embed.video",migrate_selector:"figure.video",content_view:hf},{label:"pages",selector:"div.embed.pages",migrate_selector:"div.pages",content_view:gp},{label:"documents",selector:"div.embed.document",migrate_selector:"figure.document",content_view:mh},{label:"quote",selector:"div.embed.quote",migrate_selector:"figure.quote",content_view:Vh},{label:"note",selector:"div.embed.note",migrate_selector:"figure.note",content_view:td}];var nd=n(7998),rd=n.n(nd);function od(t){return od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(t)}function id(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sd(t,e){return sd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},sd(t,e)}function ad(t,e){if(e&&("object"===od(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cd(t)}var ud=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sd(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=cd(e);if(n){var o=cd(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return ad(this,t)});function o(){return id(this,o),r.apply(this,arguments)}return o}(Nn);ud.prototype.template=rd(),ud.prototype.tagName="a",ud.prototype.className="cms-button delete",ud.prototype.triggers={click:"delete"};const ld=ud;var fd=n(9062),pd=n.n(fd);function hd(t){return hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(t)}function dd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vd(t,e){return vd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},vd(t,e)}function gd(t,e){if(e&&("object"===hd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return md(t)}function md(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bd(t)}var wd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vd(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=bd(r);if(o){var n=bd(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return gd(this,t)});function s(){var t;dd(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).render=t.render.bind(md(t)),t.initialize=t.initialize.bind(md(t)),t.onBeforeRender=t.onBeforeRender.bind(md(t)),t.onAfterRender=t.onAfterRender.bind(md(t)),t.focus=t.focus.bind(md(t)),t}return e=s,(n=[{key:"initialize",value:function(){this.page=this.getOption("page"),this.migrateNode=this.getOption("migrate"),this.el.embedHelper=this,this.el.classList.add(this.getOption("label"))}},{key:"onBeforeRender",value:function(){if(this.migrateNode)this.wrappedEl=this.migrateNode;else{var t=this.el.querySelector(".embedded");this.wrappedEl=t?t.firstChild:this.el.firstChild}}},{key:"onAfterRender",value:function(){if(!this.contentView){var t=this.getOption("contentView");this.contentView=new t({content:this.wrappedEl,page:this.page}),this.showChildView("content",this.contentView),this.contentView.on("updated",this.contentChange.bind(this))}this.detacher||(this.detacher=new ld,this.detacher.on("delete",this.remove.bind(this)),this.showChildView("controls",this.detacher))}},{key:"focus",value:function(){this.contentView&&this.contentView.focus()}},{key:"remove",value:function(){var t=this;return this.$el.slideUp("fast",(function(){return t.$el.remove()}))}},{key:"contentChange",value:function(){this.trigger("updated")}},{key:"listenForChanges",value:function(){this._listening=!0}},{key:"cleanContent",value:function(){if(this.contentView){var t=this.contentView.cleanContent();if(t){var e=document.createElement(this.tagName);return e.classList.add(this.className),e.classList.add(this.getOption("label")),e.innerHTML=t,this.log("🦋 embed cleanContent",e.outerHTML),e.outerHTML}}return""}}])&&yd(e.prototype,n),s}(Nn);wd.prototype.template=pd(),wd.prototype.tagName="div",wd.prototype.className="embed",wd.prototype.regions={content:".embedded",controls:".cms-controls"};const _d=wd;var Od=n(3379),xd=n.n(Od),Sd=n(3855),kd=n.n(Sd);function jd(t){return jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(t)}function Ed(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pd(t,e){return Pd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pd(t,e)}function Td(t,e){if(e&&("object"===jd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Cd(t)}function Cd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ad(t)}var Nd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pd(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ad(r);if(o){var n=Ad(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Td(this,t)});function s(){var t;Ed(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onRender=t.onRender.bind(Cd(t)),t.toggleButtons=t.toggleButtons.bind(Cd(t)),t.addImages=t.addImages.bind(Cd(t)),t.addVideo=t.addVideo.bind(Cd(t)),t.addPages=t.addPages.bind(Cd(t)),t.addDocument=t.addDocument.bind(Cd(t)),t.addQuote=t.addQuote.bind(Cd(t)),t.addNote=t.addNote.bind(Cd(t)),t.embed=t.embed.bind(Cd(t)),t}return e=s,(n=[{key:"initialize",value:function(t){var e=t.helped;this.helped_el=e,document.body.append(this.el)}},{key:"setTarget",value:function(t){this.target=t,this.hideButtons()}},{key:"toggleButtons",value:function(t){this.containEvent(t),this.$el.hasClass("showing")?this.hideButtons():this.showButtons()}},{key:"showButtons",value:function(){this.trigger("expand"),this.$el.addClass("showing")}},{key:"hideButtons",value:function(){this.trigger("contract"),this.$el.removeClass("showing")}},{key:"addImages",value:function(t){this.containEvent(t),this.embed("images")}},{key:"addVideo",value:function(t){this.containEvent(t),this.embed("video")}},{key:"addPages",value:function(t){this.containEvent(t),this.embed("pages")}},{key:"addDocument",value:function(t){this.containEvent(t),this.embed("document")}},{key:"addQuote",value:function(t){this.containEvent(t),this.embed("quote")}},{key:"addNote",value:function(t){this.containEvent(t),this.embed("note")}},{key:"embed",value:function(t){var e=document.createElement("div");e.classList.add("embed"),e.classList.add(t),this.trigger("insert",e,this.target),this.hideButtons()}},{key:"place",value:function(t){var e=t.getBoundingClientRect();this.$el.css({top:e.top+window.scrollY,left:e.left+window.scrollX})}}])&&Rd(e.prototype,n),s}(Nn);Nd.prototype.template=kd(),Nd.prototype.tagName="div",Nd.prototype.className="cms-helper-tool cms-inserter",Nd.prototype.events={"click a.show":"toggleButtons","click a.image":"addImages","click a.video":"addVideo","click a.page":"addPages","click a.document":"addDocument","click a.linkbutton":"addButton","click a.quote":"addQuote","click a.note":"addNote"};const Dd=Nd;var Bd=n(4811),Md=n.n(Bd);function Vd(t){return Vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(t)}function Id(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ld(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $d(t,e){return $d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$d(t,e)}function qd(t,e){if(e&&("object"===Vd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Hd(t)}function Hd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fd(t)}var Ud=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$d(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Fd(r);if(o){var n=Fd(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return qd(this,t)});function s(){var t;Id(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onRender=t.onRender.bind(Hd(t)),t.toggleButtons=t.toggleButtons.bind(Hd(t)),t.replaceTagWith=t.replaceTagWith.bind(Hd(t)),t}return e=s,(n=[{key:"initialize",value:function(t){var e=t.helped;this.helped_el=e}},{key:"setTarget",value:function(t){this.target=t,this.showCurrentTagName(),this.hideButtons()}},{key:"showCurrentTagName",value:function(){if(this.el.querySelectorAll("a[data-tagname]").forEach((function(t){return t.classList.remove("selected")})),this.target&&this.target.tagName){var t=this.target.tagName.toLowerCase(),e=this.el.querySelector("a[data-tagname='".concat(t,"']"));e&&e.classList.add("selected");var n=this.el.querySelector("a.show use");n&&n.setAttribute("href","/spritemap.svg#sprite-".concat(t))}}},{key:"toggleButtons",value:function(t){this.containEvent(t),this.$el.hasClass("showing")?this.hideButtons():this.showButtons()}},{key:"showButtons",value:function(){this.trigger("expand"),this.$el.addClass("showing")}},{key:"hideButtons",value:function(){this.trigger("contract"),this.$el.removeClass("showing")}},{key:"changeTag",value:function(t){t&&t.preventDefault();var e=t.currentTarget;if(e){var n=e.dataset.tagname;this.replaceTagWith(n)}}},{key:"replaceTagWith",value:function(t){var e,n,r;if(t&&this.target){var o=this.target,i={pre:"code",ol:"li",ul:"li"},s=i[o.tagName.toLowerCase()];if(s){var a=o.querySelectorAll(s);e=Array.from(a)}e&&e.length||(e=[o]),i[t]?(r=i[t],n=document.createElement(t)):e.length>1?(r=t,n=document.createDocumentFragment()):n=document.createElement(t),i[t]||e.length>1?e.forEach((function(t){var e=document.createElement(r);e.innerHTML=t.innerHTML,n.append(e)})):n.innerHTML=e[0].innerHTML,this.log("Placing",n,"over",o),o.replaceWith(n),this.trigger("modify",n),this.log("Leaves us with",n),this.setTarget(n)}}}])&&Ld(e.prototype,n),s}(Nn);Ud.prototype.template=Md(),Ud.prototype.tagName="div",Ud.prototype.className="cms-helper-tool cms-modifier",Ud.prototype.events={"click a.hide":"toggleButtons","click a.show":"toggleButtons","click a[data-tagname]":"changeTag"};const zd=Ud;function Wd(t){return Wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(t)}function Gd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kd(t,e){return Kd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Kd(t,e)}function Xd(t,e){if(e&&("object"===Wd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yd(t)}function Yd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qd(t){return Qd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qd(t)}var Zd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kd(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qd(r);if(o){var n=Qd(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Xd(this,t)});function s(){var t;Gd(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onRender=t.onRender.bind(Yd(t)),t.place=t.place.bind(Yd(t)),t.show=t.show.bind(Yd(t)),t.hide=t.hide.bind(Yd(t)),t}return e=s,n=[{key:"initialize",value:function(t){var e=t.helped,n=t.callbacks;this.helped_el=e,this.callbacks=n||{},document.body.appendChild(this.el)}},{key:"onRender",value:function(){this.helped_el&&(this.assetInserter=new Dd({helped:this.helped_el}),this.showChildView("inserter",this.assetInserter),this.assetInserter.on("insert",this.assetInserted.bind(this)),this.blockModifier=new zd({helped:this.helped_el}),this.showChildView("modifier",this.blockModifier),this.blockModifier.on("modify",this.blockModified.bind(this))),this.hide()}},{key:"blockModified",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log("blockModified",e),this.trigger.apply(this,["modify"].concat(e))}},{key:"assetInserted",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.log("assetInserted",e),this.trigger.apply(this,["insert"].concat(e))}},{key:"help",value:function(t){this.placeOn(t)}},{key:"placeOn",value:function(t){var e="p, h2, h3, ol, ul, pre",n=t;t.nodeType===Node.TEXT_NODE&&(n=n.parentNode),n&&!n.matches(e)&&(n=n.closest(e)),n?(n.innerText.trim()?this.prepareToModify(n):this.prepareToInsertAt(n),this.place(n),this.show()):(this.ui.modifier.hide(),this.ui.inserter.show(),this.hide())}},{key:"prepareToModify",value:function(t){this.blockModifier.setTarget(t),this.ui.inserter.hide(),this.ui.modifier.show()}},{key:"prepareToInsertAt",value:function(t){this.assetInserter.setTarget(t),this.ui.modifier.hide(),this.ui.inserter.show()}},{key:"place",value:function(t){var e=t.getBoundingClientRect();this.$el.css({top:e.top+window.scrollY-6,left:e.left+window.scrollX-34}),this.show()}},{key:"show",value:function(){this.$el.show()}},{key:"hide",value:function(){this.$el.hide()}}],n&&Jd(e.prototype,n),s}(Nn);Zd.prototype.tagName="div",Zd.prototype.className="cms-helper",Zd.prototype.template=xd(),Zd.prototype.regions={modifier:"div.cms-modifier",inserter:"div.cms-inserter"},Zd.prototype.ui={modifier:"div.cms-modifier",inserter:"div.cms-inserter"};const ty=Zd;var ey=n(9128),ny=n.n(ey),ry=n(8350),oy=n.n(ry);function iy(t){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(t)}function sy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ay(t,e){return ay=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ay(t,e)}function cy(t,e){if(e&&("object"===iy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uy(t)}var ly=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ay(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=uy(e);if(n){var o=uy(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return cy(this,t)});function o(){return sy(this,o),r.apply(this,arguments)}return o}(su);ly.prototype.template=oy();const fy=ly;function py(t){return py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(t)}function hy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dy(t,e){return dy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},dy(t,e)}function yy(t,e){if(e&&("object"===py(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vy(t){return vy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vy(t)}var gy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dy(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=vy(e);if(n){var o=vy(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return yy(this,t)});function o(){return hy(this,o),r.apply(this,arguments)}return o}(Df);gy.prototype.childView=fy;const my=gy;var by=n(9327),wy=n.n(by),_y=n(9050);function Oy(t){return Oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oy(t)}function xy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return ky=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ky(t,e)}function jy(t,e){if(e&&("object"===Oy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ey(t)}function Ey(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ry(t){return Ry=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ry(t)}var Py=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ky(t,e)}(a,t);var e,n,o,i,s=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ry(o);if(i){var n=Ry(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return jy(this,t)});function a(){var t;xy(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=s.call.apply(s,[this].concat(n))).onRender=t.onRender.bind(Ey(t)),t.place=t.place.bind(Ey(t)),t.show=t.show.bind(Ey(t)),t.hide=t.hide.bind(Ey(t)),t}return e=a,n=[{key:"initialize",value:function(){this.collection=new Mt([]),this.model=new r.Model,document.body.appendChild(this.el)}},{key:"help",value:function(t){var e=t.node,n=t.range;this.log("help",e,n),this.releaseNode(),this.bindNode(e),this._range=n,this.render(),this.place(),this.show(),this.model.on("change",this.updateViews.bind(this)),this.collection.on("add remove reset",_y.debounce(this.setSuggestionVisibility.bind(this),200)),this.setSuggestionVisibility()}},{key:"bindNode",value:function(t){t&&3!==t.nodeType&&(this.helped_el=t,this.model.set({href:t.href,title:t.title,cssclass:t.className,pops:"_blank"===t.target}),t.classList.add("composing"))}},{key:"releaseNode",value:function(){this.helped_el&&(this.helped_el.classList.remove("composing"),this.helped_el=null)}},{key:"onRender",value:function(){this.stickit(),this._suggestions_list=new my({collection:this.collection}),this.showChildView("suggestions",this._suggestions_list),this._suggestions_list.on("select",this.applySuggestion.bind(this)),this.makeSuggestions(),this.ui.href.focus()}},{key:"updateViews",value:function(){if(this.helped_el){var t=this.model.get("href");t?this.helped_el.href=t:this.helped_el.removeAttribute("href");var e=this.model.get("title");e?this.helped_el.title=e:this.helped_el.removeAttribute("title");var n=this.model.get("cssclass");this.helped_el.className=n||"",this.model.get("pops")?this.helped_el.target="_blank":this.helped_el.removeAttribute("target"),this.makeSuggestions(t)}}},{key:"makeSuggestions",value:function(t){t?this.collection.setQuery(t):this.collection.reset(),this.setSuggestionVisibility()}},{key:"setSuggestionVisibility",value:function(){var t=this,e=this.collection.models;this.model.get("path")&&(e=e.filter((function(e){return e.get("path")!==t.model.get("path")}))),this.log("setSuggestionVisibility",e.length),e.length?this.ui.suggestions_holder.show():this.ui.suggestions_holder.hide()}},{key:"applySuggestion",value:function(t){var e=t.get("path"),n=t.get("title");if(e){var r="/".concat(e);this.model.set({href:r,path:e,title:n})}this.log("applySuggestion",t,"=>",_y.clone(this.model.attributes)),this.close()}},{key:"placeOn",value:function(t){this.log("placeOn",t),t&&this.place(t.getBoundingClientRect)}},{key:"place",value:function(){var t;if(this.helped_el?t=this.helped_el.getBoundingClientRect():this._range&&(t=this._range.getBoundingClientRect()),t){var e=t.bottom+window.scrollY+6,n=t.left+window.scrollX+t.width/2;this.el.style.top="".concat(e,"px"),this.el.style.left="".concat(n,"px")}this.offsetIntoView(),this.el.scrollIntoViewIfNeeded()}},{key:"offsetIntoView",value:function(){var t=this.el.getBoundingClientRect(),e=t.left+t.width+10-window.innerWidth,n=this.el.querySelector(".cms-bg");this.log("floater overshoot",e),n.style.transform=e>0?"translate(".concat(-e,"px, 0)"):"translate(0, 0)"}},{key:"show",value:function(){this.el.classList.add("showing")}},{key:"hide",value:function(){this.releaseNode(),this.el.classList.remove("showing")}},{key:"close",value:function(t){t&&t.preventDefault(),this.hide(),this.trigger("close")}},{key:"removeNode",value:function(t){t&&t.preventDefault(),this.hide(),this.trigger("remove")}},{key:"toggleDetails",value:function(t){t&&t.preventDefault(),this.ui.details_holder.hasClass("open")?(this.ui.toggle.removeClass("open"),this.ui.details_holder.removeClass("open")):(this.ui.toggle.addClass("open"),this.ui.details_holder.addClass("open"))}}],n&&Sy(e.prototype,n),a}(Nn);Py.prototype.tagName="div",Py.prototype.className="cms-floater cms-linker",Py.prototype.template=wy(),Py.prototype.ui={body:".cms-bg",suggestions_holder:"div.suggestions",details_holder:"div.details",href:'input[name="href"]',cssclass:'input[name="class"]',title:'input[name="title"]',close:"a.close",toggle:"a.detail",remove:"a.remove"},Py.prototype.events={"click @ui.set":"setLink","click @ui.toggle":"toggleDetails","click @ui.close":"close","click @ui.remove":"removeNode"},Py.prototype.regions={suggestions:"div.suggested_page_list"},Py.prototype.bindings={'input[name="href"]':"href",'input[name="title"]':"title",'input[name="pops"]':"pops"};const Ty=Py;function Cy(t){return Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cy(t)}function Ay(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ny(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ny(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function By(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function My(t,e){return My=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},My(t,e)}function Vy(t,e){if(e&&("object"===Cy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Iy(t)}function Iy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ly(t){return Ly=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ly(t)}var $y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&My(t,e)}(a,t);var e,n,r,o,i,s=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ly(o);if(i){var n=Ly(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Vy(this,t)});function a(){var t;Dy(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=s.call.apply(s,[this].concat(n))).onRender=t.onRender.bind(Iy(t)),t.place=t.place.bind(Iy(t)),t.show=t.show.bind(Iy(t)),t.hide=t.hide.bind(Iy(t)),t}return e=a,r=[{key:"tagFor",value:function(t){switch(t){case"strong":case"bold":return"strong";case"em":case"italic":return"em";case"s":case"strikethrough":return"s";case"u":case"underline":return"u";case"a":case"anchor":return"a";case"code":return"code";default:return"span"}}},{key:"tagsMatching",value:function(t){switch(t){case"bold":return["strong","b"];case"italic":return["em","i"];case"strikethrough":return["s","del"];case"underline":return["u"];case"anchor":return["a"];case"code":return["code"];default:return[]}}}],(n=[{key:"initialize",value:function(t){var e=t.helped;this.helped_el=e,document.body.appendChild(this.el)}},{key:"help",value:function(t){this._range=t.getRangeAt(0).cloneRange(),this.placeOnSelection(),this.showCurrentFormat(),this.show()}},{key:"placeOnSelection",value:function(){if(this._range){var t=this._range.getBoundingClientRect();this.place(t)}}},{key:"showCurrentFormat",value:function(){var t=this;this.el.querySelectorAll("[data-cms-format]").forEach((function(e){var n=e.dataset.cmsFormat,r=Ay(t.formattingState(n),1)[0];!n||"inside"!==r&&"contiguous"!==r?!n||"starting"!==r&&"ending"!==r?(e.classList.remove("selected"),e.classList.remove("partly")):(e.classList.add("partly"),e.classList.remove("selected")):(e.classList.add("selected"),e.classList.remove("partly"))}))}},{key:"formatButtonAction",value:function(t){var e=t.currentTarget;if(e){var n=e.dataset.cmsFormat;"anchor"===n?this.anchorHelper():n&&(this.applyFormat(n),this.reselectRange())}}},{key:"applyFormat",value:function(t,e){var n=e||this._range,r=n.startContainer,o=n.endContainer;if(this.log("applyFormat",r,o),r===o)return this.applyFormatToRange(t,n);if(3===r.nodeType&&3===o.nodeType){if(r.parentNode===o.parentNode)return this.applyFormatToRange(t,n);if(o.parentNode.contains(r)||r.parentNode.contains(o))return this.applyFormatToRange(t,n)}return this.applyFormatToNodes(t,n)}},{key:"applyFormatToRange",value:function(t,e){var n,r=this,o=e||this._range,i=Ay(this.formattingState(t,o),2),s=i[0],c=i[1],u=a.tagFor(t);if(this.log("applyFormatToRange",s,c),"contiguous"===s){var l=this.unwrapNode(c);return o.setStartBefore(l[0]),void o.setEndAfter(l[l.length-1])}if("inside"===s){var f=o.startContainer,p=f.splitText(o.endOffset),h=f.splitText(o.startOffset);if(c.after(h),p.textContent.trim()){var d=document.createElement(u);d.append(p),h.after(d)}return this.log("beforeNode.textContent",f,f.textContent),void(c.innerText.trim()||c.remove())}if("starting"===s){var y=o.startContainer.splitText(o.startOffset);return c.after(y),void o.setStartBefore(y)}if("ending"===s){var v=o.startContainer.splitText(o.startOffset);return c.prepend(v),void o.setEndAfter(v)}try{n=this.wrapRange(u,o)}catch(e){this.applyFormatToNodes(t,o)}if(n){var g=a.tagsMatching(t);n.querySelectorAll(g.join(", ")).forEach((function(t){r.unwrapNode(t)})),o.selectNodeContents(n)}}},{key:"wrapRange",value:function(t,e){var n=document.createElement(t);return e.surroundContents(n),n.normalize(),n}},{key:"applyFormatToNodes",value:function(t,e){var n,r,o=this,i=e||this._range,s=i.startContainer,a=this._range.endContainer,c=i.extractContents();Array.from(c.childNodes).forEach((function(e){var n=o.applyFormatToNode(e,t);o.log("replacinng",e),o.log("with",n),e.replaceWith(n)}));var u=c.firstChild,l=s;3===l.nodeType&&(l=l.parentNode),l.contains(a)?s.after(u):3===u.nodeType?l.append(u):(Array.from(u.childNodes).forEach((function(t){n||(n=t),l.append(t)})),u.remove());var f=c.lastChild,p=a;3===p.nodeType&&(p=p.parentNode),p.contains(s)?a.before(f):3===f.nodeType?p.prepend(f):(Array.from(f.childNodes).reverse().forEach((function(t){r||(r=t),p.prepend(t)})),f.remove()),p.before(c),n&&i.setStartBefore(n),r&&i.setEndAfter(r)}},{key:"applyFormatToNode",value:function(t,e){this.log("applyFormatToNode",t,e);var n=a.tagFor(e),r=a.tagsMatching(e);if(3===t.nodeType)return this.wrapText(n,t);var o=t.querySelector(r.join(", "));return o?(this.unwrapNode(o),t):this.wrapNode(n,t)}},{key:"wrapText",value:function(t,e){var n=document.createElement(t);return n.append(e.cloneNode()),n}},{key:"wrapNode",value:function(t,e){if(e.innerText.trim().length){var n=document.createElement(t);n.innerHTML=e.innerHTML,e.innerHTML=n.outerHTML}return e}},{key:"unwrapNode",value:function(t){var e=this,n=Array.from(t.childNodes);return n.forEach((function(n){t.before(n),e.log("unwrapped",n)})),t.remove(),n}},{key:"formattingState",value:function(t,e){var n=e||this._range,r=a.tagsMatching(t),o=n.commonAncestorContainer;if(o&&(o.tagName||(o=o.parentNode),o=o.closest(r.join(","))))return n.cloneContents().textContent===o.innerText?["contiguous",o]:["inside",o];var i=n.startContainer;if(i.tagName||(i=i.parentNode),r.includes(i.tagName.toLowerCase()))return["starting",i];var s=n.endContainer;if(s.tagName||(s=s.parentNode),r.includes(s.tagName.toLowerCase()))return["ending",s];var c=n.cloneContents(),u=c.querySelector(r.join(","));return u?(u.remove(),c.childNodes.length?["outside",null]:(n.deleteContents(),n.insertNode(u),n.selectNodeContents(u),["contiguous",u])):["none",null]}},{key:"place",value:function(t){var e=t.top+window.scrollY-40,n=t.left+window.scrollX+t.width/2;this.el.style.top="".concat(e,"px"),this.el.style.left="".concat(n,"px"),this.offsetIntoView()}},{key:"offsetIntoView",value:function(){var t=this.el.getBoundingClientRect(),e=t.left+t.width+10-window.innerWidth,n=this.el.querySelector(".cms-bg");this.log("floater overshoot",e),n.style.transform=e>0?"translate(".concat(-e,"px, 0)"):"translate(0, 0)"}},{key:"show",value:function(){this.releaseAnchor(),this.el.classList.add("showing")}},{key:"hide",value:function(){this.el.classList.remove("showing")}},{key:"close",value:function(){this.releaseAnchor(),this.hide()}},{key:"checkAnchorAndReselect",value:function(){this._active_anchor&&(this._active_anchor.href?(this._range.selectNodeContents(this._active_anchor),this._active_anchor=void 0,this.reselectRange()):this.deleteAnchor())}},{key:"deleteAnchor",value:function(){this._active_anchor&&this.unwrapNode(this._active_anchor),this._active_anchor=void 0}},{key:"anchorHelper",value:function(){var t=Ay(this.formattingState("anchor"),2),e=t[0],n=t[1];e||(e="none"),n||(n=this.wrapRange("a",this._range)),this._range.selectNodeContents(n),this._anchor_helper||(this._anchor_helper=new Ty,this._anchor_helper.on("close",this.checkAnchorAndReselect.bind(this)),this._anchor_helper.on("remove",this.deleteAnchor.bind(this))),this._anchor_helper.help({node:n,range:this._range}),this._active_anchor=n,this.hide()}},{key:"resumeHelping",value:function(){this.releaseAnchor(),this.show(),this.reselectRange()}},{key:"releaseAnchor",value:function(){this._active_anchor&&this._anchor_helper&&this._anchor_helper.close()}},{key:"reselectRange",value:function(t){var e=t||this._range,n=window.getSelection();n.removeAllRanges(),n.addRange(e),this.showCurrentFormat()}}])&&By(e.prototype,n),r&&By(e,r),a}(Nn);$y.prototype.tagName="div",$y.prototype.className="cms-floater cms-toolbar",$y.prototype.template=ny(),$y.prototype.events={"click a[data-cms-format]":"formatButtonAction"},$y.prototype.ui={formatters:"[data-cms-format]"};const qy=$y;var Hy=new Set(["p","ul","ol","li","h2","h3","strong","em","u","s","a","code","img","table","thead","tbody","tr","th","td","span"]),Fy=new Set(["span","b","i","u","strong","em","s"]),Uy=new Set(["src","href","target","title","role"]),zy=["https://","http://","data://"],Wy={i:"em",b:"strong",h1:"h2",h4:"h3",h5:"h3",form:"div",fieldset:"div"};function Gy(t){var e=t.tagName.toLowerCase();return Wy[e]}function Jy(t){return Uy.has(t.toLowerCase())}function Ky(t){if(3===t.nodeType)return t.cloneNode(!0);if(function(t){return Fy.has(t.tagName.toLowerCase())&&""===t.innerText.trim()}(t))return"";if(!function(t){return Hy.has(t.tagName.toLowerCase())}(t)&&!Gy(t))return"";var e=Gy(t)||t.tagName,n=document.createElement(e);return Array.from(t.attributes).forEach((function(t){var e,r;"style)"===t.name?(e=!1,r=""):"src"===t.name||"href"===t.name?(e=Jy(t.name)&&function(t){return zy.find((function(e){return t.slice(0,e.length)===e}))}(t.value),r=t.value):(e=Jy(t.name),r=t.value),e&&n.setAttribute(t.name,r)})),Array.from(t.childNodes).forEach((function(t){var e=Ky(t);e&&n.append(e)})),n}function Xy(t){return Ky(t)}var Yy=n(9050);function Qy(t){return Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(t)}function Zy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ev(t,e,n){return ev="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=iv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},ev(t,e,n||t)}function nv(t,e){return nv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},nv(t,e)}function rv(t,e){if(e&&("object"===Qy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ov(t)}function ov(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iv(t)}var sv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nv(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=iv(r);if(o){var n=iv(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return rv(this,t)});function s(){var t;Zy(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).render=t.render.bind(ov(t)),t}return e=s,(n=[{key:"initialize",value:function(){ev(iv(s.prototype),"initialize",this).call(this),this.log("🌼 blocksHelper init",this.el.cloneNode(!0))}},{key:"render",value:function(){var t,e,n;if(t=this.el,Array.from(t.childNodes).forEach((function(t){var e=Ky(t);t.replaceWith(e)})),this.el.contentEditable=!0,this.el.classList.add("cms-blocks"),this.el.dataset.placeholder=y("placeholders.page.blocks"),0===this.el.childElementCount){var r=document.createElement("p");r.dataset.placeholder=this.el.dataset.placeholder,this.el.appendChild(r)}this.block_helper=(e=this.el,(n=new ty({helped:e,callbacks:undefined})).render(),n),this.block_helper.on("insert",this.insertedAsset.bind(this)),this.block_helper.on("modify",this.modifiedBlock.bind(this)),this.format_helper=function(t,e){var n=new qy({helped:t,callbacks:void 0});return n.render(),n}(this.el),this.format_helper.on("change",this.changedFormat.bind(this)),this.content_observer=new MutationObserver(Yy.debounce(this.contentChange.bind(this)),500),this.content_observer.observe(this.el,{characterData:!0,childList:!0,subtree:!0}),this.el.addEventListener("paste",this.paste.bind(this))}},{key:"insertedAsset",value:function(t,e){this.log("insertedAsset",t,e);var n=document.createElement("div");if(n.classList.add("cms-blocks"),e&&e.nextSibling)for(;e.nextSibling;)n.append(e.nextSibling);else n.append(document.createElement("P"));e.remove(),this.el.after(t,n),this.block_helper.hide()}},{key:"modifiedBlock",value:function(t){this.log("modifiedBlock",t)}},{key:"changedFormat",value:function(){this.log("changedFormat")}},{key:"focus",value:function(){this.el.focus()}},{key:"handleSelection",value:function(t,e){t.isCollapsed?(this.block_helper.help(e),this.format_helper.close()):this.format_helper.help(t)}},{key:"releaseSelection",value:function(){this.format_helper.hide()}},{key:"subsume",value:function(t){var e=this,n=t.tagName.toLowerCase()===this.tagName.toLowerCase(),r=t.classList.contains(this.className);if(n&&r)Array.from(t.children).forEach((function(t){return e.el.append(t)}));else{var o=Xy(t);this.el.append(o)}t.cmsHelper&&t.cmsHelper.destroy(),t.remove()}},{key:"paste",value:function(t){t.preventDefault();var e=t.clipboardData||window.clipboardData;if(e){var n=window.getSelection();if(n.rangeCount){n.deleteFromDocument();var r=n.getRangeAt(0),o=e.getData("text/html")||e.getData("text"),i=r.createContextualFragment(o);Array.from(i.childNodes).forEach((function(t){var e=Xy(t);e&&(r.insertNode(e),r.setStartAfter(e))})),r.collapse(),n.removeAllRanges(),n.addRange(r)}}}},{key:"onBeforeDestroy",value:function(){this._toolbar&&this._toolbar.destroy(),this._inserter&&this._inserter.destroy(),this.content_observer&&this.content_observer.disconnect()}},{key:"contentChange",value:function(){this.trigger("updated")}},{key:"cleanContent",value:function(){return mn(this.el)}},{key:"placeHelper",value:function(t){this.block_helper.help(t.currentTarget)}}])&&tv(e.prototype,n),s}(Nn);sv.prototype.tagName="div",sv.prototype.className="cms-blocks",sv.prototype.label="blocks",sv.prototype.events={"mouseover p":"placeHelper","mouseover h2":"placeHelper","mouseover h3":"placeHelper","mouseover ol":"placeHelper","mouseover ul":"placeHelper","mouseover pre":"placeHelper"};const av=sv;var cv=n(9050);function uv(t){return uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(t)}function lv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pv(t,e){return pv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},pv(t,e)}function hv(t,e){if(e&&("object"===uv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dv(t)}var yv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pv(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=dv(r);if(o){var n=dv(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return hv(this,t)});function s(){return lv(this,s),i.apply(this,arguments)}return e=s,n=[{key:"onRender",value:function(){var t=this.model.get("content");t&&t.trim()?this.el.innerHTML=t:this.el.innerHTML='<div class="blocks"></div>',this.list_observer=new MutationObserver(this.elementsChange.bind(this)),this.list_observer.observe(this.el,{childList:!0}),document.onselectionchange=cv.debounce(this.selectionChange.bind(this),100),this.setHelpers()}},{key:"elementsChange",value:function(){this.setHelpers()}},{key:"contentChange",value:function(){this.model.set("content",this.cleanContent()),this.model.set("excerpt",this.extractExcerpt())}},{key:"selectionChange",value:function(){var t=document.getSelection();if(t.rangeCount){var e=t.getRangeAt(0).commonAncestorContainer;if(1!==e.nodeType&&(e=e.parentNode),this.el.contains(e)){Array.from(this.el.children).forEach((function(t){t.cmsHelper&&t.cmsHelper.releaseSelection&&t.cmsHelper.releaseSelection()}));var n=e.closest(".cms-blocks");n&&n.cmsHelper&&n.cmsHelper.handleSelection(t,e)}}}},{key:"onDestroy",value:function(){this.list_observer&&this.list_observer.disconnect(),Array.from(this.el.children).forEach((function(t){t.cmsHelper&&t.cmsHelper.destroy()}))}},{key:"setHelpers",value:function(){var t=this;Array.from(this.el.children).every((function(e){var n=ed.find((function(t){return e.matches(t.selector)}));if(n)return t.assetHelper(e,n);var r=ed.find((function(t){return e.matches(t.migrate_selector)}));return r?t.assetImport(e,r):t.blocksHelper(e)}))}},{key:"assetHelper",value:function(t,e){var n=t;if(!n.cmsHelper){var r=e.content_view,o=e.label,i=this.model,s=new _d({el:n,page:i,label:o,contentView:r});n.cmsHelper=s,s.render(),s.on("updated",this.contentChange.bind(this)),s.focus()}return!0}},{key:"assetImport",value:function(t,e){var n=e.content_view,r=this.model,o=e.label,i=new _d({page:r,label:o,contentView:n,migrate:t.cloneNode(!0)});return i.render(),this.el.insertBefore(i.el,t),t.remove(),!1}},{key:"blocksHelper",value:function(t){var e=t;if(e.previousElementSibling&&e.previousElementSibling.cmsBlocks)return e.previousElementSibling.cmsHelper.subsume(e),!1;if("DIV"!==e.tagName||!e.classList.contains("cms-blocks")){var n=document.createElement("DIV");return n.classList.add("cms-blocks"),e.parentNode.insertBefore(n,e),n.appendChild(e),!1}if(!e.cmsHelper){var r=this.model,o=new av({el:e,page:r});o.render(),o.on("updated",this.contentChange.bind(this)),e.cmsHelper=o,e.cmsBlocks=!0}return!0}},{key:"cleanContent",value:function(){var t=[];return Array.from(this.el.children).forEach((function(e){if(e.cmsHelper){var n=e.cmsHelper.cleanContent();t.push(n)}})),t.join("\n")}},{key:"extractExcerpt",value:function(){return S(gn(this.el).innerText.trim(),512)}}],n&&fv(e.prototype,n),s}(Nn);yv.prototype.tagName="div",yv.prototype.className="content";const vv=yv;function gv(t){return gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(t)}function mv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wv(t,e){return wv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},wv(t,e)}function _v(t,e){if(e&&("object"===gv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ov(t)}function Ov(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xv(t){return xv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},xv(t)}var Sv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wv(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xv(r);if(o){var n=xv(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _v(this,t)});function s(){var t;mv(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onAfterRender=t.onAfterRender.bind(Ov(t)),t.closeMenusOtherThan=t.closeMenusOtherThan.bind(Ov(t)),t}return e=s,n=[{key:"onAfterRender",value:function(){var t=this;this.showChildView("title",new il({model:this.model})),this.showChildView("content",new vv({model:this.model})),this.showChildView("masthead",new ps({model:this.model})),this.siteView=new Ju({model:this.model}),this.showChildView("site",this.siteView),this.siteView.on("open",(function(){return t.closeMenusOtherThan(t.siteView)})),this.configView=new Fc({model:this.model}),this.showChildView("config",this.configView),this.configView.on("open",(function(){return t.closeMenusOtherThan(t.configView)})),this.controlView=new Js({model:this.model}),this.showChildView("control",this.controlView),this.controlView.on("open",(function(){return t.closeMenusOtherThan(t.controlView)}))}},{key:"closeMenusOtherThan",value:function(t){t!==this.siteView&&this.siteView.close(),t!==this.configView&&this.configView.close(),t!==this.controlView&&this.controlView.close()}}],n&&bv(e.prototype,n),s}(Nn);Sv.prototype.template=Xu(),Sv.prototype.tagName="main",Sv.prototype.regions={masthead:"#cms_illustration",title:"#cms_title",content:"#cms_content",config:".page_config",control:".page_control",site:".site"};const kv=Sv;var jv=n(3673),Ev=n.n(jv),Rv=n(9050);function Pv(t){return Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(t)}function Tv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Av(t,e){return Av=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Av(t,e)}function Nv(t,e){if(e&&("object"===Pv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dv(t)}function Dv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bv(t){return Bv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bv(t)}var Mv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Av(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Bv(r);if(o){var n=Bv(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Nv(this,t)});function s(){var t;Tv(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))).onRender=t.onRender.bind(Dv(t)),t.fadeOut=t.fadeOut.bind(Dv(t)),t.close=t.close.bind(Dv(t)),t}return e=s,(n=[{key:"onRender",value:function(){this.stickit(),Rv.delay(this.fadeOut.bind(this),this.model.get("duration")||4e3)}},{key:"fadeOut",value:function(){this.$el.fadeOut(500,this.close.bind(this))}},{key:"close",value:function(t){t&&t.preventDefault(),this.$el.stop(!0,!1).hide(),this.model.collection&&this.model.collection.remove(this.model)}}])&&Cv(e.prototype,n),s}(p.View);Mv.prototype.template=Ev(),Mv.prototype.tagName="li",Mv.prototype.events={click:"fadeOut"},Mv.prototype.bindings={".message":{observe:"message",updateMethod:"html"},":el":{attributes:[{name:"class",observe:"type"}]}};const Vv=Mv;function Iv(t){return Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(t)}function Lv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $v(t,e){return $v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},$v(t,e)}function qv(t,e){if(e&&("object"===Iv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hv(t)}var Fv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$v(t,e)}(o,t);var e,n,r=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=Hv(e);if(n){var o=Hv(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return qv(this,t)});function o(){return Lv(this,o),r.apply(this,arguments)}return o}(p.CollectionView);Fv.prototype.childView=Vv,Fv.prototype.tagName="ul",Fv.prototype.className="notices";const Uv=Fv;var zv=n(5637),Wv=n.n(zv);function Gv(t){return Gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(t)}function Jv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xv(t,e){return Xv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Xv(t,e)}function Yv(t,e){if(e&&("object"===Gv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qv(t)}var Zv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xv(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qv(r);if(o){var n=Qv(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Yv(this,t)});function s(){return Jv(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"onRender",value:function(){this.ui.message.html(this.getOption("message")),this.ui.notes.html(this.getOption("notes"))}}])&&Kv(e.prototype,n),s}(Nn);Zv.prototype.template=Wv(),Zv.prototype.tagName="div",Zv.prototype.className="mask",Zv.prototype.ui={message:"p.message",notes:"p.notes"},Zv.prototype.triggers={"click a.accept":"accept","click a.reject":"reject","click a.close":"reject","click a.cancel":"reject"};const tg=Zv;var eg=n(6037),ng=n.n(eg),rg=n(9755);function og(t){return og="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(t)}function ig(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ag(t,e){return ag=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ag(t,e)}function cg(t,e){if(e&&("object"===og(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ug(t)}var lg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ag(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ug(r);if(o){var n=ug(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return cg(this,t)});function s(){return ig(this,s),i.apply(this,arguments)}return e=s,n=[{key:"onBeforeRender",value:function(){var t=this.el.dataset.cmsPage;this.model=new Et({id:t}),console.log("⚛️ rendering UI in",this.el)}},{key:"onRender",value:function(){this.$el.addClass("waiting"),this.showChildView("notices",new Uv({collection:m})),this.showPageEditor(),this.$el.on("navigate",this.navigateIfSafe.bind(this)),this.$el.on("exit",this.departWithConfirmation.bind(this))}},{key:"showPageEditor",value:function(){var t=this;!function(t){window.p=t,E.on("add remove reset change:progress",(function(){var e=E.length>0;if(t.set("busy",e),e){var n=E.reduce((function(t,e){return t+(e.get("progress")||0)}),0);t.set("progress",n/E.length)}else t.unset("progress")}))}(this.model),this.getRegion("page").reset(),this.model.loadAnd((function(){t.stickit(),t.showChildView("page",new kv({model:t.model})),t.$el.removeClass("waiting")}))}},{key:"setModel",value:function(t){t!==this.model&&(this.model=t,this.showPageEditor())}},{key:"layoutClass",value:function(t){return"layout_".concat(t)}},{key:"navigateIfSafe",value:function(t,e){var n=this;this.log("⛑ navigateIfSafe",t,e),t&&t.preventDefault(),this.model?this.requestNavigationTo(e).done((function(){n.setModel(e)})):this.setModel(e)}},{key:"departWithConfirmation",value:function(t){this.log("⛑ departWithConfirmation"),t&&t.preventDefault(),this.requestNavigationAway().done((function(){window.location.href=f("exit_url")}))}},{key:"requestNavigationTo",value:function(t){var e=y("confirmations.page_jump"),n=t.get("title"),r="".concat(e," '").concat(n,"'?"),o=this.pageStatusNotes();return this.requestConfirmation(r,o)}},{key:"requestNavigationAway",value:function(){var t=y("confirmations.leave_editor"),e=this.pageStatusNotes();return this.requestConfirmation(t,e)}},{key:"pageStatusNotes",value:function(){var t="";return this.model.get("changed")?(t+=y("confirmations.page_unsaved"),this.model.get("busy")&&(t+=y("confirmations.and_work_in_progress"))):this.model.get("busy")&&(t+=y("confirmations.work_in_progress")),t}},{key:"requestConfirmation",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=rg.Deferred(),o=new tg({message:t,notes:n});return this.showChildView("warning",o),o.on("accept",(function(){e.clearWarning(),r.resolve()})),o.on("reject",(function(){e.clearWarning(),r.reject()})),r.promise()}},{key:"clearWarning",value:function(){this.getRegion("warning").reset()}}],n&&sg(e.prototype,n),s}(Nn);lg.prototype.template=ng(),lg.prototype.regions={notices:"#notices",warning:"#warning",page:"#cms_page"},lg.prototype.bindings={"#cms_page":{attributes:[{name:"class",observe:"style",onGet:"layoutClass"}]}};const fg=lg;function pg(t){return pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(t)}function hg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yg(t,e){return yg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yg(t,e)}function vg(t,e){if(e&&("object"===pg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gg(t)}var mg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yg(t,e)}(s,t);var e,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=gg(r);if(o){var n=gg(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return vg(this,t)});function s(){return hg(this,s),i.apply(this,arguments)}return e=s,(n=[{key:"initialize",value:function(t,e){return e&&l(e),window.onerror=O,this.page_el=t,pn(Xt).load(),hn().load(),this}},{key:"onStart",value:function(){this.ui=new fg({el:this.page_el}),this.ui.render()}}])&&dg(e.prototype,n),s}(p.Application);const bg=mg,wg=function(t,e){return new bg(t,e).start()}},3574:function(t,e,n){!function(t,e,n,r){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;var o="4.1.3",i=function(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(e,r)}},s=e.Model.extend,a=function(t){var e=this;if(t)return n.reduce(t,(function(t,r,o){return n.isFunction(r)||(r=e[r]),r&&(t[o]=r),t}),{})},c=["description","fileName","lineNumber","name","message","number","url"],u=s.call(Error,{urlRoot:"http://marionettejs.com/docs/v".concat(o,"/"),url:"",constructor:function(t){var e=Error.call(this,t.message);n.extend(this,n.pick(e,c),n.pick(t,c)),Error.captureStackTrace&&this.captureStackTrace(),this.url=this.urlRoot+this.url},captureStackTrace:function(){Error.captureStackTrace(this,u)},toString:function(){return"".concat(this.name,": ").concat(this.message," See: ").concat(this.url)}});function l(t,e){if(!n.isObject(e))throw new u({message:"Bindings must be an object.",url:"common.html#bindevents"});return a.call(t,e)}function f(t,e){return t&&e?(this.listenTo(t,l(this,e)),this):this}function p(t,e){return t?e?(this.stopListening(t,l(this,e)),this):(this.stopListening(t),this):this}function h(t,e){if(!n.isObject(e))throw new u({message:"Bindings must be an object.",url:"common.html#bindrequests"});return a.call(t,e)}function d(t,e){return t&&e?(t.reply(h(this,e),this),this):this}function y(t,e){return t?e?(t.stopReplying(h(this,e),this),this):(t.stopReplying(null,null,this),this):this}var v=function(t){if(t)return this.options&&void 0!==this.options[t]?this.options[t]:this[t]},g=function(t,e){var r=this;t&&n.each(e,(function(e){var n=t[e];void 0!==n&&(r[e]=n)}))};function m(t,e,r){t._getImmediateChildren&&n.each(t._getImmediateChildren(),(function(t){r(t)&&t.triggerMethod(e,t)}))}function b(t){return!t._isAttached}function w(t){return!!b(t)&&(t._isAttached=!0,!0)}function _(t){return t._isAttached}function O(t){return t._isAttached=!1,!0}function x(t){t._isAttached&&t._isRendered&&t.triggerMethod("dom:refresh",t)}function S(t){t._isAttached&&t._isRendered&&t.triggerMethod("dom:remove",t)}function k(){m(this,"before:attach",b)}function j(){m(this,"attach",w),x(this)}function E(){m(this,"before:detach",_),S(this)}function R(){m(this,"detach",O)}function P(){S(this)}function T(){x(this)}function C(t){t._areViewEventsMonitored||!1===t.monitorViewEvents||(t._areViewEventsMonitored=!0,t.on({"before:attach":k,attach:j,"before:detach":E,detach:R,"before:render":P,render:T}))}var A=/(^|:)(\w)/gi,N={};function D(t,e,n){return n.toUpperCase()}var B=function(t){return N[t]||(N[t]="on"+t.replace(A,D)),N[t]};function M(t){var e,r=B(t),o=v.call(this,r);return n.isFunction(o)&&(e=o.apply(this,n.drop(arguments))),this.trigger.apply(this,arguments),e}var V={triggerMethod:M},I={normalizeMethods:a,_setOptions:function(t,e){this.options=n.extend({},n.result(this,"options"),t),this.mergeOptions(t,e)},mergeOptions:g,getOption:v,bindEvents:f,unbindEvents:p,bindRequests:d,unbindRequests:y,triggerMethod:M};n.extend(I,e.Events);var L={_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},destroy:function(t){return this._isDestroyed||(this.triggerMethod("before:destroy",this,t),this._isDestroyed=!0,this.triggerMethod("destroy",this,t),this.stopListening()),this}},$={_initRadio:function(){var t=n.result(this,"channelName");if(t){if(!r)throw new u({message:'The dependency "backbone.radio" is missing.',url:"backbone.radio.html#marionette-integration"});var e=this._channel=r.channel(t),o=n.result(this,"radioEvents");this.bindEvents(e,o);var i=n.result(this,"radioRequests");this.bindRequests(e,i),this.on("destroy",this._destroyRadio)}},_destroyRadio:function(){this._channel.stopReplying(null,null,this)},getChannel:function(){return this._channel}},q=["channelName","radioEvents","radioRequests"],H=function(t){this._setOptions(t,q),this.cid=n.uniqueId(this.cidPrefix),this._initRadio(),this.initialize.apply(this,arguments)};H.extend=s,n.extend(H.prototype,I,L,$,{cidPrefix:"mno",initialize:function(){}});var F=n.invokeMap||n.invoke;function U(t,e,r){return n.reduce(e,(function(e,r){var o=function(t){if(t.behaviorClass)return{BehaviorClass:t.behaviorClass,options:t};if(n.isFunction(t))return{BehaviorClass:t,options:{}};throw new u({message:"Unable to get behavior class. A Behavior constructor should be passed directly or as behaviorClass property of options",url:"marionette.behavior.html#defining-and-attaching-behaviors"})}(r),i=new(0,o.BehaviorClass)(o.options,t);return e.push(i),U(t,n.result(i,"behaviors"),e)}),r)}var z={_initBehaviors:function(){this._behaviors=U(this,n.result(this,"behaviors"),[])},_getBehaviorTriggers:function(){var t=F(this._behaviors,"_getTriggers");return n.reduce(t,(function(t,e){return n.extend(t,e)}),{})},_getBehaviorEvents:function(){var t=F(this._behaviors,"_getEvents");return n.reduce(t,(function(t,e){return n.extend(t,e)}),{})},_proxyBehaviorViewProperties:function(){F(this._behaviors,"proxyViewProperties")},_delegateBehaviorEntityEvents:function(){F(this._behaviors,"delegateEntityEvents")},_undelegateBehaviorEntityEvents:function(){F(this._behaviors,"undelegateEntityEvents")},_destroyBehaviors:function(t){F(this._behaviors,"destroy",t)},_removeBehavior:function(t){this._isDestroyed||(this.undelegate(".trig".concat(t.cid," .").concat(t.cid)),this._behaviors=n.without(this._behaviors,t))},_bindBehaviorUIElements:function(){F(this._behaviors,"bindUIElements")},_unbindBehaviorUIElements:function(){F(this._behaviors,"unbindUIElements")},_triggerEventOnBehaviors:function(t,e,n){F(this._behaviors,"triggerMethod",t,e,n)}},W={_delegateEntityEvents:function(t,e){t&&(this._modelEvents=n.result(this,"modelEvents"),this.bindEvents(t,this._modelEvents)),e&&(this._collectionEvents=n.result(this,"collectionEvents"),this.bindEvents(e,this._collectionEvents))},_undelegateEntityEvents:function(t,e){this._modelEvents&&(this.unbindEvents(t,this._modelEvents),delete this._modelEvents),this._collectionEvents&&(this.unbindEvents(e,this._collectionEvents),delete this._collectionEvents)},_deleteEntityEventHandlers:function(){delete this._modelEvents,delete this._collectionEvents}},G={_renderTemplate:function(t){var e=this.mixinTemplateContext(this.serializeData())||{},n=this._renderHtml(t,e);void 0!==n&&this.attachElContent(n)},getTemplate:function(){return this.template},mixinTemplateContext:function(t){var e=n.result(this,"templateContext");return e?t?n.extend({},t,e):e:t},serializeData:function(){return this.model?this.serializeModel():this.collection?{items:this.serializeCollection()}:void 0},serializeModel:function(){return this.model.attributes},serializeCollection:function(){return n.map(this.collection.models,(function(t){return t.attributes}))},_renderHtml:function(t,e){return t(e)},attachElContent:function(t){this.Dom.setContents(this.el,t,this.$el)}},J=/^(\S+)\s*(.*)$/,K=function(t,e){var n=t.match(J);return"".concat(n[1],".").concat(e," ").concat(n[2])},X={childViewEventPrefix:!1,triggersStopPropagation:!0,triggersPreventDefault:!0,DEV_MODE:!1};function Y(t){return!!X[t]}function Q(t,e){return X[t]=e}var Z={_getViewTriggers:function(t,e){var r=this;return n.reduce(e,(function(e,o,i){return e[i=K(i,"trig".concat(r.cid))]=function(t,e){n.isString(e)&&(e={event:e});var r=e.event,o=!!e.preventDefault;Y("triggersPreventDefault")&&(o=!1!==e.preventDefault);var i=!!e.stopPropagation;return Y("triggersStopPropagation")&&(i=!1!==e.stopPropagation),function(e){o&&e.preventDefault(),i&&e.stopPropagation();for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];t.triggerMethod.apply(t,[r,t,e].concat(s))}}(t,o),e}),{})}},tt=/@ui\.[a-zA-Z-_$0-9]*/g,et=function(t,e){return t.replace(tt,(function(t){return e[t.slice(4)]}))},nt={normalizeUIKeys:function(t){return function(t,e){return n.reduce(t,(function(t,n,r){return t[et(r,e)]=n,t}),{})}(t,this._getUIBindings())},normalizeUIString:function(t){var e=this._getUIBindings();return et(t,e)},normalizeUIValues:function(t,e){return function(t,e,r){return n.each(t,(function(o,i){if(n.isString(o))t[i]=et(o,e);else if(o){var s=o[r];n.isString(s)&&(o[r]=et(s,e))}})),t}(t,this._getUIBindings(),e)},_getUIBindings:function(){return n.result(this,"_uiBindings")||n.result(this,"ui")},_bindUIElements:function(){var t=this;if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this._ui={},n.each(e,(function(e,n){t._ui[n]=t.$(e)})),this.ui=this._ui}},_unbindUIElements:function(){var t=this;this.ui&&this._uiBindings&&(n.each(this.ui,(function(e,n){delete t.ui[n]})),this.ui=this._uiBindings,delete this._uiBindings,delete this._ui)},_getUI:function(t){return this._ui[t]}};function rt(t){return t instanceof e.$?t:e.$(t)}function ot(t){return this.prototype.Dom=n.extend({},this.prototype.Dom,t),this}var it={createBuffer:function(){return document.createDocumentFragment()},getDocumentEl:function(t){return t.ownerDocument.documentElement},getEl:function(t){return rt(t)},findEl:function(t,e){return rt(t).find(e)},hasEl:function(t,e){return t.contains(e&&e.parentNode)},detachEl:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt(t)).detach()},replaceEl:function(t,e){if(t!==e){var n=e.parentNode;n&&n.replaceChild(t,e)}},swapEl:function(t,e){if(t!==e){var n=t.parentNode,r=e.parentNode;if(n&&r){var o=t.nextSibling,i=e.nextSibling;n.insertBefore(e,o),r.insertBefore(t,i)}}},setContents:function(t,e){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:rt(t)).html(e)},appendContents:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n._$el,o=void 0===r?rt(t):r,i=n._$contents,s=void 0===i?rt(e):i;o.append(s)},hasContents:function(t){return!!t&&t.hasChildNodes()},detachContents:function(t){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:rt(t)).contents().detach()}},st={Dom:it,_isElAttached:function(){return!!this.el&&this.Dom.hasEl(this.Dom.getDocumentEl(this.el),this.el)},supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,_isDestroyed:!1,isDestroyed:function(){return!!this._isDestroyed},_isRendered:!1,isRendered:function(){return!!this._isRendered},_isAttached:!1,isAttached:function(){return!!this._isAttached},delegateEvents:function(t){this._proxyBehaviorViewProperties(),this._buildEventProxies();var r=n.extend({},this._getBehaviorEvents(),this._getEvents(t),this._getBehaviorTriggers(),this._getTriggers());return e.View.prototype.delegateEvents.call(this,r),this},_getEvents:function(t){return t?this.normalizeUIKeys(t):this.events?this.normalizeUIKeys(n.result(this,"events")):void 0},_getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(n.result(this,"triggers"));return this._getViewTriggers(this,t)}},delegateEntityEvents:function(){return this._delegateEntityEvents(this.model,this.collection),this._delegateBehaviorEntityEvents(),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.model,this.collection),this._undelegateBehaviorEntityEvents(),this},destroy:function(t){if(this._isDestroyed||this._isDestroying)return this;this._isDestroying=!0;var e=this._isAttached&&!this._disableDetachEvents;return this.triggerMethod("before:destroy",this,t),e&&this.triggerMethod("before:detach",this),this.unbindUIElements(),this._removeElement(),e&&(this._isAttached=!1,this.triggerMethod("detach",this)),this._removeChildren(),this._isDestroyed=!0,this._isRendered=!1,this._destroyBehaviors(t),this._deleteEntityEventHandlers(),this.triggerMethod("destroy",this,t),this._triggerEventOnBehaviors("destroy",this,t),this.stopListening(),this},_removeElement:function(){this.$el.off().removeData(),this.Dom.detachEl(this.el,this.$el)},bindUIElements:function(){return this._bindUIElements(),this._bindBehaviorUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this._unbindBehaviorUIElements(),this},getUI:function(t){return this._getUI(t)},_buildEventProxies:function(){this._childViewEvents=this.normalizeMethods(n.result(this,"childViewEvents")),this._childViewTriggers=n.result(this,"childViewTriggers"),this._eventPrefix=this._getEventPrefix()},_getEventPrefix:function(){var t=!!Y("childViewEventPrefix")&&"childview",e=n.result(this,"childViewEventPrefix",t);return!1===e?e:e+":"},_proxyChildViewEvents:function(t){(this._childViewEvents||this._childViewTriggers||this._eventPrefix)&&this.listenTo(t,"all",this._childViewEventHandler)},_childViewEventHandler:function(t){for(var e=this._childViewEvents,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e&&e[t]&&e[t].apply(this,r);var i=this._childViewTriggers;i&&i[t]&&this.triggerMethod.apply(this,[i[t]].concat(r)),this._eventPrefix&&this.triggerMethod.apply(this,[this._eventPrefix+t].concat(r))}};function at(t){t._isRendered||(t.supportsRenderLifecycle||t.triggerMethod("before:render",t),t.render(),t._isRendered=!0,t.supportsRenderLifecycle||t.triggerMethod("render",t))}function ct(t,e){if(t.destroy)return t._disableDetachEvents=e,void t.destroy();t.supportsDestroyLifecycle||t.triggerMethod("before:destroy",t);var n=t._isAttached&&!e;n&&t.triggerMethod("before:detach",t),t.remove(),n&&(t._isAttached=!1,t.triggerMethod("detach",t)),t._isDestroyed=!0,t.supportsDestroyLifecycle||t.triggerMethod("destroy",t)}n.extend(st,z,I,W,G,Z,nt);var ut="RegionError",lt=["allowMissingEl","parentEl","replaceElement"],ft=function(t){this._setOptions(t,lt),this.cid=n.uniqueId(this.cidPrefix),this._initEl=this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,this.$el=this._getEl(this.el),this.initialize.apply(this,arguments)};function pt(t,e){if(t instanceof ft)return t;if(n.isString(t))return ht(e,{el:t});if(n.isFunction(t))return ht(e,{regionClass:t});if(n.isObject(t))return ht(e,t);throw new u({message:"Improper region configuration type.",url:"marionette.region.html#defining-regions"})}function ht(t,e){var r=n.extend({},t,e),o=r.regionClass;return delete r.regionClass,new o(r)}ft.extend=s,ft.setDomApi=ot,n.extend(ft.prototype,I,{Dom:it,cidPrefix:"mnr",replaceElement:!1,_isReplaced:!1,_isSwappingView:!1,initialize:function(){},show:function(t,e){if(this._ensureElement(e)){if((t=this._getView(t,e))===this.currentView)return this;if(t._isShown)throw new u({name:ut,message:"View is already shown in a Region or CollectionView",url:"marionette.region.html#showing-a-view"});return this._isSwappingView=!!this.currentView,this.triggerMethod("before:show",this,t,e),!this.currentView&&t._isAttached||this.empty(e),this._setupChildView(t),this.currentView=t,at(t),this._attachView(t,e),this.triggerMethod("show",this,t,e),this._isSwappingView=!1,this}},_getEl:function(t){if(!t)throw new u({name:ut,message:'An "el" must be specified for a region.',url:"marionette.region.html#additional-options"});return this.getEl(t)},_setEl:function(){this.$el=this._getEl(this.el),this.$el.length&&(this.el=this.$el[0]),this.$el.length>1&&(this.$el=this.Dom.getEl(this.el))},_setElement:function(t){if(t===this.el)return this;var e=this._isReplaced;if(this._restoreEl(),this.el=t,this._setEl(),this.currentView){var n=this.currentView;e?this._replaceEl(n):this.attachHtml(n)}return this},_setupChildView:function(t){C(t),this._proxyChildViewEvents(t),t.on("destroy",this._empty,this)},_proxyChildViewEvents:function(t){var e=this._parentView;e&&e._proxyChildViewEvents(t)},_shouldDisableMonitoring:function(){return this._parentView&&!1===this._parentView.monitorViewEvents},_isElAttached:function(){return this.Dom.hasEl(this.Dom.getDocumentEl(this.el),this.el)},_attachView:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).replaceElement,r=!t._isAttached&&this._isElAttached()&&!this._shouldDisableMonitoring(),o=void 0===e?!!n.result(this,"replaceElement"):!!e;r&&t.triggerMethod("before:attach",t),o?this._replaceEl(t):this.attachHtml(t),r&&(t._isAttached=!0,t.triggerMethod("attach",t)),t._isShown=!0},_ensureElement:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n.isObject(this.el)||this._setEl(),!this.$el||0===this.$el.length){if(void 0===t.allowMissingEl?n.result(this,"allowMissingEl"):t.allowMissingEl)return!1;throw new u({name:ut,message:'An "el" must exist in DOM for this region '.concat(this.cid),url:"marionette.region.html#additional-options"})}return!0},_getView:function(t){if(!t)throw new u({name:ut,message:"The view passed is undefined and therefore invalid. You must pass a view instance to show.",url:"marionette.region.html#showing-a-view"});if(t._isDestroyed)throw new u({name:ut,message:'View (cid: "'.concat(t.cid,'") has already been destroyed and cannot be used.'),url:"marionette.region.html#showing-a-view"});if(t instanceof e.View)return t;var n=this._getViewOptions(t);return new mt(n)},_getViewOptions:function(t){return n.isFunction(t)?{template:t}:n.isObject(t)?t:{template:function(){return t}}},getEl:function(t){var e=n.result(this,"parentEl");return e&&n.isString(t)?this.Dom.findEl(e,t):this.Dom.getEl(t)},_replaceEl:function(t){this._restoreEl(),t.on("before:destroy",this._restoreEl,this),this.Dom.replaceEl(t.el,this.el),this._isReplaced=!0},_restoreEl:function(){if(this._isReplaced){var t=this.currentView;t&&(this._detachView(t),this._isReplaced=!1)}},isReplaced:function(){return!!this._isReplaced},isSwappingView:function(){return!!this._isSwappingView},attachHtml:function(t){this.Dom.appendContents(this.el,t.el,{_$el:this.$el,_$contents:t.$el})},empty:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowMissingEl:!0},e=this.currentView;return e?(this._empty(e,!0),this):(this._ensureElement(t)&&this.detachHtml(),this)},_empty:function(t,e){t.off("destroy",this._empty,this),this.triggerMethod("before:empty",this,t),this._restoreEl(),delete this.currentView,t._isDestroyed||(e?this.removeView(t):this._detachView(t),t._isShown=!1,this._stopChildViewEvents(t)),this.triggerMethod("empty",this,t)},_stopChildViewEvents:function(t){this._parentView&&this._parentView.stopListening(t)},destroyView:function(t){return t._isDestroyed||ct(t,this._shouldDisableMonitoring()),t},removeView:function(t){this.destroyView(t)},detachView:function(){var t=this.currentView;if(t)return this._empty(t),t},_detachView:function(t){var e=t._isAttached&&!this._shouldDisableMonitoring(),n=this._isReplaced;e&&t.triggerMethod("before:detach",t),n?this.Dom.replaceEl(this.el,t.el):this.detachHtml(),e&&(t._isAttached=!1,t.triggerMethod("detach",t))},detachHtml:function(){this.Dom.detachContents(this.el,this.$el)},hasView:function(){return!!this.currentView},reset:function(t){return this.empty(t),this.el=this._initEl,delete this.$el,this},_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},destroy:function(t){return this._isDestroyed||(this.triggerMethod("before:destroy",this,t),this._isDestroyed=!0,this.reset(t),this._name&&this._parentView._removeReferences(this._name),delete this._parentView,delete this._name,this.triggerMethod("destroy",this,t),this.stopListening()),this}});var dt={regionClass:ft,_initRegions:function(){this.regions=this.regions||{},this._regions={},this.addRegions(n.result(this,"regions"))},_reInitRegions:function(){F(this._regions,"reset")},addRegion:function(t,e){var n={};return n[t]=e,this.addRegions(n)[t]},addRegions:function(t){if(!n.isEmpty(t))return t=this.normalizeUIValues(t,"el"),this.regions=n.extend({},this.regions,t),this._addRegions(t)},_addRegions:function(t){var e=this,r={regionClass:this.regionClass,parentEl:n.partial(n.result,this,"el")};return n.reduce(t,(function(t,n,o){return t[o]=pt(n,r),e._addRegion(t[o],o),t}),{})},_addRegion:function(t,e){this.triggerMethod("before:add:region",this,e,t),t._parentView=this,t._name=e,this._regions[e]=t,this.triggerMethod("add:region",this,e,t)},removeRegion:function(t){var e=this._regions[t];return this._removeRegion(e,t),e},removeRegions:function(){var t=this._getRegions();return n.each(this._regions,this._removeRegion.bind(this)),t},_removeRegion:function(t,e){this.triggerMethod("before:remove:region",this,e,t),t.destroy(),this.triggerMethod("remove:region",this,e,t)},_removeReferences:function(t){delete this.regions[t],delete this._regions[t]},emptyRegions:function(){var t=this.getRegions();return F(t,"empty"),t},hasRegion:function(t){return!!this.getRegion(t)},getRegion:function(t){return this._isRendered||this.render(),this._regions[t]},_getRegions:function(){return n.clone(this._regions)},getRegions:function(){return this._isRendered||this.render(),this._getRegions()},showChildView:function(t,e,n){return this.getRegion(t).show(e,n),e},detachChildView:function(t){return this.getRegion(t).detachView()},getChildView:function(t){return this.getRegion(t).currentView}};function yt(t){return this.prototype._renderHtml=t,this}var vt=["behaviors","childViewEventPrefix","childViewEvents","childViewTriggers","collectionEvents","events","modelEvents","regionClass","regions","template","templateContext","triggers","ui"];function gt(t,e){return e.currentView&&t.push(e.currentView),t}var mt=e.View.extend({constructor:function(t){this._setOptions(t,vt),C(this),this._initBehaviors(),this._initRegions(),e.View.prototype.constructor.apply(this,arguments),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this,t)},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this._isRendered=this.Dom.hasContents(this.el),this._isAttached=this._isElAttached(),this._isRendered&&this.bindUIElements(),this},render:function(){var t=this.getTemplate();return!1===t||this._isDestroyed||(this.triggerMethod("before:render",this),this._isRendered&&this._reInitRegions(),this._renderTemplate(t),this.bindUIElements(),this._isRendered=!0,this.triggerMethod("render",this)),this},_removeChildren:function(){this.removeRegions()},_getImmediateChildren:function(){return n.reduce(this._regions,gt,[])}},{setRenderer:yt,setDomApi:ot});n.extend(mt.prototype,st,dt);var bt=function(){this._init()};function wt(t,e){return e.model&&e.model.get(t)}n.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce","partition"],(function(t){bt.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n[t].apply(n,[this._views].concat(r))}})),n.extend(bt.prototype,{_init:function(){this._views=[],this._viewsByCid={},this._indexByModel={},this._updateLength()},_add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._views.length;this._addViewIndexes(t),this._views.splice(e,0,t),this._updateLength()},_addViewIndexes:function(t){this._viewsByCid[t.cid]=t,t.model&&(this._indexByModel[t.model.cid]=t)},_sort:function(t,e){return"string"==typeof t?(t=n.partial(wt,t),this._sortBy(t)):1===t.length?this._sortBy(t.bind(e)):this._views.sort(t.bind(e))},_sortBy:function(t){var e=n.sortBy(this._views,t);return this._set(e),e},_set:function(t,e){this._views.length=0,this._views.push.apply(this._views,t.slice(0)),e&&(this._viewsByCid={},this._indexByModel={},n.each(t,this._addViewIndexes.bind(this)),this._updateLength())},_swap:function(t,e){var n=this.findIndexByView(t),r=this.findIndexByView(e);if(-1!==n&&-1!==r){var o=this._views[n];this._views[n]=this._views[r],this._views[r]=o}},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){return this._indexByModel[t]},findByIndex:function(t){return this._views[t]},findIndexByView:function(t){return this._views.indexOf(t)},findByCid:function(t){return this._viewsByCid[t]},hasView:function(t){return!!this.findByCid(t.cid)},_remove:function(t){if(this._viewsByCid[t.cid]){t.model&&delete this._indexByModel[t.model.cid],delete this._viewsByCid[t.cid];var e=this.findIndexByView(t);this._views.splice(e,1),this._updateLength()}},_updateLength:function(){this.length=this._views.length}});var _t="CollectionViewError",Ot=["behaviors","childView","childViewContainer","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","emptyView","emptyViewOptions","events","modelEvents","sortWithCollection","template","templateContext","triggers","ui","viewComparator","viewFilter"],xt=e.View.extend({sortWithCollection:!0,constructor:function(t){this._setOptions(t,Ot),C(this),this._initChildViewStorage(),this._initBehaviors(),e.View.prototype.constructor.apply(this,arguments),this.getEmptyRegion(),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this,t)},_initChildViewStorage:function(){this._children=new bt,this.children=new bt},getEmptyRegion:function(){var t=this.$container||this.$el;return this._emptyRegion&&!this._emptyRegion.isDestroyed()?(this._emptyRegion._setElement(t[0]),this._emptyRegion):(this._emptyRegion=new ft({el:t[0],replaceElement:!1}),this._emptyRegion._parentView=this,this._emptyRegion)},_initialEvents:function(){this._isRendered||this.listenTo(this.collection,{sort:this._onCollectionSort,reset:this._onCollectionReset,update:this._onCollectionUpdate})},_onCollectionSort:function(t,e){var n=e.add,r=e.merge,o=e.remove;this.sortWithCollection&&!1!==this.viewComparator&&(n||o||r||this.sort())},_onCollectionReset:function(){this._destroyChildren(),this._addChildModels(this.collection.models),this.sort()},_onCollectionUpdate:function(t,e){var n=e.changes,r=n.removed.length&&this._removeChildModels(n.removed);this._addedViews=n.added.length&&this._addChildModels(n.added),this._detachChildren(r),this.sort(),this._removeChildViews(r)},_removeChildModels:function(t){var e=this;return n.reduce(t,(function(t,n){var r=e._removeChildModel(n);return r&&t.push(r),t}),[])},_removeChildModel:function(t){var e=this._children.findByModel(t);return e&&this._removeChild(e),e},_removeChild:function(t){this.triggerMethod("before:remove:child",this,t),this.children._remove(t),this._children._remove(t),this.triggerMethod("remove:child",this,t)},_addChildModels:function(t){return n.map(t,this._addChildModel.bind(this))},_addChildModel:function(t){var e=this._createChildView(t);return this._addChild(e),e},_createChildView:function(t){var e=this._getChildView(t),n=this._getChildViewOptions(t);return this.buildChildView(t,e,n)},_addChild:function(t,e){this.triggerMethod("before:add:child",this,t),this._setupChildView(t),this._children._add(t,e),this.children._add(t,e),this.triggerMethod("add:child",this,t)},_getChildView:function(t){var e=this.childView;if(!e)throw new u({name:_t,message:'A "childView" must be specified',url:"marionette.collectionview.html#collectionviews-childview"});if(!(e=this._getView(e,t)))throw new u({name:_t,message:'"childView" must be a view class or a function that returns a view class',url:"marionette.collectionview.html#collectionviews-childview"});return e},_getView:function(t,r){return t.prototype instanceof e.View||t===e.View?t:n.isFunction(t)?t.call(this,r):void 0},_getChildViewOptions:function(t){return n.isFunction(this.childViewOptions)?this.childViewOptions(t):this.childViewOptions},buildChildView:function(t,e,r){return new e(n.extend({model:t},r))},_setupChildView:function(t){C(t),t.on("destroy",this.removeChildView,this),this._proxyChildViewEvents(t)},_getImmediateChildren:function(){return this.children._views},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this._isAttached=this._isElAttached(),this},render:function(){if(this._isDestroyed)return this;this.triggerMethod("before:render",this),this._destroyChildren(),this.collection&&(this._addChildModels(this.collection.models),this._initialEvents());var t=this.getTemplate();return t&&(this._renderTemplate(t),this.bindUIElements()),this._getChildViewContainer(),this.sort(),this._isRendered=!0,this.triggerMethod("render",this),this},_getChildViewContainer:function(){var t=n.result(this,"childViewContainer");if(this.$container=t?this.$(t):this.$el,!this.$container.length)throw new u({name:_t,message:'The specified "childViewContainer" was not found: '.concat(t),url:"marionette.collectionview.html#defining-the-childviewcontainer"})},sort:function(){return this._sortChildren(),this.filter(),this},_sortChildren:function(){if(this._children.length){var t=this.getComparator();t&&(delete this._addedViews,this.triggerMethod("before:sort",this),this._children._sort(t,this),this.triggerMethod("sort",this))}},setComparator:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).preventRender,n=this.viewComparator!==t&&!e;return this.viewComparator=t,n&&this.sort(),this},removeComparator:function(t){return this.setComparator(null,t)},getComparator:function(){return this.viewComparator?this.viewComparator:!(!this.sortWithCollection||!1===this.viewComparator||!this.collection)&&this._viewComparator},_viewComparator:function(t){return this.collection.indexOf(t.model)},filter:function(){return this._isDestroyed||(this._filterChildren(),this._renderChildren()),this},_filterChildren:function(){var t=this;if(this._children.length){var e=this._getFilter();if(e){delete this._addedViews,this.triggerMethod("before:filter",this);var r=[],o=[];n.each(this._children._views,(function(n,i,s){(e.call(t,n,i,s)?r:o).push(n)})),this._detachChildren(o),this.children._set(r,!0),this.triggerMethod("filter",this,r,o)}else{var i=this.children.length!==this._children.length;this.children._set(this._children._views,i)}}},_getFilter:function(){var t=this.getFilter();if(!t)return!1;if(n.isFunction(t))return t;if(n.isObject(t)){var e=n.matches(t);return function(t){return e(t.model&&t.model.attributes)}}if(n.isString(t))return function(e){return e.model&&e.model.get(t)};throw new u({name:_t,message:'"viewFilter" must be a function, predicate object literal, a string indicating a model attribute, or falsy',url:"marionette.collectionview.html#defining-the-viewfilter"})},getFilter:function(){return this.viewFilter},setFilter:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).preventRender,n=this.viewFilter!==t&&!e;return this.viewFilter=t,n&&this.filter(),this},removeFilter:function(t){return this.setFilter(null,t)},_detachChildren:function(t){n.each(t,this._detachChildView.bind(this))},_detachChildView:function(t){var e=t._isAttached&&!1!==this.monitorViewEvents;e&&t.triggerMethod("before:detach",t),this.detachHtml(t),e&&(t._isAttached=!1,t.triggerMethod("detach",t)),t._isShown=!1},detachHtml:function(t){this.Dom.detachEl(t.el,t.$el)},_renderChildren:function(){this._hasUnrenderedViews&&(delete this._addedViews,delete this._hasUnrenderedViews);var t=this._addedViews||this.children._views;if(this.triggerMethod("before:render:children",this,t),this.isEmpty())this._showEmptyView();else{this._destroyEmptyView();var e=this._getBuffer(t);this._attachChildren(e,t)}delete this._addedViews,this.triggerMethod("render:children",this,t)},_getBuffer:function(t){var e=this,r=this.Dom.createBuffer();return n.each(t,(function(t){at(t),t._isShown=!0,e.Dom.appendContents(r,t.el,{_$contents:t.$el})})),r},_attachChildren:function(t,e){e=this._isAttached&&!1!==this.monitorViewEvents?e:[],n.each(e,(function(t){t._isAttached||t.triggerMethod("before:attach",t)})),this.attachHtml(t,this.$container),n.each(e,(function(t){t._isAttached||(t._isAttached=!0,t.triggerMethod("attach",t))}))},attachHtml:function(t,e){this.Dom.appendContents(e[0],t,{_$el:e})},isEmpty:function(){return!this.children.length},_showEmptyView:function(){var t=this._getEmptyView();if(t){var e=this._getEmptyViewOptions();this.getEmptyRegion().show(new t(e))}},_getEmptyView:function(){var t=this.emptyView;if(t)return this._getView(t)},_destroyEmptyView:function(){var t=this.getEmptyRegion();t.hasView()&&t.empty()},_getEmptyViewOptions:function(){var t=this.emptyViewOptions||this.childViewOptions;return n.isFunction(t)?t.call(this):t},swapChildViews:function(t,e){if(!this._children.hasView(t)||!this._children.hasView(e))throw new u({name:_t,message:"Both views must be children of the collection view to swap.",url:"marionette.collectionview.html#swapping-child-views"});return this._children._swap(t,e),this.Dom.swapEl(t.el,e.el),this.children.hasView(t)!==this.children.hasView(e)?this.filter():this.children._swap(t,e),this},addChildView:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||t._isDestroyed)return t;if(t._isShown)throw new u({name:_t,message:"View is already shown in a Region or CollectionView",url:"marionette.region.html#showing-a-view"});if(n.isObject(e)&&(r=e),null!=r.index&&(e=r.index),this._isRendered||this.render(),this._addChild(t,e),r.preventRender)return this._hasUnrenderedViews=!0,t;var o=void 0!==e;return(!o||e>=this._children.length)&&!this._hasUnrenderedViews&&(this._addedViews=[t]),o?this._renderChildren():this.sort(),t},detachChildView:function(t){return this.removeChildView(t,{shouldDetach:!0}),t},removeChildView:function(t,e){return t?(this._removeChildView(t,e),this._removeChild(t),this.isEmpty()&&this._showEmptyView(),t):t},_removeChildViews:function(t){n.each(t,this._removeChildView.bind(this))},_removeChildView:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).shouldDetach;t.off("destroy",this.removeChildView,this),e?this._detachChildView(t):this._destroyChildView(t),this.stopListening(t)},_destroyChildView:function(t){t._isDestroyed||ct(t,!1===this.monitorViewEvents)},_removeChildren:function(){this._destroyChildren(),this.getEmptyRegion().destroy(),delete this._addedViews},_destroyChildren:function(){this._children.length&&(this.triggerMethod("before:destroy:children",this),!1===this.monitorViewEvents&&this.Dom.detachContents(this.el,this.$el),this._removeChildViews(this._children._views),this._children._init(),this.children._init(),this.triggerMethod("destroy:children",this))}},{setDomApi:ot,setRenderer:yt});n.extend(xt.prototype,st);var St=["collectionEvents","events","modelEvents","triggers","ui"],kt=function(t,e){this.view=e,this._setOptions(t,St),this.cid=n.uniqueId(this.cidPrefix),this.ui=n.extend({},n.result(this,"ui"),n.result(e,"ui")),this.listenTo(e,"all",this.triggerMethod),this.initialize.apply(this,arguments)};kt.extend=s,n.extend(kt.prototype,I,W,Z,nt,{cidPrefix:"mnb",initialize:function(){},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this.view._removeBehavior(this),this._deleteEntityEventHandlers(),this},proxyViewProperties:function(){return this.$el=this.view.$el,this.el=this.view.el,this},bindUIElements:function(){return this._bindUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this},getUI:function(t){return this._getUI(t)},delegateEntityEvents:function(){return this._delegateEntityEvents(this.view.model,this.view.collection),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.view.model,this.view.collection),this},_getEvents:function(){var t=this;if(this.events){var e=this.normalizeUIKeys(n.result(this,"events"));return n.reduce(e,(function(e,r,o){return n.isFunction(r)||(r=t[r]),r?(e[o=K(o,t.cid)]=r.bind(t),e):e}),{})}},_getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(n.result(this,"triggers"));return this._getViewTriggers(this.view,t)}}});var jt=["channelName","radioEvents","radioRequests","region","regionClass"],Et=function(t){this._setOptions(t,jt),this.cid=n.uniqueId(this.cidPrefix),this._initRegion(),this._initRadio(),this.initialize.apply(this,arguments)};Et.extend=s,n.extend(Et.prototype,I,L,$,{cidPrefix:"mna",initialize:function(){},start:function(t){return this.triggerMethod("before:start",this,t),this.triggerMethod("start",this,t),this},regionClass:ft,_initRegion:function(){var t=this.region;if(t){var e={regionClass:this.regionClass};this._region=pt(t,e)}},getRegion:function(){return this._region},showView:function(t){for(var e=this.getRegion(),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e.show.apply(e,[t].concat(r)),t},getView:function(){return this.getRegion().currentView}});var Rt=i(f),Pt=i(p),Tt=i(d),Ct=i(y),At=i(g),Nt=i(v),Dt=i(a),Bt=i(M),Mt={View:mt,CollectionView:xt,MnObject:H,Object:H,Region:ft,Behavior:kt,Application:Et,isEnabled:Y,setEnabled:Q,monitorViewEvents:C,Events:V,extend:s,DomApi:it,VERSION:o};t.Application=Et,t.Behavior=kt,t.CollectionView=xt,t.DomApi=it,t.Events=V,t.MnObject=H,t.Region=ft,t.VERSION=o,t.View=mt,t.bindEvents=Rt,t.bindRequests=Tt,t.default=Mt,t.extend=s,t.getOption=Nt,t.isEnabled=Y,t.mergeOptions=At,t.monitorViewEvents=C,t.normalizeMethods=Dt,t.setDomApi=function(t){xt.setDomApi(t),ft.setDomApi(t),mt.setDomApi(t)},t.setEnabled=Q,t.setRenderer=function(t){xt.setRenderer(t),mt.setRenderer(t)},t.triggerMethod=Bt,t.unbindEvents=Pt,t.unbindRequests=Ct,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(2316),n(6419),n(9653)),this&&this.Marionette&&(this.Mn=this.Marionette)},9653:function(t,e,n){t.exports=function(t,e){"use strict";t="default"in t?t.default:t,e="default"in e?e.default:e;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=e.Radio,o=e.Radio={};o.VERSION="2.0.0",o.noConflict=function(){return e.Radio=r,this},o.DEBUG=!1,o._debugText=function(t,e,n){return t+(n?" on the "+n+" channel":"")+': "'+e+'"'},o.debugLog=function(t,e,n){o.DEBUG&&console&&console.warn&&console.warn(o._debugText(t,e,n))};var i=/\s+/;function s(t,e,n,r){var o=t[e];if(!(n&&n!==o.callback&&n!==o.callback._callback||r&&r!==o.context))return delete t[e],!0}o._eventsApi=function(e,r,o,s){if(!o)return!1;var a={};if("object"===(void 0===o?"undefined":n(o))){for(var c in o){var u=e[r].apply(e,[c,o[c]].concat(s));i.test(c)?t.extend(a,u):a[c]=u}return a}if(i.test(o)){for(var l=o.split(i),f=0,p=l.length;f<p;f++)a[l[f]]=e[r].apply(e,[l[f]].concat(s));return a}return!1},o._callHandler=function(t,e,n){var r=n[0],o=n[1],i=n[2];switch(n.length){case 0:return t.call(e);case 1:return t.call(e,r);case 2:return t.call(e,r,o);case 3:return t.call(e,r,o,i);default:return t.apply(e,n)}};var a,c,u={};function l(e){return u[e]||(u[e]=t.bind(o.log,o,e))}function f(e){return t.isFunction(e)?e:function(){return e}}t.extend(o,{log:function(e,n){if("undefined"!=typeof console){var r=t.toArray(arguments).slice(2);console.log("["+e+'] "'+n+'"',r)}},tuneIn:function(t){var e=o.channel(t);return e._tunedIn=!0,e.on("all",l(t)),this},tuneOut:function(t){var e=o.channel(t);return e._tunedIn=!1,e.off("all",l(t)),delete u[t],this}}),o.Requests={request:function(e){var n=t.toArray(arguments).slice(1),r=o._eventsApi(this,"request",e,n);if(r)return r;var i=this.channelName,s=this._requests;if(i&&this._tunedIn&&o.log.apply(this,[i,e].concat(n)),s&&(s[e]||s.default)){var a=s[e]||s.default;return n=s[e]?n:arguments,o._callHandler(a.callback,a.context,n)}o.debugLog("An unhandled request was fired",e,i)},reply:function(t,e,n){return o._eventsApi(this,"reply",t,[e,n])||(this._requests||(this._requests={}),this._requests[t]&&o.debugLog("A request was overwritten",t,this.channelName),this._requests[t]={callback:f(e),context:n||this}),this},replyOnce:function(e,n,r){if(o._eventsApi(this,"replyOnce",e,[n,r]))return this;var i=this,s=t.once((function(){return i.stopReplying(e),f(n).apply(this,arguments)}));return this.reply(e,s,r)},stopReplying:function(e,n,r){return o._eventsApi(this,"stopReplying",e)||(e||n||r?function(e,n,r,o){e||(e={});for(var i=n?[n]:t.keys(e),a=!1,c=0,u=i.length;c<u;c++)e[n=i[c]]&&s(e,n,r,o)&&(a=!0);return a}(this._requests,e,n,r)||o.debugLog("Attempted to remove the unregistered request",e,this.channelName):delete this._requests),this}},o._channels={},o.channel=function(t){if(!t)throw new Error("You must provide a name for the channel.");return o._channels[t]?o._channels[t]:o._channels[t]=new o.Channel(t)},o.Channel=function(t){this.channelName=t},t.extend(o.Channel.prototype,e.Events,o.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var p=[e.Events,o.Requests];return t.each(p,(function(e){t.each(e,(function(e,n){o[n]=function(e){return c=t.toArray(arguments).slice(1),(a=this.channel(e))[n].apply(a,c)}}))})),o.reset=function(e){var n=e?[this._channels[e]]:this._channels;t.each(n,(function(t){t.reset()}))},o}(n(6419),n(2316))},989:(t,e,n)=>{var r,o,i;o=[n(4115),n(7224),e],r=function(t,e,n){e.Stickit=n,n._handlers=[],n.addHandler=function(e){e=t.map(t.flatten([e]),(function(e){return t.defaults({},e,{updateModel:!0,updateView:!0,updateMethod:"text"})})),this._handlers=this._handlers.concat(e)},n.ViewMixin={_modelBindings:null,unstickit:function(e,n){if(t.isObject(n))t.each(n,(function(t,n){this.unstickit(e,n)}),this);else{var r=[],o=[];this._modelBindings=t.reject(this._modelBindings,(function(t){if(!(e&&t.model!==e||n&&t.config.selector!=n))return t.model.off(t.event,t.fn),o.push(t.config._destroy),r.push(t.model),!0})),t.invoke(t.uniq(r),"trigger","stickit:unstuck",this.cid),t.each(t.uniq(o),(function(t){t.call(this)}),this),this.$el.off(".stickit"+(e?"."+e.cid:""),n)}},stickit:function(e,n){var r=e||this.model,o=n||t.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.addBinding(r,o);var i=this.remove;return i.stickitWrapped||(this.remove=function(){var t=this;return this.unstickit(),i&&(t=i.apply(this,arguments)),t}),this.remove.stickitWrapped=!0,this},addBinding:function(e,n,o){var y=e||this.model,v=".stickit."+y.cid;if(o=o||{},t.isObject(n)){var g=n;t.each(g,(function(t,e){this.addBinding(y,e,t)}),this)}else{var m=":el"===n?this.$el:this.$(n);if(this.unstickit(y,n),m.length){t.isString(o)&&(o={observe:o}),t.isFunction(o.observe)&&(o.observe=o.observe.call(this));var b=l(m,o),w=b.observe;b.selector=n,b.view=this;var _=b.bindId=t.uniqueId(),O=t.extend({stickitChange:b},b.setOptions);if(b._destroy=function(){i.call(this,b.destroy,m,y,b)},f(m,b,y,w),h(m,b,y,w),p(m,b,y,w),w){t.each(b.events,(function(e){var o=e+v,a=":el"===n?"":n;this.$el.on(o,a,t.bind((function(t){var e=i.call(this,b.getVal,m,t,b,r.call(arguments,1));s(b.updateModel,e,t,b)&&c(y,w,e,O,b)}),this))}),this),t.each(t.flatten([w]),(function(t){a(y,"change:"+t,b,(function(t,e,n){if((n&&n.stickitChange&&n.stickitChange.bindId)!==_){var r=u(y,w,b);d(m,b,r,y)}}))}));var x=u(y,w,b);d(m,b,x,y,!0)}i.call(this,b.initialize,m,y,b)}}}},t.extend(e.View.prototype,n.ViewMixin);var r=[].slice,o=function(e,n){var r=(n||"").split("."),o=t.reduce(r,(function(t,e){return t[e]}),e);return null==o?e:o},i=function(e){if(e=t.isString(e)?o(this,e):e)return e.apply(this,r.call(arguments,1))},s=function(e,n,r){if(t.isBoolean(e))return e;if(t.isFunction(e)||t.isString(e)){var o=t.last(arguments).view;return i.apply(o,arguments)}return!1},a=function(t,e,n,r){var o=n.view;t.on(e,r,o),o._modelBindings.push({model:t,event:e,fn:r,config:n})},c=function(e,n,r,o,s){var a={},c=s.view;s.onSet&&(r=i.call(c,s.onSet,r,s)),s.set?i.call(c,s.set,n,r,o,s):(a[n]=r,t.isArray(n)&&t.isArray(r)&&(a=t.reduce(n,(function(e,n,o){return e[n]=t.has(r,o)?r[o]:null,e}),{})),e.set(a,o))},u=function(e,n,r){var o=r.view,s=function(t){return e[r.escape?"escape":"get"](t)},a=function(t){return null==t?"":t},c=t.isArray(n)?t.map(n,s):s(n);return r.onGet&&(c=i.call(o,r.onGet,c,r)),t.isArray(c)?t.map(c,a):a(c)},l=n.getConfiguration=function(e,r){var o=[{updateModel:!1,updateMethod:"text",update:function(t,e,n,r){t[r.updateMethod]&&t[r.updateMethod](e)},getVal:function(t,e,n){return t[n.updateMethod]()}}];(o=o.concat(t.filter(n._handlers,(function(t){return e.is(t.selector)})))).push(r);var i=t.extend.apply(t,o);return t.has(i,"updateView")||(i.updateView=!i.visible),i},f=function(e,n,r,o){var i=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"],s=n.view;t.each(n.attributes||[],(function(c){(c=t.clone(c)).view=s;var l="",f=c.observe||(c.observe=o),p=function(){var n=t.contains(i,c.name)?"prop":"attr",o=u(r,f,c);"class"===c.name?(e.removeClass(l).addClass(o),l=o):e[n](c.name,o)};t.each(t.flatten([f]),(function(t){a(r,"change:"+t,n,p)})),p()}))},p=function(e,n,r,o){t.each(n.classes||[],(function(o,i){t.isString(o)&&(o={observe:o}),o.view=n.view;var s=o.observe,c=function(){var t=u(r,s,o);e.toggleClass(i,!!t)};t.each(t.flatten([s]),(function(t){a(r,"change:"+t,n,c)})),c()}))},h=function(e,n,r,o){if(null!=n.visible){var s=n.view,c=function(){var a=n.visible,c=n.visibleFn,l=u(r,o,n),f=!!l;(t.isFunction(a)||t.isString(a))&&(f=!!i.call(s,a,l,n)),c?i.call(s,c,e,f,n):e.toggle(f)};t.each(t.flatten([o]),(function(t){a(r,"change:"+t,n,c)})),c()}},d=function(t,e,n,r,o){var a=e.view;s(e.updateView,n,e)&&(i.call(a,e.update,t,n,r,e),o||i.call(a,e.afterUpdate,t,n,e))};return n.addHandler([{selector:"[contenteditable]",updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(t,e){t.val(e)},getVal:function(t){return t.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(t,e){t.val(e)},getVal:function(t){return t.val()}},{selector:'input[type="radio"]',events:["change"],update:function(t,e){t.filter('[value="'+e+'"]').prop("checked",!0)},getVal:function(t){return t.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(n,r,o,i){if(n.length>1)r||(r=[]),n.each((function(n,o){var i=e.$(o),s=t.contains(r,i.val());i.prop("checked",s)}));else{var s=t.isBoolean(r)?r:r===n.val();n.prop("checked",s)}},getVal:function(n){var r;if(n.length>1)r=t.reduce(n,(function(t,n){var r=e.$(n);return r.prop("checked")&&t.push(r.val()),t}),[]);else{r=n.prop("checked");var o=n.val();"on"!==o&&null!=o&&(r=r?n.val():null)}return r}},{selector:"select",events:["change"],update:function(n,r,s,a){var c,l=a.selectOptions,f=l&&l.collection||void 0,p=n.prop("multiple");if(!l){l={};var h=function(t){return t.map((function(t,n){var r=e.$(n).data("stickit-bind-val");return{value:void 0!==r?r:n.value,label:n.text}})).get()};n.find("optgroup").length?(f={opt_labels:[]},n.find("> option").length&&(f.opt_labels.push(void 0),t.each(n.find("> option"),(function(t){f[void 0]=h(e.$(t))}))),t.each(n.find("optgroup"),(function(t){var n=e.$(t).attr("label");f.opt_labels.push(n),f[n]=h(e.$(t).find("option"))}))):f=h(n.find("option"))}l.valuePath=l.valuePath||"value",l.labelPath=l.labelPath||"label",l.disabledPath=l.disabledPath||"disabled";var d=function(n,r,i){t.each(n,(function(n){var s,a,c,u=e.$("<option/>"),f=n;"__default__"===n?(s=i.label,a=i.value,c=i.disabled):(s=o(n,l.labelPath),a=o(n,l.valuePath),c=o(n,l.disabledPath)),function(e,n,r){u.text(e),f=n,u.data("stickit-bind-val",f),t.isArray(f)||t.isObject(f)||u.val(f),!0===r&&u.prop("disabled","disabled")}(s,a,c),!p&&null!=f&&null!=i&&f===i||t.isObject(i)&&t.isEqual(f,i)?u.prop("selected",!0):p&&t.isArray(i)&&t.each(i,(function(e){t.isObject(e)&&(e=o(e,l.valuePath)),(e===f||t.isObject(e)&&t.isEqual(f,e))&&u.prop("selected",!0)})),r.append(u)}))};if(n.find("*").remove(),t.isString(f)){var y=window;0===f.indexOf("this.")&&(y=this),f=f.replace(/^[a-z]*\.(.+)$/,"$1"),c=o(y,f)}else c=t.isFunction(f)?i.call(this,f,n,a):f;if(c instanceof e.Collection){var v=c,g=function(){var t=u(s,a.observe,a);i.call(this,a.update,n,t,s,a)},m=function(){v.off("add remove reset sort",g)},b=function(){m(),v.off("stickit:selectRefresh"),s.off("stickit:selectRefresh")};v.trigger("stickit:selectRefresh"),v.once("stickit:selectRefresh",m,this),v.on("add remove reset sort",g,this),s.trigger("stickit:selectRefresh"),s.once("stickit:selectRefresh",(function(){s.off("stickit:unstuck",b)})),s.once("stickit:unstuck",b,this),c=c.toJSON()}if(l.defaultOption){var w=t.isFunction(l.defaultOption)?l.defaultOption.call(this,n,a):l.defaultOption;d(["__default__"],n,w)}if(t.isArray(c))d(c,n,r);else if(c.opt_labels)t.each(c.opt_labels,(function(t){var o=e.$("<optgroup/>").attr("label",t);d(c[t],o,r),n.append(o)}));else{var _,O=[];for(var x in c)(_={})[l.valuePath]=x,_[l.labelPath]=c[x],O.push(_);O=t.sortBy(O,l.comparator||l.labelPath),d(O,n,r)}},getVal:function(n){var r=n.find("option:selected");return n.prop("multiple")?t.map(r,(function(t){return e.$(t).data("stickit-bind-val")})):r.data("stickit-bind-val")}}]),n},void 0===(i=r.apply(e,o))||(t.exports=i)},7224:(t,e,n)=>{var r,o,i;i="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g,r=[n(4115),n(9755),e],o=function(t,e,n){i.Backbone=function(t,e,n,r){var o=t.Backbone,i=Array.prototype.slice;e.VERSION="1.4.0",e.$=r,e.noConflict=function(){return t.Backbone=o,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s,a=e.Events={},c=/\s+/,u=function(t,e,r,o,i){var s,a=0;if(r&&"object"==typeof r){void 0!==o&&"context"in i&&void 0===i.context&&(i.context=o);for(s=n.keys(r);a<s.length;a++)e=u(t,e,s[a],r[s[a]],i)}else if(r&&c.test(r))for(s=r.split(c);a<s.length;a++)e=t(e,s[a],o,i);else e=t(e,r,o,i);return e};a.on=function(t,e,n){return this._events=u(l,this._events||{},t,e,{context:n,ctx:this,listening:s}),s&&((this._listeners||(this._listeners={}))[s.id]=s,s.interop=!1),this},a.listenTo=function(t,e,r){if(!t)return this;var o=t._listenId||(t._listenId=n.uniqueId("l")),i=this._listeningTo||(this._listeningTo={}),a=s=i[o];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=s=i[o]=new v(this,t));var c=f(t,e,r,this);if(s=void 0,c)throw c;return a.interop&&a.on(e,r),this};var l=function(t,e,n,r){if(n){var o=t[e]||(t[e]=[]),i=r.context,s=r.ctx,a=r.listening;a&&a.count++,o.push({callback:n,context:i,ctx:i||s,listening:a})}return t},f=function(t,e,n,r){try{t.on(e,n,r)}catch(t){return t}};a.off=function(t,e,n){return this._events?(this._events=u(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(t,e,r){var o=this._listeningTo;if(!o)return this;for(var i=t?[t._listenId]:n.keys(o),s=0;s<i.length;s++){var a=o[i[s]];if(!a)break;a.obj.off(e,r,this),a.interop&&a.off(e,r)}return n.isEmpty(o)&&(this._listeningTo=void 0),this};var p=function(t,e,r,o){if(t){var i,s=o.context,a=o.listeners,c=0;if(e||s||r){for(i=e?[e]:n.keys(t);c<i.length;c++){var u=t[e=i[c]];if(!u)break;for(var l=[],f=0;f<u.length;f++){var p=u[f];if(r&&r!==p.callback&&r!==p.callback._callback||s&&s!==p.context)l.push(p);else{var h=p.listening;h&&h.off(e,r)}}l.length?t[e]=l:delete t[e]}return t}for(i=n.keys(a);c<i.length;c++)a[i[c]].cleanup()}};a.once=function(t,e,n){var r=u(h,{},t,e,this.off.bind(this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},a.listenToOnce=function(t,e,n){var r=u(h,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,r)};var h=function(t,e,r,o){if(r){var i=t[e]=n.once((function(){o(e,i),r.apply(this,arguments)}));i._callback=r}return t};a.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return u(d,this._events,t,void 0,n),this};var d=function(t,e,n,r){if(t){var o=t[e],i=t.all;o&&i&&(i=i.slice()),o&&y(o,r),i&&y(i,[e].concat(r))}return t},y=function(t,e){var n,r=-1,o=t.length,i=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<o;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i);return;case 2:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i,s);return;case 3:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i,s,a);return;default:for(;++r<o;)(n=t[r]).callback.apply(n.ctx,e);return}},v=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};v.prototype.on=a.on,v.prototype.off=function(t,e){var n;this.interop?(this._events=u(p,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},v.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(e,a);var g=e.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var o=n.result(this,"defaults");r=n.defaults(n.extend({},o,r),o),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(g.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var o;if("object"==typeof t?(o=t,r=e):(o={})[t]=e,r||(r={}),!this._validate(o,r))return!1;var i=r.unset,s=r.silent,a=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,l=this.changed,f=this._previousAttributes;for(var p in o)e=o[p],n.isEqual(u[p],e)||a.push(p),n.isEqual(f[p],e)?delete l[p]:l[p]=e,i?delete u[p]:u[p]=e;if(this.idAttribute in o&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=r);for(var h=0;h<a.length;h++)this.trigger("change:"+a[h],this,u[a[h]],r)}if(c)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=this._changing?this._previousAttributes:this.attributes,o={};for(var i in t){var s=t[i];n.isEqual(r[i],s)||(o[i]=s,e=!0)}return!!e&&o},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var o=t.parse?e.parse(n,t):n;if(!e.set(o,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},U(this,t),this.sync("read",this,t)},save:function(t,e,r){var o;null==t||"object"==typeof t?(o=t,r=e):(o={})[t]=e;var i=(r=n.extend({validate:!0,parse:!0},r)).wait;if(o&&!i){if(!this.set(o,r))return!1}else if(!this._validate(o,r))return!1;var s=this,a=r.success,c=this.attributes;r.success=function(t){s.attributes=c;var e=r.parse?s.parse(t,r):t;if(i&&(e=n.extend({},o,e)),e&&!s.set(e,r))return!1;a&&a.call(r.context,s,t,r),s.trigger("sync",s,t,r)},U(this,r),o&&i&&(this.attributes=n.extend({},c,o));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=o);var l=this.sync(u,this,r);return this.attributes=c,l},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,o=t.wait,i=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){o&&i(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(U(this,t),s=this.sync("delete",this,t)),o||i(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var m=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},_=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,o=Array(t.length-n),i=e.length;for(r=0;r<o.length;r++)o[r]=t[r+n];for(r=0;r<i;r++)t[r+n]=e[r];for(r=0;r<o.length;r++)t[r+i+n]=o[r]};n.extend(m.prototype,a,{model:g,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var o=this._removeModels(t,e);return!e.silent&&o.length&&(e.changes={added:[],merged:[],removed:o},this.trigger("update",this,e)),r?o[0]:o},set:function(t,e){if(null!=t){(e=n.extend({},b,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var o=e.at;null!=o&&(o=+o),o>this.length&&(o=this.length),o<0&&(o+=this.length+1);var i,s,a=[],c=[],u=[],l=[],f={},p=e.add,h=e.merge,d=e.remove,y=!1,v=this.comparator&&null==o&&!1!==e.sort,g=n.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){i=t[s];var m=this.get(i);if(m){if(h&&i!==m){var w=this._isModel(i)?i.attributes:i;e.parse&&(w=m.parse(w,e)),m.set(w,e),u.push(m),v&&!y&&(y=m.hasChanged(g))}f[m.cid]||(f[m.cid]=!0,a.push(m)),t[s]=m}else p&&(i=t[s]=this._prepareModel(i,e))&&(c.push(i),this._addReference(i,e),f[i.cid]=!0,a.push(i))}if(d){for(s=0;s<this.length;s++)f[(i=this.models[s]).cid]||l.push(i);l.length&&this._removeModels(l,e)}var O=!1,x=!v&&p&&d;if(a.length&&x?(O=this.length!==a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,_(this.models,a,0),this.length=this.models.length):c.length&&(v&&(y=!0),_(this.models,c,null==o?this.length:o),this.length=this.models.length),y&&this.sort({silent:!0}),!e.silent){for(s=0;s<c.length;s++)null!=o&&(e.index=o+s),(i=c[s]).trigger("add",i,this,e);(y||O)&&this.trigger("sort",this,e),(c.length||l.length||u.length)&&(e.changes={added:c,removed:l,merged:u},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return i.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,r=this;return t.success=function(n){var o=t.reset?"reset":"set";r[o](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},U(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var o=this,i=e.success;return e.success=function(t,e,n){r&&o.add(t,n),i&&i.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},values:function(){return new x(this,S)},keys:function(){return new x(this,k)},entries:function(){return new x(this,j)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var o=this.get(t[r]);if(o){var i=this.indexOf(o);this.models.splice(i,1),this.length--,delete this._byId[o.cid];var s=this.modelId(o.attributes);null!=s&&delete this._byId[s],e.silent||(e.index=i,o.trigger("remove",o,this,e)),n.push(o),this._removeReference(o,e)}}return n},_isModel:function(t){return t instanceof g},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var o=this.modelId(e.previousAttributes()),i=this.modelId(e.attributes);o!==i&&(null!=o&&delete this._byId[o],null!=i&&(this._byId[i]=e))}}this.trigger.apply(this,arguments)}});var O="function"==typeof Symbol&&Symbol.iterator;O&&(m.prototype[O]=m.prototype.values);var x=function(t,e){this._collection=t,this._kind=e,this._index=0},S=1,k=2,j=3;O&&(x.prototype[O]=function(){return this}),x.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===S)t=e;else{var n=this._collection.modelId(e.attributes);t=this._kind===k?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var E=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,P)),this._ensureElement(),this.initialize.apply(this,arguments)},R=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var o=e.match(R);this.delegate(o[1],o[2],r.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var T=function(t,e,r,o){n.each(r,(function(n,r){e[r]&&(t.prototype[r]=function(t,e,n,r){switch(e){case 1:return function(){return t[n](this[r])};case 2:return function(e){return t[n](this[r],e)};case 3:return function(e,o){return t[n](this[r],C(e,this),o)};case 4:return function(e,o,i){return t[n](this[r],C(e,this),o,i)};default:return function(){var e=i.call(arguments);return e.unshift(this[r]),t[n].apply(t,e)}}}(e,n,r,o))}))},C=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?A(t):n.isString(t)?function(e){return e.get(t)}:t},A=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}};n.each([[m,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[g,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(t){var e=t[0],r=t[1],o=t[2];e.mixin=function(t){var r=n.reduce(n.functions(t),(function(t,e){return t[e]=0,t}),{});T(e,t,r,o)},T(e,n,r,o)})),e.sync=function(t,r,o){var i=N[t];n.defaults(o||(o={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:i,dataType:"json"};if(o.url||(s.url=n.result(r,"url")||F()),null!=o.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(o.attrs||r.toJSON(o))),o.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),o.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){s.type="POST",o.emulateJSON&&(s.data._method=i);var a=o.beforeSend;o.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",i),a)return a.apply(this,arguments)}}"GET"===s.type||o.emulateJSON||(s.processData=!1);var c=o.error;o.error=function(t,e,n){o.textStatus=e,o.errorThrown=n,c&&c.call(o.context,t,e,n)};var u=o.xhr=e.ajax(n.extend(s,o));return r.trigger("request",r,u,o),u};var N={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var D=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},B=/\((.*?)\)/g,M=/(\(\?)?:\w+/g,V=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(D.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(t,r,o){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(o=r,r=""),o||(o=this[r]);var i=this;return e.history.route(t,(function(n){var s=i._extractParameters(t,n);!1!==i.execute(o,s,r)&&(i.trigger.apply(i,["route:"+r].concat(s)),i.trigger("route",r,s),e.history.trigger("route",i,r,s))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(I,"\\$&").replace(B,"(?:$1)?").replace(M,(function(t,e){return e?t:"([^/?]+)"})).replace(V,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,(function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null}))}});var L=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,q=/^\/+|\/+$/g,H=/#.*$/;L.started=!1,n.extend(L.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace($,"")},start:function(t){if(L.started)throw new Error("Backbone.history has already been started");if(L.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(q,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,o=r.insertBefore(this.iframe,r.firstChild).contentWindow;o.document.open(),o.document.close(),o.location.hash="#"+this.fragment}var i=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?i("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?i("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),L.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!L.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;t=t.replace(H,"");var o=this.decodeFragment(t);if(this.fragment!==o){if(this.fragment=o,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new L;g.extend=m.extend=D.extend=E.extend=L.extend=function(t,e){var r,o=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},n.extend(r,o,e),r.prototype=n.create(o.prototype,t),r.prototype.constructor=r,r.__super__=o.prototype,r};var F=function(){throw new Error('A "url" property or function must be specified')},U=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}(i,n,t,e)}.apply(e,r),void 0===o||(t.exports=o)},2316:(t,e,n)=>{var r,o,i;i="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g,r=[n(6419),n(9755),e],o=function(t,e,n){i.Backbone=function(t,e,n,r){var o=t.Backbone,i=Array.prototype.slice;e.VERSION="1.4.0",e.$=r,e.noConflict=function(){return t.Backbone=o,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s,a=e.Events={},c=/\s+/,u=function(t,e,r,o,i){var s,a=0;if(r&&"object"==typeof r){void 0!==o&&"context"in i&&void 0===i.context&&(i.context=o);for(s=n.keys(r);a<s.length;a++)e=u(t,e,s[a],r[s[a]],i)}else if(r&&c.test(r))for(s=r.split(c);a<s.length;a++)e=t(e,s[a],o,i);else e=t(e,r,o,i);return e};a.on=function(t,e,n){return this._events=u(l,this._events||{},t,e,{context:n,ctx:this,listening:s}),s&&((this._listeners||(this._listeners={}))[s.id]=s,s.interop=!1),this},a.listenTo=function(t,e,r){if(!t)return this;var o=t._listenId||(t._listenId=n.uniqueId("l")),i=this._listeningTo||(this._listeningTo={}),a=s=i[o];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=s=i[o]=new v(this,t));var c=f(t,e,r,this);if(s=void 0,c)throw c;return a.interop&&a.on(e,r),this};var l=function(t,e,n,r){if(n){var o=t[e]||(t[e]=[]),i=r.context,s=r.ctx,a=r.listening;a&&a.count++,o.push({callback:n,context:i,ctx:i||s,listening:a})}return t},f=function(t,e,n,r){try{t.on(e,n,r)}catch(t){return t}};a.off=function(t,e,n){return this._events?(this._events=u(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(t,e,r){var o=this._listeningTo;if(!o)return this;for(var i=t?[t._listenId]:n.keys(o),s=0;s<i.length;s++){var a=o[i[s]];if(!a)break;a.obj.off(e,r,this),a.interop&&a.off(e,r)}return n.isEmpty(o)&&(this._listeningTo=void 0),this};var p=function(t,e,r,o){if(t){var i,s=o.context,a=o.listeners,c=0;if(e||s||r){for(i=e?[e]:n.keys(t);c<i.length;c++){var u=t[e=i[c]];if(!u)break;for(var l=[],f=0;f<u.length;f++){var p=u[f];if(r&&r!==p.callback&&r!==p.callback._callback||s&&s!==p.context)l.push(p);else{var h=p.listening;h&&h.off(e,r)}}l.length?t[e]=l:delete t[e]}return t}for(i=n.keys(a);c<i.length;c++)a[i[c]].cleanup()}};a.once=function(t,e,n){var r=u(h,{},t,e,this.off.bind(this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},a.listenToOnce=function(t,e,n){var r=u(h,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,r)};var h=function(t,e,r,o){if(r){var i=t[e]=n.once((function(){o(e,i),r.apply(this,arguments)}));i._callback=r}return t};a.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return u(d,this._events,t,void 0,n),this};var d=function(t,e,n,r){if(t){var o=t[e],i=t.all;o&&i&&(i=i.slice()),o&&y(o,r),i&&y(i,[e].concat(r))}return t},y=function(t,e){var n,r=-1,o=t.length,i=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<o;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i);return;case 2:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i,s);return;case 3:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i,s,a);return;default:for(;++r<o;)(n=t[r]).callback.apply(n.ctx,e);return}},v=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};v.prototype.on=a.on,v.prototype.off=function(t,e){var n;this.interop?(this._events=u(p,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},v.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(e,a);var g=e.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var o=n.result(this,"defaults");r=n.defaults(n.extend({},o,r),o),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(g.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var o;if("object"==typeof t?(o=t,r=e):(o={})[t]=e,r||(r={}),!this._validate(o,r))return!1;var i=r.unset,s=r.silent,a=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,l=this.changed,f=this._previousAttributes;for(var p in o)e=o[p],n.isEqual(u[p],e)||a.push(p),n.isEqual(f[p],e)?delete l[p]:l[p]=e,i?delete u[p]:u[p]=e;if(this.idAttribute in o&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=r);for(var h=0;h<a.length;h++)this.trigger("change:"+a[h],this,u[a[h]],r)}if(c)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=this._changing?this._previousAttributes:this.attributes,o={};for(var i in t){var s=t[i];n.isEqual(r[i],s)||(o[i]=s,e=!0)}return!!e&&o},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var o=t.parse?e.parse(n,t):n;if(!e.set(o,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},U(this,t),this.sync("read",this,t)},save:function(t,e,r){var o;null==t||"object"==typeof t?(o=t,r=e):(o={})[t]=e;var i=(r=n.extend({validate:!0,parse:!0},r)).wait;if(o&&!i){if(!this.set(o,r))return!1}else if(!this._validate(o,r))return!1;var s=this,a=r.success,c=this.attributes;r.success=function(t){s.attributes=c;var e=r.parse?s.parse(t,r):t;if(i&&(e=n.extend({},o,e)),e&&!s.set(e,r))return!1;a&&a.call(r.context,s,t,r),s.trigger("sync",s,t,r)},U(this,r),o&&i&&(this.attributes=n.extend({},c,o));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=o);var l=this.sync(u,this,r);return this.attributes=c,l},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,o=t.wait,i=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){o&&i(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(U(this,t),s=this.sync("delete",this,t)),o||i(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var m=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},_=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,o=Array(t.length-n),i=e.length;for(r=0;r<o.length;r++)o[r]=t[r+n];for(r=0;r<i;r++)t[r+n]=e[r];for(r=0;r<o.length;r++)t[r+i+n]=o[r]};n.extend(m.prototype,a,{model:g,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var o=this._removeModels(t,e);return!e.silent&&o.length&&(e.changes={added:[],merged:[],removed:o},this.trigger("update",this,e)),r?o[0]:o},set:function(t,e){if(null!=t){(e=n.extend({},b,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var o=e.at;null!=o&&(o=+o),o>this.length&&(o=this.length),o<0&&(o+=this.length+1);var i,s,a=[],c=[],u=[],l=[],f={},p=e.add,h=e.merge,d=e.remove,y=!1,v=this.comparator&&null==o&&!1!==e.sort,g=n.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){i=t[s];var m=this.get(i);if(m){if(h&&i!==m){var w=this._isModel(i)?i.attributes:i;e.parse&&(w=m.parse(w,e)),m.set(w,e),u.push(m),v&&!y&&(y=m.hasChanged(g))}f[m.cid]||(f[m.cid]=!0,a.push(m)),t[s]=m}else p&&(i=t[s]=this._prepareModel(i,e))&&(c.push(i),this._addReference(i,e),f[i.cid]=!0,a.push(i))}if(d){for(s=0;s<this.length;s++)f[(i=this.models[s]).cid]||l.push(i);l.length&&this._removeModels(l,e)}var O=!1,x=!v&&p&&d;if(a.length&&x?(O=this.length!==a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,_(this.models,a,0),this.length=this.models.length):c.length&&(v&&(y=!0),_(this.models,c,null==o?this.length:o),this.length=this.models.length),y&&this.sort({silent:!0}),!e.silent){for(s=0;s<c.length;s++)null!=o&&(e.index=o+s),(i=c[s]).trigger("add",i,this,e);(y||O)&&this.trigger("sort",this,e),(c.length||l.length||u.length)&&(e.changes={added:c,removed:l,merged:u},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return i.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,r=this;return t.success=function(n){var o=t.reset?"reset":"set";r[o](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},U(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var o=this,i=e.success;return e.success=function(t,e,n){r&&o.add(t,n),i&&i.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},values:function(){return new x(this,S)},keys:function(){return new x(this,k)},entries:function(){return new x(this,j)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var o=this.get(t[r]);if(o){var i=this.indexOf(o);this.models.splice(i,1),this.length--,delete this._byId[o.cid];var s=this.modelId(o.attributes);null!=s&&delete this._byId[s],e.silent||(e.index=i,o.trigger("remove",o,this,e)),n.push(o),this._removeReference(o,e)}}return n},_isModel:function(t){return t instanceof g},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var o=this.modelId(e.previousAttributes()),i=this.modelId(e.attributes);o!==i&&(null!=o&&delete this._byId[o],null!=i&&(this._byId[i]=e))}}this.trigger.apply(this,arguments)}});var O="function"==typeof Symbol&&Symbol.iterator;O&&(m.prototype[O]=m.prototype.values);var x=function(t,e){this._collection=t,this._kind=e,this._index=0},S=1,k=2,j=3;O&&(x.prototype[O]=function(){return this}),x.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===S)t=e;else{var n=this._collection.modelId(e.attributes);t=this._kind===k?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var E=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,P)),this._ensureElement(),this.initialize.apply(this,arguments)},R=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var o=e.match(R);this.delegate(o[1],o[2],r.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var T=function(t,e,r,o){n.each(r,(function(n,r){e[r]&&(t.prototype[r]=function(t,e,n,r){switch(e){case 1:return function(){return t[n](this[r])};case 2:return function(e){return t[n](this[r],e)};case 3:return function(e,o){return t[n](this[r],C(e,this),o)};case 4:return function(e,o,i){return t[n](this[r],C(e,this),o,i)};default:return function(){var e=i.call(arguments);return e.unshift(this[r]),t[n].apply(t,e)}}}(e,n,r,o))}))},C=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?A(t):n.isString(t)?function(e){return e.get(t)}:t},A=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}};n.each([[m,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[g,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(t){var e=t[0],r=t[1],o=t[2];e.mixin=function(t){var r=n.reduce(n.functions(t),(function(t,e){return t[e]=0,t}),{});T(e,t,r,o)},T(e,n,r,o)})),e.sync=function(t,r,o){var i=N[t];n.defaults(o||(o={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:i,dataType:"json"};if(o.url||(s.url=n.result(r,"url")||F()),null!=o.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(o.attrs||r.toJSON(o))),o.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),o.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){s.type="POST",o.emulateJSON&&(s.data._method=i);var a=o.beforeSend;o.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",i),a)return a.apply(this,arguments)}}"GET"===s.type||o.emulateJSON||(s.processData=!1);var c=o.error;o.error=function(t,e,n){o.textStatus=e,o.errorThrown=n,c&&c.call(o.context,t,e,n)};var u=o.xhr=e.ajax(n.extend(s,o));return r.trigger("request",r,u,o),u};var N={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var D=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},B=/\((.*?)\)/g,M=/(\(\?)?:\w+/g,V=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(D.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(t,r,o){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(o=r,r=""),o||(o=this[r]);var i=this;return e.history.route(t,(function(n){var s=i._extractParameters(t,n);!1!==i.execute(o,s,r)&&(i.trigger.apply(i,["route:"+r].concat(s)),i.trigger("route",r,s),e.history.trigger("route",i,r,s))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(I,"\\$&").replace(B,"(?:$1)?").replace(M,(function(t,e){return e?t:"([^/?]+)"})).replace(V,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,(function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null}))}});var L=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,q=/^\/+|\/+$/g,H=/#.*$/;L.started=!1,n.extend(L.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace($,"")},start:function(t){if(L.started)throw new Error("Backbone.history has already been started");if(L.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(q,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,o=r.insertBefore(this.iframe,r.firstChild).contentWindow;o.document.open(),o.document.close(),o.location.hash="#"+this.fragment}var i=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?i("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?i("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),L.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!L.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;t=t.replace(H,"");var o=this.decodeFragment(t);if(this.fragment!==o){if(this.fragment=o,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new L;g.extend=m.extend=D.extend=E.extend=L.extend=function(t,e){var r,o=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},n.extend(r,o,e),r.prototype=n.create(o.prototype,t),r.prototype.constructor=r,r.__super__=o.prototype,r};var F=function(){throw new Error('A "url" property or function must be specified')},U=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}(i,n,t,e)}.apply(e,r),void 0===o||(t.exports=o)},9755:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(r,o){"use strict";var i=[],s=Object.getPrototypeOf,a=i.slice,c=i.flat?function(t){return i.flat.call(t)}:function(t){return i.concat.apply([],t)},u=i.push,l=i.indexOf,f={},p=f.toString,h=f.hasOwnProperty,d=h.toString,y=d.call(Object),v={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},m=function(t){return null!=t&&t===t.window},b=r.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function _(t,e,n){var r,o,i=(n=n||b).createElement("script");if(i.text=t,e)for(r in w)(o=e[r]||e.getAttribute&&e.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function O(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}var x="3.6.0",S=function(t,e){return new S.fn.init(t,e)};function k(t){var e=!!t&&"length"in t&&t.length,n=O(t);return!g(t)&&!m(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}S.fn=S.prototype={jquery:x,constructor:S,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(t){return this.pushStack(S.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(S.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:i.sort,splice:i.splice},S.extend=S.fn.extend=function(){var t,e,n,r,o,i,s=arguments[0]||{},a=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||g(s)||(s={}),a===c&&(s=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)r=t[e],"__proto__"!==e&&s!==r&&(u&&r&&(S.isPlainObject(r)||(o=Array.isArray(r)))?(n=s[e],i=o&&!Array.isArray(n)?[]:o||S.isPlainObject(n)?n:{},o=!1,s[e]=S.extend(u,i,r)):void 0!==r&&(s[e]=r));return s},S.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t)||(e=s(t))&&("function"!=typeof(n=h.call(e,"constructor")&&e.constructor)||d.call(n)!==y))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){_(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(k(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(k(Object(t))?S.merge(n,"string"==typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:l.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,o=t.length;r<n;r++)t[o++]=e[r];return t.length=o,t},grep:function(t,e,n){for(var r=[],o=0,i=t.length,s=!n;o<i;o++)!e(t[o],o)!==s&&r.push(t[o]);return r},map:function(t,e,n){var r,o,i=0,s=[];if(k(t))for(r=t.length;i<r;i++)null!=(o=e(t[i],i,n))&&s.push(o);else for(i in t)null!=(o=e(t[i],i,n))&&s.push(o);return c(s)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=i[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){f["[object "+e+"]"]=e.toLowerCase()}));var j=function(t){var e,n,r,o,i,s,a,c,u,l,f,p,h,d,y,v,g,m,b,w="sizzle"+1*new Date,_=t.document,O=0,x=0,S=ct(),k=ct(),j=ct(),E=ct(),R=function(t,e){return t===e&&(f=!0),0},P={}.hasOwnProperty,T=[],C=T.pop,A=T.push,N=T.push,D=T.slice,B=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",V="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",L="\\[[\\x20\\t\\r\\n\\f]*("+I+")(?:"+V+"*([*^$|!~]?=)"+V+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+V+"*\\]",$=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+L+")*)|.*)\\)|)",q=new RegExp(V+"+","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),F=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),z=new RegExp(V+"|>"),W=new RegExp($),G=new RegExp("^"+I+"$"),J={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){p()},st=wt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(T=D.call(_.childNodes),_.childNodes),T[_.childNodes.length].nodeType}catch(t){N={apply:T.length?function(t,e){A.apply(t,D.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function at(t,e,r,o){var i,a,u,l,f,d,g,m=e&&e.ownerDocument,_=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return r;if(!o&&(p(e),e=e||h,y)){if(11!==_&&(f=Z.exec(t)))if(i=f[1]){if(9===_){if(!(u=e.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(m&&(u=m.getElementById(i))&&b(e,u)&&u.id===i)return r.push(u),r}else{if(f[2])return N.apply(r,e.getElementsByTagName(t)),r;if((i=f[3])&&n.getElementsByClassName&&e.getElementsByClassName)return N.apply(r,e.getElementsByClassName(i)),r}if(n.qsa&&!E[t+" "]&&(!v||!v.test(t))&&(1!==_||"object"!==e.nodeName.toLowerCase())){if(g=t,m=e,1===_&&(z.test(t)||U.test(t))){for((m=tt.test(t)&&gt(e.parentNode)||e)===e&&n.scope||((l=e.getAttribute("id"))?l=l.replace(rt,ot):e.setAttribute("id",l=w)),a=(d=s(t)).length;a--;)d[a]=(l?"#"+l:":scope")+" "+bt(d[a]);g=d.join(",")}try{return N.apply(r,m.querySelectorAll(g)),r}catch(e){E(t,!0)}finally{l===w&&e.removeAttribute("id")}}}return c(t.replace(H,"$1"),e,r,o)}function ct(){var t=[];return function e(n,o){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=o}}function ut(t){return t[w]=!0,t}function lt(t){var e=h.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ft(t,e){for(var n=t.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=e}function pt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function yt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function vt(t){return ut((function(e){return e=+e,ut((function(n,r){for(var o,i=t([],n.length,e),s=i.length;s--;)n[o=i[s]]&&(n[o]=!(r[o]=n[o]))}))}))}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},i=at.isXML=function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!K.test(e||n&&n.nodeName||"HTML")},p=at.setDocument=function(t){var e,o,s=t?t.ownerDocument||t:_;return s!=h&&9===s.nodeType&&s.documentElement?(d=(h=s).documentElement,y=!i(h),_!=h&&(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",it,!1):o.attachEvent&&o.attachEvent("onunload",it)),n.scope=lt((function(t){return d.appendChild(t).appendChild(h.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=lt((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=lt((function(t){return t.appendChild(h.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(h.getElementsByClassName),n.getById=lt((function(t){return d.appendChild(t).id=w,!h.getElementsByName||!h.getElementsByName(w).length})),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&y){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&y){var n,r,o,i=e.getElementById(t);if(i){if((n=i.getAttributeNode("id"))&&n.value===t)return[i];for(o=e.getElementsByName(t),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===t)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],o=0,i=e.getElementsByTagName(t);if("*"===t){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&y)return e.getElementsByClassName(t)},g=[],v=[],(n.qsa=Q.test(h.querySelectorAll))&&(lt((function(t){var e;d.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+M+")"),t.querySelectorAll("[id~="+w+"-]").length||v.push("~="),(e=h.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||v.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]"),t.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),lt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=h.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=Q.test(m=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&lt((function(t){n.disconnectedMatch=m.call(t,"*"),m.call(t,"[s!='']:x"),g.push("!=",$)})),v=v.length&&new RegExp(v.join("|")),g=g.length&&new RegExp(g.join("|")),e=Q.test(d.compareDocumentPosition),b=e||Q.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},R=e?function(t,e){if(t===e)return f=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t==h||t.ownerDocument==_&&b(_,t)?-1:e==h||e.ownerDocument==_&&b(_,e)?1:l?B(l,t)-B(l,e):0:4&r?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,r=0,o=t.parentNode,i=e.parentNode,s=[t],a=[e];if(!o||!i)return t==h?-1:e==h?1:o?-1:i?1:l?B(l,t)-B(l,e):0;if(o===i)return pt(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?pt(s[r],a[r]):s[r]==_?-1:a[r]==_?1:0},h):h},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(p(t),n.matchesSelector&&y&&!E[e+" "]&&(!g||!g.test(e))&&(!v||!v.test(e)))try{var r=m.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){E(e,!0)}return at(e,h,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!=h&&p(t),b(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=h&&p(t);var o=r.attrHandle[e.toLowerCase()],i=o&&P.call(r.attrHandle,e.toLowerCase())?o(t,e,!y):void 0;return void 0!==i?i:n.attributes||!y?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},at.escape=function(t){return(t+"").replace(rt,ot)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,r=[],o=0,i=0;if(f=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(R),f){for(;e=t[i++];)e===t[i]&&(o=r.push(i));for(;o--;)t.splice(r[o],1)}return l=null,t},o=at.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=o(e);return n},r=at.selectors={cacheLength:50,createPseudo:ut,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return J.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&W.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+V+"|$)"))&&S(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var o=at.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o.replace(q," ")+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,n,c){var u,l,f,p,h,d,y=i!==s?"nextSibling":"previousSibling",v=e.parentNode,g=a&&e.nodeName.toLowerCase(),m=!c&&!a,b=!1;if(v){if(i){for(;y;){for(p=e;p=p[y];)if(a?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;d=y="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&m){for(b=(h=(u=(l=(f=(p=v)[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[t]||[])[0]===O&&u[1])&&u[2],p=h&&v.childNodes[h];p=++h&&p&&p[y]||(b=h=0)||d.pop();)if(1===p.nodeType&&++b&&p===e){l[t]=[O,h,b];break}}else if(m&&(b=h=(u=(l=(f=(p=e)[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[t]||[])[0]===O&&u[1]),!1===b)for(;(p=++h&&p&&p[y]||(b=h=0)||d.pop())&&((a?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++b||(m&&((l=(f=p[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[t]=[O,b]),p!==e)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,e){var n,o=r.pseudos[t]||r.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return o[w]?o(e):o.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ut((function(t,n){for(var r,i=o(t,e),s=i.length;s--;)t[r=B(t,i[s])]=!(n[r]=i[s])})):function(t){return o(t,0,n)}):o}},pseudos:{not:ut((function(t){var e=[],n=[],r=a(t.replace(H,"$1"));return r[w]?ut((function(t,e,n,o){for(var i,s=r(t,null,o,[]),a=t.length;a--;)(i=s[a])&&(t[a]=!(e[a]=i))})):function(t,o,i){return e[0]=t,r(e,null,i,n),e[0]=null,!n.pop()}})),has:ut((function(t){return function(e){return at(t,e).length>0}})),contains:ut((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:ut((function(t){return G.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=y?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:yt(!1),disabled:yt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt((function(){return[0]})),last:vt((function(t,e){return[e-1]})),eq:vt((function(t,e,n){return[n<0?n+e:n]})),even:vt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:vt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:vt((function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t})),gt:vt((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=dt(e);function mt(){}function bt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function wt(t,e,n){var r=e.dir,o=e.next,i=o||r,s=n&&"parentNode"===i,a=x++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,o);return!1}:function(e,n,c){var u,l,f,p=[O,a];if(c){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,c))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(l=(f=e[w]||(e[w]={}))[e.uniqueID]||(f[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[r]||e;else{if((u=l[i])&&u[0]===O&&u[1]===a)return p[2]=u[2];if(l[i]=p,p[2]=t(e,n,c))return!0}return!1}}function _t(t){return t.length>1?function(e,n,r){for(var o=t.length;o--;)if(!t[o](e,n,r))return!1;return!0}:t[0]}function Ot(t,e,n,r,o){for(var i,s=[],a=0,c=t.length,u=null!=e;a<c;a++)(i=t[a])&&(n&&!n(i,r,o)||(s.push(i),u&&e.push(a)));return s}function xt(t,e,n,r,o,i){return r&&!r[w]&&(r=xt(r)),o&&!o[w]&&(o=xt(o,i)),ut((function(i,s,a,c){var u,l,f,p=[],h=[],d=s.length,y=i||function(t,e,n){for(var r=0,o=e.length;r<o;r++)at(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!i&&e?y:Ot(y,p,t,a,c),g=n?o||(i?t:d||r)?[]:s:v;if(n&&n(v,g,a,c),r)for(u=Ot(g,h),r(u,[],a,c),l=u.length;l--;)(f=u[l])&&(g[h[l]]=!(v[h[l]]=f));if(i){if(o||t){if(o){for(u=[],l=g.length;l--;)(f=g[l])&&u.push(v[l]=f);o(null,g=[],u,c)}for(l=g.length;l--;)(f=g[l])&&(u=o?B(i,f):p[l])>-1&&(i[u]=!(s[u]=f))}}else g=Ot(g===s?g.splice(d,g.length):g),o?o(null,s,g,c):N.apply(s,g)}))}function St(t){for(var e,n,o,i=t.length,s=r.relative[t[0].type],a=s||r.relative[" "],c=s?1:0,l=wt((function(t){return t===e}),a,!0),f=wt((function(t){return B(e,t)>-1}),a,!0),p=[function(t,n,r){var o=!s&&(r||n!==u)||((e=n).nodeType?l(t,n,r):f(t,n,r));return e=null,o}];c<i;c++)if(n=r.relative[t[c].type])p=[wt(_t(p),n)];else{if((n=r.filter[t[c].type].apply(null,t[c].matches))[w]){for(o=++c;o<i&&!r.relative[t[o].type];o++);return xt(c>1&&_t(p),c>1&&bt(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(H,"$1"),n,c<o&&St(t.slice(c,o)),o<i&&St(t=t.slice(o)),o<i&&bt(t))}p.push(n)}return _t(p)}return mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,s=at.tokenize=function(t,e){var n,o,i,s,a,c,u,l=k[t+" "];if(l)return e?0:l.slice(0);for(a=t,c=[],u=r.preFilter;a;){for(s in n&&!(o=F.exec(a))||(o&&(a=a.slice(o[0].length)||a),c.push(i=[])),n=!1,(o=U.exec(a))&&(n=o.shift(),i.push({value:n,type:o[0].replace(H," ")}),a=a.slice(n.length)),r.filter)!(o=J[s].exec(a))||u[s]&&!(o=u[s](o))||(n=o.shift(),i.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):k(t,c).slice(0)},a=at.compile=function(t,e){var n,o=[],i=[],a=j[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=St(e[n]))[w]?o.push(a):i.push(a);a=j(t,function(t,e){var n=e.length>0,o=t.length>0,i=function(i,s,a,c,l){var f,d,v,g=0,m="0",b=i&&[],w=[],_=u,x=i||o&&r.find.TAG("*",l),S=O+=null==_?1:Math.random()||.1,k=x.length;for(l&&(u=s==h||s||l);m!==k&&null!=(f=x[m]);m++){if(o&&f){for(d=0,s||f.ownerDocument==h||(p(f),a=!y);v=t[d++];)if(v(f,s||h,a)){c.push(f);break}l&&(O=S)}n&&((f=!v&&f)&&g--,i&&b.push(f))}if(g+=m,n&&m!==g){for(d=0;v=e[d++];)v(b,w,s,a);if(i){if(g>0)for(;m--;)b[m]||w[m]||(w[m]=C.call(c));w=Ot(w)}N.apply(c,w),l&&!i&&w.length>0&&g+e.length>1&&at.uniqueSort(c)}return l&&(O=S,u=_),b};return n?ut(i):i}(i,o)),a.selector=t}return a},c=at.select=function(t,e,n,o){var i,c,u,l,f,p="function"==typeof t&&t,h=!o&&s(t=p.selector||t);if(n=n||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&9===e.nodeType&&y&&r.relative[c[1].type]){if(!(e=(r.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(i=J.needsContext.test(t)?0:c.length;i--&&(u=c[i],!r.relative[l=u.type]);)if((f=r.find[l])&&(o=f(u.matches[0].replace(et,nt),tt.test(c[0].type)&&gt(e.parentNode)||e))){if(c.splice(i,1),!(t=o.length&&bt(c)))return N.apply(n,o),n;break}}return(p||a(t,h))(o,e,!y,n,!e||tt.test(t)&&gt(e.parentNode)||e),n},n.sortStable=w.split("").sort(R).join("")===w,n.detectDuplicates=!!f,p(),n.sortDetached=lt((function(t){return 1&t.compareDocumentPosition(h.createElement("fieldset"))})),lt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ft("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&lt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ft("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),lt((function(t){return null==t.getAttribute("disabled")}))||ft(M,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),at}(r);S.find=j,S.expr=j.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=j.uniqueSort,S.text=j.getText,S.isXMLDoc=j.isXML,S.contains=j.contains,S.escapeSelector=j.escape;var E=function(t,e,n){for(var r=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&S(t).is(n))break;r.push(t)}return r},R=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},P=S.expr.match.needsContext;function T(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(t,e,n){return g(e)?S.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?S.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?S.grep(t,(function(t){return l.call(e,t)>-1!==n})):S.filter(e,t,n)}S.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?S.find.matchesSelector(r,t)?[r]:[]:S.find.matches(t,S.grep(e,(function(t){return 1===t.nodeType})))},S.fn.extend({find:function(t){var e,n,r=this.length,o=this;if("string"!=typeof t)return this.pushStack(S(t).filter((function(){for(e=0;e<r;e++)if(S.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)S.find(t,o[e],n);return r>1?S.uniqueSort(n):n},filter:function(t){return this.pushStack(A(this,t||[],!1))},not:function(t){return this.pushStack(A(this,t||[],!0))},is:function(t){return!!A(this,"string"==typeof t&&P.test(t)?S(t):t||[],!1).length}});var N,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||N,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),C.test(r[1])&&S.isPlainObject(e))for(r in e)g(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=b.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==n.ready?n.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,N=S(b);var B=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function V(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(S.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,o=this.length,i=[],s="string"!=typeof t&&S(t);if(!P.test(t))for(;r<o;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,t))){i.push(n);break}return this.pushStack(i.length>1?S.uniqueSort(i):i)},index:function(t){return t?"string"==typeof t?l.call(S(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,n){return E(t,"parentNode",n)},next:function(t){return V(t,"nextSibling")},prev:function(t){return V(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,n){return E(t,"nextSibling",n)},prevUntil:function(t,e,n){return E(t,"previousSibling",n)},siblings:function(t){return R((t.parentNode||{}).firstChild,t)},children:function(t){return R(t.firstChild)},contents:function(t){return null!=t.contentDocument&&s(t.contentDocument)?t.contentDocument:(T(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},(function(t,e){S.fn[t]=function(n,r){var o=S.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=S.filter(r,o)),this.length>1&&(M[t]||S.uniqueSort(o),B.test(t)&&o.reverse()),this.pushStack(o)}}));var I=/[^\x20\t\r\n\f]+/g;function L(t){return t}function $(t){throw t}function q(t,e,n,r){var o;try{t&&g(o=t.promise)?o.call(t).done(e).fail(n):t&&g(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}S.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return S.each(t.match(I)||[],(function(t,n){e[n]=!0})),e}(t):S.extend({},t);var e,n,r,o,i=[],s=[],a=-1,c=function(){for(o=o||t.once,r=e=!0;s.length;a=-1)for(n=s.shift();++a<i.length;)!1===i[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=i.length,n=!1);t.memory||(n=!1),e=!1,o&&(i=n?[]:"")},u={add:function(){return i&&(n&&!e&&(a=i.length-1,s.push(n)),function e(n){S.each(n,(function(n,r){g(r)?t.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==O(r)&&e(r)}))}(arguments),n&&!e&&c()),this},remove:function(){return S.each(arguments,(function(t,e){for(var n;(n=S.inArray(e,i,n))>-1;)i.splice(n,1),n<=a&&a--})),this},has:function(t){return t?S.inArray(t,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=s=[],n||e||(i=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},S.extend({Deferred:function(t){var e=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return S.Deferred((function(n){S.each(e,(function(e,r){var o=g(t[r[4]])&&t[r[4]];i[r[1]]((function(){var t=o&&o.apply(this,arguments);t&&g(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(t,n,o){var i=0;function s(t,e,n,o){return function(){var a=this,c=arguments,u=function(){var r,u;if(!(t<i)){if((r=n.apply(a,c))===e.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,g(u)?o?u.call(r,s(i,e,L,o),s(i,e,$,o)):(i++,u.call(r,s(i,e,L,o),s(i,e,$,o),s(i,e,L,e.notifyWith))):(n!==L&&(a=void 0,c=[r]),(o||e.resolveWith)(a,c))}},l=o?u:function(){try{u()}catch(r){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(r,l.stackTrace),t+1>=i&&(n!==$&&(a=void 0,c=[r]),e.rejectWith(a,c))}};t?l():(S.Deferred.getStackHook&&(l.stackTrace=S.Deferred.getStackHook()),r.setTimeout(l))}}return S.Deferred((function(r){e[0][3].add(s(0,r,g(o)?o:L,r.notifyWith)),e[1][3].add(s(0,r,g(t)?t:L)),e[2][3].add(s(0,r,g(n)?n:$))})).promise()},promise:function(t){return null!=t?S.extend(t,o):o}},i={};return S.each(e,(function(t,r){var s=r[2],a=r[5];o[r[1]]=s.add,a&&s.add((function(){n=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=s.fireWith})),o.promise(i),t&&t.call(i,i),i},when:function(t){var e=arguments.length,n=e,r=Array(n),o=a.call(arguments),i=S.Deferred(),s=function(t){return function(n){r[t]=this,o[t]=arguments.length>1?a.call(arguments):n,--e||i.resolveWith(r,o)}};if(e<=1&&(q(t,i.done(s(n)).resolve,i.reject,!e),"pending"===i.state()||g(o[n]&&o[n].then)))return i.then();for(;n--;)q(o[n],s(n),i.reject);return i.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){r.console&&r.console.warn&&t&&H.test(t.name)&&r.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){r.setTimeout((function(){throw t}))};var F=S.Deferred();function U(){b.removeEventListener("DOMContentLoaded",U),r.removeEventListener("load",U),S.ready()}S.fn.ready=function(t){return F.then(t).catch((function(t){S.readyException(t)})),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==t&&--S.readyWait>0||F.resolveWith(b,[S]))}}),S.ready.then=F.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(S.ready):(b.addEventListener("DOMContentLoaded",U),r.addEventListener("load",U));var z=function(t,e,n,r,o,i,s){var a=0,c=t.length,u=null==n;if("object"===O(n))for(a in o=!0,n)z(t,e,a,n[a],!0,i,s);else if(void 0!==r&&(o=!0,g(r)||(s=!0),u&&(s?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(S(t),n)})),e))for(;a<c;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return o?t:u?e.call(t):c?e(t[0],n):i},W=/^-ms-/,G=/-([a-z])/g;function J(t,e){return e.toUpperCase()}function K(t){return t.replace(W,"ms-").replace(G,J)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Y(){this.expando=S.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,o=this.cache(t);if("string"==typeof e)o[K(e)]=n;else for(r in e)o[K(r)]=e[r];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(K):(e=K(e))in r?[e]:e.match(I)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||S.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var Q=new Y,Z=new Y,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}S.extend({hasData:function(t){return Z.hasData(t)||Q.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),S.fn.extend({data:function(t,e){var n,r,o,i=this[0],s=i&&i.attributes;if(void 0===t){if(this.length&&(o=Z.get(i),1===i.nodeType&&!Q.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=K(r.slice(5)),nt(i,r,o[r]));Q.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each((function(){Z.set(this,t)})):z(this,(function(e){var n;if(i&&void 0===e)return void 0!==(n=Z.get(i,t))||void 0!==(n=nt(i,t))?n:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),S.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Q.get(t,e),n&&(!r||Array.isArray(n)?r=Q.access(t,e,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=S.queue(t,e),r=n.length,o=n.shift(),i=S._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===e&&n.unshift("inprogress"),delete i.stop,o.call(t,(function(){S.dequeue(t,e)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:S.Callbacks("once memory").add((function(){Q.remove(t,[e+"queue",n])}))})}}),S.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?S.queue(this[0],t):void 0===e?this:this.each((function(){var n=S.queue(this,t,e);S._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&S.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){S.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,o=S.Deferred(),i=this,s=this.length,a=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Q.get(i[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),o.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ot=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],st=b.documentElement,at=function(t){return S.contains(t.ownerDocument,t)},ct={composed:!0};st.getRootNode&&(at=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(ct)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===S.css(t,"display")};function lt(t,e,n,r){var o,i,s=20,a=r?function(){return r.cur()}:function(){return S.css(t,e,"")},c=a(),u=n&&n[3]||(S.cssNumber[e]?"":"px"),l=t.nodeType&&(S.cssNumber[e]||"px"!==u&&+c)&&ot.exec(S.css(t,e));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;s--;)S.style(t,e,l+u),(1-i)*(1-(i=a()/c||.5))<=0&&(s=0),l/=i;l*=2,S.style(t,e,l+u),n=n||[]}return n&&(l=+l||+c||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=o)),o}var ft={};function pt(t){var e,n=t.ownerDocument,r=t.nodeName,o=ft[r];return o||(e=n.body.appendChild(n.createElement(r)),o=S.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),ft[r]=o,o)}function ht(t,e){for(var n,r,o=[],i=0,s=t.length;i<s;i++)(r=t[i]).style&&(n=r.style.display,e?("none"===n&&(o[i]=Q.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ut(r)&&(o[i]=pt(r))):"none"!==n&&(o[i]="none",Q.set(r,"display",n)));for(i=0;i<s;i++)null!=o[i]&&(t[i].style.display=o[i]);return t}S.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ut(this)?S(this).show():S(this).hide()}))}});var dt,yt,vt=/^(?:checkbox|radio)$/i,gt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,mt=/^$|^module$|\/(?:java|ecma)script/i;dt=b.createDocumentFragment().appendChild(b.createElement("div")),(yt=b.createElement("input")).setAttribute("type","radio"),yt.setAttribute("checked","checked"),yt.setAttribute("name","t"),dt.appendChild(yt),v.checkClone=dt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!dt.cloneNode(!0).lastChild.defaultValue,dt.innerHTML="<option></option>",v.option=!!dt.lastChild;var bt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function wt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&T(t,e)?S.merge([t],n):n}function _t(t,e){for(var n=0,r=t.length;n<r;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}bt.tbody=bt.tfoot=bt.colgroup=bt.caption=bt.thead,bt.th=bt.td,v.option||(bt.optgroup=bt.option=[1,"<select multiple='multiple'>","</select>"]);var Ot=/<|&#?\w+;/;function xt(t,e,n,r,o){for(var i,s,a,c,u,l,f=e.createDocumentFragment(),p=[],h=0,d=t.length;h<d;h++)if((i=t[h])||0===i)if("object"===O(i))S.merge(p,i.nodeType?[i]:i);else if(Ot.test(i)){for(s=s||f.appendChild(e.createElement("div")),a=(gt.exec(i)||["",""])[1].toLowerCase(),c=bt[a]||bt._default,s.innerHTML=c[1]+S.htmlPrefilter(i)+c[2],l=c[0];l--;)s=s.lastChild;S.merge(p,s.childNodes),(s=f.firstChild).textContent=""}else p.push(e.createTextNode(i));for(f.textContent="",h=0;i=p[h++];)if(r&&S.inArray(i,r)>-1)o&&o.push(i);else if(u=at(i),s=wt(f.appendChild(i),"script"),u&&_t(s),n)for(l=0;i=s[l++];)mt.test(i.type||"")&&n.push(i);return f}var St=/^([^.]*)(?:\.(.+)|)/;function kt(){return!0}function jt(){return!1}function Et(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function Rt(t,e,n,r,o,i){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(r=r||n,n=void 0),e)Rt(t,a,n,r,e[a],i);return t}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=jt;else if(!o)return t;return 1===i&&(s=o,o=function(t){return S().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=S.guid++)),t.each((function(){S.event.add(this,e,o,r,n)}))}function Pt(t,e,n){n?(Q.set(t,e,!1),S.event.add(t,e,{namespace:!1,handler:function(t){var r,o,i=Q.get(this,e);if(1&t.isTrigger&&this[e]){if(i.length)(S.event.special[e]||{}).delegateType&&t.stopPropagation();else if(i=a.call(arguments),Q.set(this,e,i),r=n(this,e),this[e](),i!==(o=Q.get(this,e))||r?Q.set(this,e,!1):o={},i!==o)return t.stopImmediatePropagation(),t.preventDefault(),o&&o.value}else i.length&&(Q.set(this,e,{value:S.event.trigger(S.extend(i[0],S.Event.prototype),i.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Q.get(t,e)&&S.event.add(t,e,kt)}S.event={global:{},add:function(t,e,n,r,o){var i,s,a,c,u,l,f,p,h,d,y,v=Q.get(t);if(X(t))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&S.find.matchesSelector(st,o),n.guid||(n.guid=S.guid++),(c=v.events)||(c=v.events=Object.create(null)),(s=v.handle)||(s=v.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(I)||[""]).length;u--;)h=y=(a=St.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),h&&(f=S.event.special[h]||{},h=(o?f.delegateType:f.bindType)||h,f=S.event.special[h]||{},l=S.extend({type:h,origType:y,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&S.expr.match.needsContext.test(o),namespace:d.join(".")},i),(p=c[h])||((p=c[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,d,s)||t.addEventListener&&t.addEventListener(h,s)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,l):p.push(l),S.event.global[h]=!0)},remove:function(t,e,n,r,o){var i,s,a,c,u,l,f,p,h,d,y,v=Q.hasData(t)&&Q.get(t);if(v&&(c=v.events)){for(u=(e=(e||"").match(I)||[""]).length;u--;)if(h=y=(a=St.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),h){for(f=S.event.special[h]||{},p=c[h=(r?f.delegateType:f.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=p.length;i--;)l=p[i],!o&&y!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(i,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(t,l));s&&!p.length&&(f.teardown&&!1!==f.teardown.call(t,d,v.handle)||S.removeEvent(t,h,v.handle),delete c[h])}else for(h in c)S.event.remove(t,h+e[u],n,r,!0);S.isEmptyObject(c)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,r,o,i,s,a=new Array(arguments.length),c=S.event.fix(t),u=(Q.get(this,"events")||Object.create(null))[c.type]||[],l=S.event.special[c.type]||{};for(a[0]=c,e=1;e<arguments.length;e++)a[e]=arguments[e];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(s=S.event.handlers.call(this,c,u),e=0;(o=s[e++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==i.namespace&&!c.rnamespace.test(i.namespace)||(c.handleObj=i,c.data=i.data,void 0!==(r=((S.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,a))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(t,e){var n,r,o,i,s,a=[],c=e.delegateCount,u=t.target;if(c&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(i=[],s={},n=0;n<c;n++)void 0===s[o=(r=e[n]).selector+" "]&&(s[o]=r.needsContext?S(o,this).index(u)>-1:S.find(o,this,null,[u]).length),s[o]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return u=this,c<e.length&&a.push({elem:u,handlers:e.slice(c)}),a},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return vt.test(e.type)&&e.click&&T(e,"input")&&Pt(e,"click",kt),!1},trigger:function(t){var e=this||t;return vt.test(e.type)&&e.click&&T(e,"input")&&Pt(e,"click"),!0},_default:function(t){var e=t.target;return vt.test(e.type)&&e.click&&T(e,"input")&&Q.get(e,"click")||T(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?kt:jt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:jt,isPropagationStopped:jt,isImmediatePropagationStopped:jt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=kt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=kt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=kt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},(function(t,e){S.event.special[t]={setup:function(){return Pt(this,t,Et),!1},trigger:function(){return Pt(this,t),!0},_default:function(){return!0},delegateType:e}})),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){S.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,o=t.relatedTarget,i=t.handleObj;return o&&(o===r||S.contains(r,o))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}})),S.fn.extend({on:function(t,e,n,r){return Rt(this,t,e,n,r)},one:function(t,e,n,r){return Rt(this,t,e,n,r,1)},off:function(t,e,n){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,S(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=jt),this.each((function(){S.event.remove(this,t,n,e)}))}});var Tt=/<script|<style|<link/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,At=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Nt(t,e){return T(t,"table")&&T(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Dt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Bt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Mt(t,e){var n,r,o,i,s,a;if(1===e.nodeType){if(Q.hasData(t)&&(a=Q.get(t).events))for(o in Q.remove(e,"handle events"),a)for(n=0,r=a[o].length;n<r;n++)S.event.add(e,o,a[o][n]);Z.hasData(t)&&(i=Z.access(t),s=S.extend({},i),Z.set(e,s))}}function Vt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&vt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function It(t,e,n,r){e=c(e);var o,i,s,a,u,l,f=0,p=t.length,h=p-1,d=e[0],y=g(d);if(y||p>1&&"string"==typeof d&&!v.checkClone&&Ct.test(d))return t.each((function(o){var i=t.eq(o);y&&(e[0]=d.call(this,o,i.html())),It(i,e,n,r)}));if(p&&(i=(o=xt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(a=(s=S.map(wt(o,"script"),Dt)).length;f<p;f++)u=o,f!==h&&(u=S.clone(u,!0,!0),a&&S.merge(s,wt(u,"script"))),n.call(t[f],u,f);if(a)for(l=s[s.length-1].ownerDocument,S.map(s,Bt),f=0;f<a;f++)u=s[f],mt.test(u.type||"")&&!Q.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):_(u.textContent.replace(At,""),u,l))}return t}function Lt(t,e,n){for(var r,o=e?S.filter(e,t):t,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||S.cleanData(wt(r)),r.parentNode&&(n&&at(r)&&_t(wt(r,"script")),r.parentNode.removeChild(r));return t}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,o,i,s,a=t.cloneNode(!0),c=at(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(s=wt(a),r=0,o=(i=wt(t)).length;r<o;r++)Vt(i[r],s[r]);if(e)if(n)for(i=i||wt(t),s=s||wt(a),r=0,o=i.length;r<o;r++)Mt(i[r],s[r]);else Mt(t,a);return(s=wt(a,"script")).length>0&&_t(s,!c&&wt(t,"script")),a},cleanData:function(t){for(var e,n,r,o=S.event.special,i=0;void 0!==(n=t[i]);i++)if(X(n)){if(e=n[Q.expando]){if(e.events)for(r in e.events)o[r]?S.event.remove(n,r):S.removeEvent(n,r,e.handle);n[Q.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Lt(this,t,!0)},remove:function(t){return Lt(this,t)},text:function(t){return z(this,(function(t){return void 0===t?S.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return It(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Nt(this,t).appendChild(t)}))},prepend:function(){return It(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Nt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return It(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return It(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(wt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return S.clone(this,t,e)}))},html:function(t){return z(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Tt.test(t)&&!bt[(gt.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(S.cleanData(wt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return It(this,arguments,(function(e){var n=this.parentNode;S.inArray(this,t)<0&&(S.cleanData(wt(this)),n&&n.replaceChild(e,this))}),t)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){S.fn[t]=function(t){for(var n,r=[],o=S(t),i=o.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),S(o[s])[e](n),u.apply(r,n.get());return this.pushStack(r)}}));var $t=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=r),e.getComputedStyle(t)},Ht=function(t,e,n){var r,o,i={};for(o in e)i[o]=t.style[o],t.style[o]=e[o];for(o in r=n.call(t),e)t.style[o]=i[o];return r},Ft=new RegExp(it.join("|"),"i");function Ut(t,e,n){var r,o,i,s,a=t.style;return(n=n||qt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||at(t)||(s=S.style(t,e)),!v.pixelBoxStyles()&&$t.test(s)&&Ft.test(e)&&(r=a.width,o=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=o,a.maxWidth=i)),void 0!==s?s+"":s}function zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(u).appendChild(l);var t=r.getComputedStyle(l);n="1%"!==t.top,c=12===e(t.marginLeft),l.style.right="60%",s=36===e(t.right),o=36===e(t.width),l.style.position="absolute",i=12===e(l.offsetWidth/3),st.removeChild(u),l=null}}function e(t){return Math.round(parseFloat(t))}var n,o,i,s,a,c,u=b.createElement("div"),l=b.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),i},reliableTrDimensions:function(){var t,e,n,o;return null==a&&(t=b.createElement("table"),e=b.createElement("tr"),n=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",st.appendChild(t).appendChild(e).appendChild(n),o=r.getComputedStyle(e),a=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===e.offsetHeight,st.removeChild(t)),a}}))}();var Wt=["Webkit","Moz","ms"],Gt=b.createElement("div").style,Jt={};function Kt(t){return S.cssProps[t]||Jt[t]||(t in Gt?t:Jt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Wt.length;n--;)if((t=Wt[n]+e)in Gt)return t}(t)||t)}var Xt=/^(none|table(?!-c[ea]).+)/,Yt=/^--/,Qt={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:"0",fontWeight:"400"};function te(t,e,n){var r=ot.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function ee(t,e,n,r,o,i){var s="width"===e?1:0,a=0,c=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=S.css(t,n+it[s],!0,o)),r?("content"===n&&(c-=S.css(t,"padding"+it[s],!0,o)),"margin"!==n&&(c-=S.css(t,"border"+it[s]+"Width",!0,o))):(c+=S.css(t,"padding"+it[s],!0,o),"padding"!==n?c+=S.css(t,"border"+it[s]+"Width",!0,o):a+=S.css(t,"border"+it[s]+"Width",!0,o));return!r&&i>=0&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-i-c-a-.5))||0),c}function ne(t,e,n){var r=qt(t),o=(!v.boxSizingReliable()||n)&&"border-box"===S.css(t,"boxSizing",!1,r),i=o,s=Ut(t,e,r),a="offset"+e[0].toUpperCase()+e.slice(1);if($t.test(s)){if(!n)return s;s="auto"}return(!v.boxSizingReliable()&&o||!v.reliableTrDimensions()&&T(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===S.css(t,"display",!1,r))&&t.getClientRects().length&&(o="border-box"===S.css(t,"boxSizing",!1,r),(i=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ee(t,e,n||(o?"border":"content"),i,r,s)+"px"}function re(t,e,n,r,o){return new re.prototype.init(t,e,n,r,o)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ut(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,i,s,a=K(e),c=Yt.test(e),u=t.style;if(c||(e=Kt(a)),s=S.cssHooks[e]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(t,!1,r))?o:u[e];"string"==(i=typeof n)&&(o=ot.exec(n))&&o[1]&&(n=lt(t,e,o),i="number"),null!=n&&n==n&&("number"!==i||c||(n+=o&&o[3]||(S.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(c?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,r){var o,i,s,a=K(e);return Yt.test(e)||(e=Kt(a)),(s=S.cssHooks[e]||S.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=Ut(t,e,r)),"normal"===o&&e in Zt&&(o=Zt[e]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),S.each(["height","width"],(function(t,e){S.cssHooks[e]={get:function(t,n,r){if(n)return!Xt.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ne(t,e,r):Ht(t,Qt,(function(){return ne(t,e,r)}))},set:function(t,n,r){var o,i=qt(t),s=!v.scrollboxSize()&&"absolute"===i.position,a=(s||r)&&"border-box"===S.css(t,"boxSizing",!1,i),c=r?ee(t,e,r,a,i):0;return a&&s&&(c-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(i[e])-ee(t,e,"border",!1,i)-.5)),c&&(o=ot.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=S.css(t,e)),te(0,n,c)}}})),S.cssHooks.marginLeft=zt(v.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Ut(t,"marginLeft"))||t.getBoundingClientRect().left-Ht(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),S.each({margin:"",padding:"",border:"Width"},(function(t,e){S.cssHooks[t+e]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[t+it[r]+e]=i[r]||i[r-2]||i[0];return o}},"margin"!==t&&(S.cssHooks[t+e].set=te)})),S.fn.extend({css:function(t,e){return z(this,(function(t,e,n){var r,o,i={},s=0;if(Array.isArray(e)){for(r=qt(t),o=e.length;s<o;s++)i[e[s]]=S.css(t,e[s],!1,r);return i}return void 0!==n?S.style(t,e,n):S.css(t,e)}),t,e,arguments.length>1)}}),S.Tween=re,re.prototype={constructor:re,init:function(t,e,n,r,o,i){this.elem=t,this.prop=n,this.easing=o||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=i||(S.cssNumber[n]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,n=re.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):re.propHooks._default.set(this),this}},re.prototype.init.prototype=re.prototype,re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Kt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}},re.propHooks.scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=re.prototype.init,S.fx.step={};var oe,ie,se=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;function ce(){ie&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ce):r.setTimeout(ce,S.fx.interval),S.fx.tick())}function ue(){return r.setTimeout((function(){oe=void 0})),oe=Date.now()}function le(t,e){var n,r=0,o={height:t};for(e=e?1:0;r<4;r+=2-e)o["margin"+(n=it[r])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function fe(t,e,n){for(var r,o=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),i=0,s=o.length;i<s;i++)if(r=o[i].call(n,e,t))return r}function pe(t,e,n){var r,o,i=0,s=pe.prefilters.length,a=S.Deferred().always((function(){delete c.elem})),c=function(){if(o)return!1;for(var e=oe||ue(),n=Math.max(0,u.startTime+u.duration-e),r=1-(n/u.duration||0),i=0,s=u.tweens.length;i<s;i++)u.tweens[i].run(r);return a.notifyWith(t,[u,r,n]),r<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:e,originalOptions:n,startTime:oe||ue(),duration:n.duration,tweens:[],createTween:function(e,n){var r=S.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),l=u.props;for(function(t,e){var n,r,o,i,s;for(n in t)if(o=e[r=K(n)],i=t[n],Array.isArray(i)&&(o=i[1],i=t[n]=i[0]),n!==r&&(t[r]=i,delete t[n]),(s=S.cssHooks[r])&&"expand"in s)for(n in i=s.expand(i),delete t[r],i)n in t||(t[n]=i[n],e[n]=o);else e[r]=o}(l,u.opts.specialEasing);i<s;i++)if(r=pe.prefilters[i].call(u,t,l,u.opts))return g(r.stop)&&(S._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return S.map(l,fe,u),g(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),S.fx.timer(S.extend(c,{elem:t,anim:u,queue:u.opts.queue})),u}S.Animation=S.extend(pe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,ot.exec(e),n),n}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(I);for(var n,r=0,o=t.length;r<o;r++)n=t[r],pe.tweeners[n]=pe.tweeners[n]||[],pe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,o,i,s,a,c,u,l,f="width"in e||"height"in e,p=this,h={},d=t.style,y=t.nodeType&&ut(t),v=Q.get(t,"fxshow");for(r in n.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always((function(){p.always((function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()}))}))),e)if(o=e[r],se.test(o)){if(delete e[r],i=i||"toggle"===o,o===(y?"hide":"show")){if("show"!==o||!v||void 0===v[r])continue;y=!0}h[r]=v&&v[r]||S.style(t,r)}if((c=!S.isEmptyObject(e))||!S.isEmptyObject(h))for(r in f&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=v&&v.display)&&(u=Q.get(t,"display")),"none"===(l=S.css(t,"display"))&&(u?l=u:(ht([t],!0),u=t.style.display||u,l=S.css(t,"display"),ht([t]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===S.css(t,"float")&&(c||(p.done((function(){d.display=u})),null==u&&(l=d.display,u="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),c=!1,h)c||(v?"hidden"in v&&(y=v.hidden):v=Q.access(t,"fxshow",{display:u}),i&&(v.hidden=!y),y&&ht([t],!0),p.done((function(){for(r in y||ht([t]),Q.remove(t,"fxshow"),h)S.style(t,r,h[r])}))),c=fe(y?v[r]:0,r,p),r in v||(v[r]=c.start,y&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),S.speed=function(t,e,n){var r=t&&"object"==typeof t?S.extend({},t):{complete:n||!n&&e||g(t)&&t,duration:t,easing:n&&e||e&&!g(e)&&e};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var o=S.isEmptyObject(t),i=S.speed(e,n,r),s=function(){var e=pe(this,S.extend({},t),i);(o||Q.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,o=null!=t&&t+"queueHooks",i=S.timers,s=Q.get(this);if(o)s[o]&&s[o].stop&&r(s[o]);else for(o in s)s[o]&&s[o].stop&&ae.test(o)&&r(s[o]);for(o=i.length;o--;)i[o].elem!==this||null!=t&&i[o].queue!==t||(i[o].anim.stop(n),e=!1,i.splice(o,1));!e&&n||S.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Q.get(this),r=n[t+"queue"],o=n[t+"queueHooks"],i=S.timers,s=r?r.length:0;for(n.finish=!0,S.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===t&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),S.each(["toggle","show","hide"],(function(t,e){var n=S.fn[e];S.fn[e]=function(t,r,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,r,o)}})),S.each({slideDown:le("show"),slideUp:le("hide"),slideToggle:le("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){S.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),S.timers=[],S.fx.tick=function(){var t,e=0,n=S.timers;for(oe=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||S.fx.stop(),oe=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ie||(ie=!0,ce())},S.fx.stop=function(){ie=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(t,e){return t=S.fx&&S.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var o=r.setTimeout(e,t);n.stop=function(){r.clearTimeout(o)}}))},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var he,de=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return z(this,S.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){S.removeAttr(this,t)}))}}),S.extend({attr:function(t,e,n){var r,o,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===t.getAttribute?S.prop(t,e,n):(1===i&&S.isXMLDoc(t)||(o=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?he:void 0)),void 0!==n?null===n?void S.removeAttr(t,e):o&&"set"in o&&void 0!==(r=o.set(t,n,e))?r:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(r=o.get(t,e))?r:null==(r=S.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&T(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,o=e&&e.match(I);if(o&&1===t.nodeType)for(;n=o[r++];)t.removeAttribute(n)}}),he={set:function(t,e,n){return!1===e?S.removeAttr(t,n):t.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=de[e]||S.find.attr;de[e]=function(t,e,r){var o,i,s=e.toLowerCase();return r||(i=de[s],de[s]=o,o=null!=n(t,e,r)?s:null,de[s]=i),o}}));var ye=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function ge(t){return(t.match(I)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function be(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(I)||[]}S.fn.extend({prop:function(t,e){return z(this,S.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[S.propFix[t]||t]}))}}),S.extend({prop:function(t,e,n){var r,o,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&S.isXMLDoc(t)||(e=S.propFix[e]||e,o=S.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(t,n,e))?r:t[e]=n:o&&"get"in o&&null!==(r=o.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):ye.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){S.propFix[this.toLowerCase()]=this})),S.fn.extend({addClass:function(t){var e,n,r,o,i,s,a,c=0;if(g(t))return this.each((function(e){S(this).addClass(t.call(this,e,me(this)))}));if((e=be(t)).length)for(;n=this[c++];)if(o=me(n),r=1===n.nodeType&&" "+ge(o)+" "){for(s=0;i=e[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(a=ge(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,o,i,s,a,c=0;if(g(t))return this.each((function(e){S(this).removeClass(t.call(this,e,me(this)))}));if(!arguments.length)return this.attr("class","");if((e=be(t)).length)for(;n=this[c++];)if(o=me(n),r=1===n.nodeType&&" "+ge(o)+" "){for(s=0;i=e[s++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(a=ge(r))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):g(t)?this.each((function(n){S(this).toggleClass(t.call(this,n,me(this),e),e)})):this.each((function(){var e,o,i,s;if(r)for(o=0,i=S(this),s=be(t);e=s[o++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||((e=me(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+ge(me(n))+" ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g;S.fn.extend({val:function(t){var e,n,r,o=this[0];return arguments.length?(r=g(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?t.call(this,n,S(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=S.map(o,(function(t){return null==t?"":t+""}))),(e=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=S.valHooks[o.type]||S.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(we,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:ge(S.text(t))}},select:{get:function(t){var e,n,r,o=t.options,i=t.selectedIndex,s="select-one"===t.type,a=s?null:[],c=s?i+1:o.length;for(r=i<0?c:s?i:0;r<c;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(e=S(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,r,o=t.options,i=S.makeArray(e),s=o.length;s--;)((r=o[s]).selected=S.inArray(S.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(t.selectedIndex=-1),i}}}}),S.each(["radio","checkbox"],(function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=S.inArray(S(t).val(),e)>-1}},v.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),v.focusin="onfocusin"in r;var _e=/^(?:focusinfocus|focusoutblur)$/,Oe=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,n,o){var i,s,a,c,u,l,f,p,d=[n||b],y=h.call(t,"type")?t.type:t,v=h.call(t,"namespace")?t.namespace.split("."):[];if(s=p=a=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!_e.test(y+S.event.triggered)&&(y.indexOf(".")>-1&&(v=y.split("."),y=v.shift(),v.sort()),u=y.indexOf(":")<0&&"on"+y,(t=t[S.expando]?t:new S.Event(y,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:S.makeArray(e,[t]),f=S.event.special[y]||{},o||!f.trigger||!1!==f.trigger.apply(n,e))){if(!o&&!f.noBubble&&!m(n)){for(c=f.delegateType||y,_e.test(c+y)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(n.ownerDocument||b)&&d.push(a.defaultView||a.parentWindow||r)}for(i=0;(s=d[i++])&&!t.isPropagationStopped();)p=s,t.type=i>1?c:f.bindType||y,(l=(Q.get(s,"events")||Object.create(null))[t.type]&&Q.get(s,"handle"))&&l.apply(s,e),(l=u&&s[u])&&l.apply&&X(s)&&(t.result=l.apply(s,e),!1===t.result&&t.preventDefault());return t.type=y,o||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(d.pop(),e)||!X(n)||u&&g(n[y])&&!m(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=y,t.isPropagationStopped()&&p.addEventListener(y,Oe),n[y](),t.isPropagationStopped()&&p.removeEventListener(y,Oe),S.event.triggered=void 0,a&&(n[u]=a)),t.result}},simulate:function(t,e,n){var r=S.extend(new S.Event,n,{type:t,isSimulated:!0});S.event.trigger(r,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each((function(){S.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return S.event.trigger(t,e,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){S.event.simulate(e,t.target,S.event.fix(t))};S.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,o=Q.access(r,e);o||r.addEventListener(t,n,!0),Q.access(r,e,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=Q.access(r,e)-1;o?Q.access(r,e,o):(r.removeEventListener(t,n,!0),Q.remove(r,e))}}}));var xe=r.location,Se={guid:Date.now()},ke=/\?/;S.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new r.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var je=/\[\]$/,Ee=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;function Te(t,e,n,r){var o;if(Array.isArray(e))S.each(e,(function(e,o){n||je.test(t)?r(t,o):Te(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,r)}));else if(n||"object"!==O(e))r(t,e);else for(o in e)Te(t+"["+o+"]",e[o],n,r)}S.param=function(t,e){var n,r=[],o=function(t,e){var n=g(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,(function(){o(this.name,this.value)}));else for(n in t)Te(n,t[n],e,o);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Pe.test(this.nodeName)&&!Re.test(t)&&(this.checked||!vt.test(t))})).map((function(t,e){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,(function(t){return{name:e.name,value:t.replace(Ee,"\r\n")}})):{name:e.name,value:n.replace(Ee,"\r\n")}})).get()}});var Ce=/%20/g,Ae=/#.*$/,Ne=/([?&])_=[^&]*/,De=/^(.*?):[ \t]*([^\r\n]*)$/gm,Be=/^(?:GET|HEAD)$/,Me=/^\/\//,Ve={},Ie={},Le="*/".concat("*"),$e=b.createElement("a");function qe(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,o=0,i=e.toLowerCase().match(I)||[];if(g(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function He(t,e,n,r){var o={},i=t===Ie;function s(a){var c;return o[a]=!0,S.each(t[a]||[],(function(t,a){var u=a(e,n,r);return"string"!=typeof u||i||o[u]?i?!(c=u):void 0:(e.dataTypes.unshift(u),s(u),!1)})),c}return s(e.dataTypes[0])||!o["*"]&&s("*")}function Fe(t,e){var n,r,o=S.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:r||(r={}))[n]=e[n]);return r&&S.extend(!0,t,r),t}$e.href=xe.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Le,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Fe(Fe(t,S.ajaxSettings),e):Fe(S.ajaxSettings,t)},ajaxPrefilter:qe(Ve),ajaxTransport:qe(Ie),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,i,s,a,c,u,l,f,p,h=S.ajaxSetup({},e),d=h.context||h,y=h.context&&(d.nodeType||d.jquery)?S(d):S.event,v=S.Deferred(),g=S.Callbacks("once memory"),m=h.statusCode||{},w={},_={},O="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=De.exec(i);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(t,e){return null==u&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==u&&(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)x.always(t[x.status]);else for(e in t)m[e]=[m[e],t[e]];return this},abort:function(t){var e=t||O;return n&&n.abort(e),k(0,e),this}};if(v.promise(x),h.url=((t||h.url||xe.href)+"").replace(Me,xe.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(I)||[""],null==h.crossDomain){c=b.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=$e.protocol+"//"+$e.host!=c.protocol+"//"+c.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=S.param(h.data,h.traditional)),He(Ve,h,e,x),u)return x;for(f in(l=S.event&&h.global)&&0==S.active++&&S.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Be.test(h.type),o=h.url.replace(Ae,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ce,"+")):(p=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(ke.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ne,"$1"),p=(ke.test(o)?"&":"?")+"_="+Se.guid+++p),h.url=o+p),h.ifModified&&(S.lastModified[o]&&x.setRequestHeader("If-Modified-Since",S.lastModified[o]),S.etag[o]&&x.setRequestHeader("If-None-Match",S.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Le+"; q=0.01":""):h.accepts["*"]),h.headers)x.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(!1===h.beforeSend.call(d,x,h)||u))return x.abort();if(O="abort",g.add(h.complete),x.done(h.success),x.fail(h.error),n=He(Ie,h,e,x)){if(x.readyState=1,l&&y.trigger("ajaxSend",[x,h]),u)return x;h.async&&h.timeout>0&&(a=r.setTimeout((function(){x.abort("timeout")}),h.timeout));try{u=!1,n.send(w,k)}catch(t){if(u)throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,e,s,c){var f,p,b,w,_,O=e;u||(u=!0,a&&r.clearTimeout(a),n=void 0,i=c||"",x.readyState=t>0?4:0,f=t>=200&&t<300||304===t,s&&(w=function(t,e,n){for(var r,o,i,s,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(o in a)if(a[o]&&a[o].test(r)){c.unshift(o);break}if(c[0]in n)i=c[0];else{for(o in n){if(!c[0]||t.converters[o+" "+c[0]]){i=o;break}s||(s=o)}i=i||s}if(i)return i!==c[0]&&c.unshift(i),n[i]}(h,x,s)),!f&&S.inArray("script",h.dataTypes)>-1&&S.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),w=function(t,e,n,r){var o,i,s,a,c,u={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(i=l.shift();i;)if(t.responseFields[i]&&(n[t.responseFields[i]]=e),!c&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(s=u[c+" "+i]||u["* "+i]))for(o in u)if((a=o.split(" "))[1]===i&&(s=u[c+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(i=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+c+" to "+i}}}return{state:"success",data:e}}(h,w,x,f),f?(h.ifModified&&((_=x.getResponseHeader("Last-Modified"))&&(S.lastModified[o]=_),(_=x.getResponseHeader("etag"))&&(S.etag[o]=_)),204===t||"HEAD"===h.type?O="nocontent":304===t?O="notmodified":(O=w.state,p=w.data,f=!(b=w.error))):(b=O,!t&&O||(O="error",t<0&&(t=0))),x.status=t,x.statusText=(e||O)+"",f?v.resolveWith(d,[p,O,x]):v.rejectWith(d,[x,O,b]),x.statusCode(m),m=void 0,l&&y.trigger(f?"ajaxSuccess":"ajaxError",[x,h,f?p:b]),g.fireWith(d,[x,O]),l&&(y.trigger("ajaxComplete",[x,h]),--S.active||S.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,n){return S.get(t,e,n,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],(function(t,e){S[e]=function(t,n,r,o){return g(n)&&(o=o||r,r=n,n=void 0),S.ajax(S.extend({url:t,type:e,dataType:o,data:n,success:r},S.isPlainObject(t)&&t))}})),S.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),S._evalUrl=function(t,e,n){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,n)}})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return g(t)?this.each((function(e){S(this).wrapInner(t.call(this,e))})):this.each((function(){var e=S(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=g(t);return this.each((function(n){S(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){S(this).replaceWith(this.childNodes)})),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(t){}};var Ue={0:200,1223:204},ze=S.ajaxSettings.xhr();v.cors=!!ze&&"withCredentials"in ze,v.ajax=ze=!!ze,S.ajaxTransport((function(t){var e,n;if(v.cors||ze&&!t.crossDomain)return{send:function(o,i){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)a.setRequestHeader(s,o[s]);e=function(t){return function(){e&&(e=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(Ue[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),n=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){e&&n()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),S.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),S.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,o){e=S("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){n&&n()}}}));var We,Ge=[],Je=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ge.pop()||S.expando+"_"+Se.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",(function(t,e,n){var o,i,s,a=!1!==t.jsonp&&(Je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Je,"$1"+o):!1!==t.jsonp&&(t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return s||S.error(o+" was not called"),s[0]},t.dataTypes[0]="json",i=r[o],r[o]=function(){s=arguments},n.always((function(){void 0===i?S(r).removeProp(o):r[o]=i,t[o]&&(t.jsonpCallback=e.jsonpCallback,Ge.push(o)),s&&g(i)&&i(s[0]),s=i=void 0})),"script"})),v.createHTMLDocument=((We=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===We.childNodes.length),S.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((r=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(r)):e=b),i=!n&&[],(o=C.exec(t))?[e.createElement(o[1])]:(o=xt([t],e,i),i&&i.length&&S(i).remove(),S.merge([],o.childNodes)));var r,o,i},S.fn.load=function(t,e,n){var r,o,i,s=this,a=t.indexOf(" ");return a>-1&&(r=ge(t.slice(a)),t=t.slice(0,a)),g(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&S.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){i=arguments,s.html(r?S("<div>").append(S.parseHTML(t)).find(r):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,i||[t.responseText,e,t])}))}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,(function(e){return t===e.elem})).length},S.offset={setOffset:function(t,e,n){var r,o,i,s,a,c,u=S.css(t,"position"),l=S(t),f={};"static"===u&&(t.style.position="relative"),a=l.offset(),i=S.css(t,"top"),c=S.css(t,"left"),("absolute"===u||"fixed"===u)&&(i+c).indexOf("auto")>-1?(s=(r=l.position()).top,o=r.left):(s=parseFloat(i)||0,o=parseFloat(c)||0),g(e)&&(e=e.call(t,n,S.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+o),"using"in e?e.using.call(t,f):l.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){S.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],o={top:0,left:0};if("fixed"===S.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((o=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),o.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-S.css(r,"marginTop",!0),left:e.left-o.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||st}))}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;S.fn[t]=function(r){return z(this,(function(t,r,o){var i;if(m(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===o)return i?i[e]:t[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):t[r]=o}),t,r,arguments.length)}})),S.each(["top","left"],(function(t,e){S.cssHooks[e]=zt(v.pixelPosition,(function(t,n){if(n)return n=Ut(t,e),$t.test(n)?S(t).position()[e]+"px":n}))})),S.each({Height:"height",Width:"width"},(function(t,e){S.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){S.fn[r]=function(o,i){var s=arguments.length&&(n||"boolean"!=typeof o),a=n||(!0===o||!0===i?"margin":"border");return z(this,(function(e,n,o){var i;return m(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===o?S.css(e,n,a):S.style(e,n,o,a)}),e,s?o:void 0,s)}}))})),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){S.fn[e]=function(t){return this.on(e,t)}})),S.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){S.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(t,e){var n,r,o;if("string"==typeof e&&(n=t[e],e=t,t=n),g(t))return r=a.call(arguments,2),o=function(){return t.apply(e||this,r.concat(a.call(arguments)))},o.guid=t.guid=t.guid||S.guid++,o},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=T,S.isFunction=g,S.isWindow=m,S.camelCase=K,S.type=O,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(Ke,"")},void 0===(n=function(){return S}.apply(e,[]))||(t.exports=n);var Xe=r.jQuery,Ye=r.$;return S.noConflict=function(t){return r.$===S&&(r.$=Ye),t&&r.jQuery===S&&(r.jQuery=Xe),S},void 0===o&&(r.jQuery=r.$=S),S}))},4115:function(t,e,n){t.exports=function(){var t="1.13.1",e="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||Function("return this")()||{},r=Array.prototype,o=Object.prototype,i="undefined"!=typeof Symbol?Symbol.prototype:null,s=r.push,a=r.slice,c=o.toString,u=o.hasOwnProperty,l="undefined"!=typeof ArrayBuffer,f="undefined"!=typeof DataView,p=Array.isArray,h=Object.keys,d=Object.create,y=l&&ArrayBuffer.isView,v=isNaN,g=isFinite,m=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],w=Math.pow(2,53)-1;function _(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var i=Array(e+1);for(o=0;o<e;o++)i[o]=arguments[o];return i[e]=r,t.apply(this,i)}}function O(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function x(t){return void 0===t}function S(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)}function k(t){var e="[object "+t+"]";return function(t){return c.call(t)===e}}var j=k("String"),E=k("Number"),R=k("Date"),P=k("RegExp"),T=k("Error"),C=k("Symbol"),A=k("ArrayBuffer"),N=k("Function"),D=e.document&&e.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof D&&(N=function(t){return"function"==typeof t||!1});var B=N,M=k("Object"),V=f&&M(new DataView(new ArrayBuffer(8))),I="undefined"!=typeof Map&&M(new Map),L=k("DataView"),$=V?function(t){return null!=t&&B(t.getInt8)&&A(t.buffer)}:L,q=p||k("Array");function H(t,e){return null!=t&&u.call(t,e)}var F=k("Arguments");!function(){F(arguments)||(F=function(t){return H(t,"callee")})}();var U=F;function z(t){return E(t)&&v(t)}function W(t){return function(){return t}}function G(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=w}}function J(t){return function(e){return null==e?void 0:e[t]}}var K=J("byteLength"),X=G(K),Y=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Q=l?function(t){return y?y(t)&&!$(t):X(t)&&Y.test(c.call(t))}:W(!1),Z=J("length");function tt(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=b.length,r=t.constructor,i=B(r)&&r.prototype||o,s="constructor";for(H(t,s)&&!e.contains(s)&&e.push(s);n--;)(s=b[n])in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function et(t){if(!O(t))return[];if(h)return h(t);var e=[];for(var n in t)H(t,n)&&e.push(n);return m&&tt(t,e),e}function nt(t,e){var n=et(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var s=n[i];if(e[s]!==o[s]||!(s in o))return!1}return!0}function rt(t){return t instanceof rt?t:this instanceof rt?void(this._wrapped=t):new rt(t)}function ot(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,K(t))}rt.VERSION=t,rt.prototype.value=function(){return this._wrapped},rt.prototype.valueOf=rt.prototype.toJSON=rt.prototype.value,rt.prototype.toString=function(){return String(this._wrapped)};var it="[object DataView]";function st(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&function t(e,n,r,o){e instanceof rt&&(e=e._wrapped),n instanceof rt&&(n=n._wrapped);var s=c.call(e);if(s!==c.call(n))return!1;if(V&&"[object Object]"==s&&$(e)){if(!$(n))return!1;s=it}switch(s){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return i.valueOf.call(e)===i.valueOf.call(n);case"[object ArrayBuffer]":case it:return t(ot(e),ot(n),r,o)}var a="[object Array]"===s;if(!a&&Q(e)){if(K(e)!==K(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof e||"object"!=typeof n)return!1;var u=e.constructor,l=n.constructor;if(u!==l&&!(B(u)&&u instanceof u&&B(l)&&l instanceof l)&&"constructor"in e&&"constructor"in n)return!1}o=o||[];for(var f=(r=r||[]).length;f--;)if(r[f]===e)return o[f]===n;if(r.push(e),o.push(n),a){if((f=e.length)!==n.length)return!1;for(;f--;)if(!st(e[f],n[f],r,o))return!1}else{var p,h=et(e);if(f=h.length,et(n).length!==f)return!1;for(;f--;)if(!H(n,p=h[f])||!st(e[p],n[p],r,o))return!1}return r.pop(),o.pop(),!0}(t,e,n,r)}function at(t){if(!O(t))return[];var e=[];for(var n in t)e.push(n);return m&&tt(t,e),e}function ct(t){var e=Z(t);return function(n){if(null==n)return!1;var r=at(n);if(Z(r))return!1;for(var o=0;o<e;o++)if(!B(n[t[o]]))return!1;return t!==ht||!B(n[ut])}}var ut="forEach",lt=["clear","delete"],ft=["get","has","set"],pt=lt.concat(ut,ft),ht=lt.concat(ft),dt=["add"].concat(lt,ut,"has"),yt=I?ct(pt):k("Map"),vt=I?ct(ht):k("WeakMap"),gt=I?ct(dt):k("Set"),mt=k("WeakSet");function bt(t){for(var e=et(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}function wt(t){for(var e={},n=et(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}function _t(t){var e=[];for(var n in t)B(t[n])&&e.push(n);return e.sort()}function Ot(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],s=t(i),a=s.length,c=0;c<a;c++){var u=s[c];e&&void 0!==n[u]||(n[u]=i[u])}return n}}var xt=Ot(at),St=Ot(et),kt=Ot(at,!0);function jt(t){if(!O(t))return{};if(d)return d(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function Et(t){return O(t)?q(t)?t.slice():xt({},t):t}function Rt(t){return q(t)?t:[t]}function Pt(t){return rt.toPath(t)}function Tt(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function Ct(t,e,n){var r=Tt(t,Pt(e));return x(r)?n:r}function At(t){return t}function Nt(t){return t=St({},t),function(e){return nt(e,t)}}function Dt(t){return t=Pt(t),function(e){return Tt(e,t)}}function Bt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}}function Mt(t,e,n){return null==t?At:B(t)?Bt(t,e,n):O(t)&&!q(t)?Nt(t):Dt(t)}function Vt(t,e){return Mt(t,e,1/0)}function It(t,e,n){return rt.iteratee!==Vt?rt.iteratee(t,e):Mt(t,e,n)}function Lt(){}function $t(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}rt.toPath=Rt,rt.iteratee=Vt;var qt=Date.now||function(){return(new Date).getTime()};function Ht(t){var e=function(e){return t[e]},n="(?:"+et(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}}var Ft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ut=Ht(Ft),zt=Ht(wt(Ft)),Wt=rt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Gt=/(.)^/,Jt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Kt=/\\|'|\r|\n|\u2028|\u2029/g;function Xt(t){return"\\"+Jt[t]}var Yt=/^\s*(\w|\$)+\s*$/,Qt=0;function Zt(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);var i=jt(t.prototype),s=t.apply(i,o);return O(s)?s:i}var te=_((function(t,e){var n=te.placeholder,r=function(){for(var o=0,i=e.length,s=Array(i),a=0;a<i;a++)s[a]=e[a]===n?arguments[o++]:e[a];for(;o<arguments.length;)s.push(arguments[o++]);return Zt(t,r,this,this,s)};return r}));te.placeholder=rt;var ee=_((function(t,e,n){if(!B(t))throw new TypeError("Bind must be called on a function");var r=_((function(o){return Zt(t,r,e,this,n.concat(o))}));return r})),ne=G(Z);function re(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,i=0,s=Z(t);i<s;i++){var a=t[i];if(ne(a)&&(q(a)||U(a)))if(e>1)re(a,e-1,n,r),o=r.length;else for(var c=0,u=a.length;c<u;)r[o++]=a[c++];else n||(r[o++]=a)}return r}var oe=_((function(t,e){var n=(e=re(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=ee(t[r],t)}return t})),ie=_((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),se=te(ie,rt,1);function ae(t){return function(){return!t.apply(this,arguments)}}function ce(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var ue=te(ce,2);function le(t,e,n){e=It(e,n);for(var r,o=et(t),i=0,s=o.length;i<s;i++)if(e(t[r=o[i]],r,t))return r}function fe(t){return function(e,n,r){n=It(n,r);for(var o=Z(e),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(n(e[i],i,e))return i;return-1}}var pe=fe(1),he=fe(-1);function de(t,e,n,r){for(var o=(n=It(n,r,1))(e),i=0,s=Z(t);i<s;){var a=Math.floor((i+s)/2);n(t[a])<o?i=a+1:s=a}return i}function ye(t,e,n){return function(r,o,i){var s=0,c=Z(r);if("number"==typeof i)t>0?s=i>=0?i:Math.max(i+c,s):c=i>=0?Math.min(i+1,c):i+c+1;else if(n&&i&&c)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=e(a.call(r,s,c),z))>=0?i+s:-1;for(i=t>0?s:c-1;i>=0&&i<c;i+=t)if(r[i]===o)return i;return-1}}var ve=ye(1,pe,de),ge=ye(-1,he);function me(t,e,n){var r=(ne(t)?pe:le)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function be(t,e,n){var r,o;if(e=Bt(e,n),ne(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else{var i=et(t);for(r=0,o=i.length;r<o;r++)e(t[i[r]],i[r],t)}return t}function we(t,e,n){e=It(e,n);for(var r=!ne(t)&&et(t),o=(r||t).length,i=Array(o),s=0;s<o;s++){var a=r?r[s]:s;i[s]=e(t[a],a,t)}return i}function _e(t){var e=function(e,n,r,o){var i=!ne(e)&&et(e),s=(i||e).length,a=t>0?0:s-1;for(o||(r=e[i?i[a]:a],a+=t);a>=0&&a<s;a+=t){var c=i?i[a]:a;r=n(r,e[c],c,e)}return r};return function(t,n,r,o){var i=arguments.length>=3;return e(t,Bt(n,o,4),r,i)}}var Oe=_e(1),xe=_e(-1);function Se(t,e,n){var r=[];return e=It(e,n),be(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function ke(t,e,n){e=It(e,n);for(var r=!ne(t)&&et(t),o=(r||t).length,i=0;i<o;i++){var s=r?r[i]:i;if(!e(t[s],s,t))return!1}return!0}function je(t,e,n){e=It(e,n);for(var r=!ne(t)&&et(t),o=(r||t).length,i=0;i<o;i++){var s=r?r[i]:i;if(e(t[s],s,t))return!0}return!1}function Ee(t,e,n,r){return ne(t)||(t=bt(t)),("number"!=typeof n||r)&&(n=0),ve(t,e,n)>=0}var Re=_((function(t,e,n){var r,o;return B(e)?o=e:(e=Pt(e),r=e.slice(0,-1),e=e[e.length-1]),we(t,(function(t){var i=o;if(!i){if(r&&r.length&&(t=Tt(t,r)),null==t)return;i=t[e]}return null==i?i:i.apply(t,n)}))}));function Pe(t,e){return we(t,Dt(e))}function Te(t,e,n){var r,o,i=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=ne(t)?t:bt(t)).length;a<c;a++)null!=(r=t[a])&&r>i&&(i=r);else e=It(e,n),be(t,(function(t,n,r){((o=e(t,n,r))>s||o===-1/0&&i===-1/0)&&(i=t,s=o)}));return i}function Ce(t,e,n){if(null==e||n)return ne(t)||(t=bt(t)),t[$t(t.length-1)];var r=ne(t)?Et(t):bt(t),o=Z(r);e=Math.max(Math.min(e,o),0);for(var i=o-1,s=0;s<e;s++){var a=$t(s,i),c=r[s];r[s]=r[a],r[a]=c}return r.slice(0,e)}function Ae(t,e){return function(n,r,o){var i=e?[[],[]]:{};return r=It(r,o),be(n,(function(e,o){var s=r(e,o,n);t(i,e,s)})),i}}var Ne=Ae((function(t,e,n){H(t,n)?t[n].push(e):t[n]=[e]})),De=Ae((function(t,e,n){t[n]=e})),Be=Ae((function(t,e,n){H(t,n)?t[n]++:t[n]=1})),Me=Ae((function(t,e,n){t[n?0:1].push(e)}),!0),Ve=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ie(t,e,n){return e in n}var Le=_((function(t,e){var n={},r=e[0];if(null==t)return n;B(r)?(e.length>1&&(r=Bt(r,e[1])),e=at(t)):(r=Ie,e=re(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var s=e[o],a=t[s];r(a,s,t)&&(n[s]=a)}return n})),$e=_((function(t,e){var n,r=e[0];return B(r)?(r=ae(r),e.length>1&&(n=e[1])):(e=we(re(e,!1,!1),String),r=function(t,n){return!Ee(e,n)}),Le(t,r,n)}));function qe(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function He(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:qe(t,t.length-e)}function Fe(t,e,n){return a.call(t,null==e||n?1:e)}var Ue=_((function(t,e){return e=re(e,!0,!0),Se(t,(function(t){return!Ee(e,t)}))})),ze=_((function(t,e){return Ue(t,e)}));function We(t,e,n,r){S(e)||(r=n,n=e,e=!1),null!=n&&(n=It(n,r));for(var o=[],i=[],s=0,a=Z(t);s<a;s++){var c=t[s],u=n?n(c,s,t):c;e&&!n?(s&&i===u||o.push(c),i=u):n?Ee(i,u)||(i.push(u),o.push(c)):Ee(o,c)||o.push(c)}return o}var Ge=_((function(t){return We(re(t,!0,!0))}));function Je(t){for(var e=t&&Te(t,Z).length||0,n=Array(e),r=0;r<e;r++)n[r]=Pe(t,r);return n}var Ke=_(Je);function Xe(t,e){return t._chain?rt(e).chain():e}function Ye(t){return be(_t(t),(function(e){var n=rt[e]=t[e];rt.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),Xe(this,n.apply(rt,t))}})),rt}be(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=r[t];rt.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Xe(this,n)}})),be(["concat","join","slice"],(function(t){var e=r[t];rt.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Xe(this,t)}}));var Qe=Ye({__proto__:null,VERSION:t,restArguments:_,isObject:O,isNull:function(t){return null===t},isUndefined:x,isBoolean:S,isElement:function(t){return!(!t||1!==t.nodeType)},isString:j,isNumber:E,isDate:R,isRegExp:P,isError:T,isSymbol:C,isArrayBuffer:A,isDataView:$,isArray:q,isFunction:B,isArguments:U,isFinite:function(t){return!C(t)&&g(t)&&!isNaN(parseFloat(t))},isNaN:z,isTypedArray:Q,isEmpty:function(t){if(null==t)return!0;var e=Z(t);return"number"==typeof e&&(q(t)||j(t)||U(t))?0===e:0===Z(et(t))},isMatch:nt,isEqual:function(t,e){return st(t,e)},isMap:yt,isWeakMap:vt,isSet:gt,isWeakSet:mt,keys:et,allKeys:at,values:bt,pairs:function(t){for(var e=et(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r},invert:wt,functions:_t,methods:_t,extend:xt,extendOwn:St,assign:St,defaults:kt,create:function(t,e){var n=jt(t);return e&&St(n,e),n},clone:Et,tap:function(t,e){return e(t),t},get:Ct,has:function(t,e){for(var n=(e=Pt(e)).length,r=0;r<n;r++){var o=e[r];if(!H(t,o))return!1;t=t[o]}return!!n},mapObject:function(t,e,n){e=It(e,n);for(var r=et(t),o=r.length,i={},s=0;s<o;s++){var a=r[s];i[a]=e(t[a],a,t)}return i},identity:At,constant:W,noop:Lt,toPath:Rt,property:Dt,propertyOf:function(t){return null==t?Lt:function(e){return Ct(t,e)}},matcher:Nt,matches:Nt,times:function(t,e,n){var r=Array(Math.max(0,t));e=Bt(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r},random:$t,now:qt,escape:Ut,unescape:zt,templateSettings:Wt,template:function(t,e,n){!e&&n&&(e=n),e=kt({},e,rt.templateSettings);var r=RegExp([(e.escape||Gt).source,(e.interpolate||Gt).source,(e.evaluate||Gt).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,(function(e,n,r,s,a){return i+=t.slice(o,a).replace(Kt,Xt),o=a+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(i+="';\n"+s+"\n__p+='"),e})),i+="';\n";var s,a=e.variable;if(a){if(!Yt.test(a))throw new Error("variable is not a bare identifier: "+a)}else i="with(obj||{}){\n"+i+"}\n",a="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{s=new Function(a,"_",i)}catch(t){throw t.source=i,t}var c=function(t){return s.call(this,t,rt)};return c.source="function("+a+"){\n"+i+"}",c},result:function(t,e,n){var r=(e=Pt(e)).length;if(!r)return B(n)?n.call(t):n;for(var o=0;o<r;o++){var i=null==t?void 0:t[e[o]];void 0===i&&(i=n,o=r),t=B(i)?i.call(t):i}return t},uniqueId:function(t){var e=++Qt+"";return t?t+e:e},chain:function(t){var e=rt(t);return e._chain=!0,e},iteratee:Vt,partial:te,bind:ee,bindAll:oe,memoize:function(t,e){var n=function(r){var o=n.cache,i=""+(e?e.apply(this,arguments):r);return H(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n},delay:ie,defer:se,throttle:function(t,e,n){var r,o,i,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:qt(),r=null,s=t.apply(o,i),r||(o=i=null)},u=function(){var u=qt();a||!1!==n.leading||(a=u);var l=e-(u-a);return o=this,i=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),a=u,s=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(c,l)),s};return u.cancel=function(){clearTimeout(r),a=0,r=o=i=null},u},debounce:function(t,e,n){var r,o,i,s,a,c=function(){var u=qt()-o;e>u?r=setTimeout(c,e-u):(r=null,n||(s=t.apply(a,i)),r||(i=a=null))},u=_((function(u){return a=this,i=u,o=qt(),r||(r=setTimeout(c,e),n&&(s=t.apply(a,i))),s}));return u.cancel=function(){clearTimeout(r),r=i=a=null},u},wrap:function(t,e){return te(e,t)},negate:ae,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:ce,once:ue,findKey:le,findIndex:pe,findLastIndex:he,sortedIndex:de,indexOf:ve,lastIndexOf:ge,find:me,detect:me,findWhere:function(t,e){return me(t,Nt(e))},each:be,forEach:be,map:we,collect:we,reduce:Oe,foldl:Oe,inject:Oe,reduceRight:xe,foldr:xe,filter:Se,select:Se,reject:function(t,e,n){return Se(t,ae(It(e)),n)},every:ke,all:ke,some:je,any:je,contains:Ee,includes:Ee,include:Ee,invoke:Re,pluck:Pe,where:function(t,e){return Se(t,Nt(e))},max:Te,min:function(t,e,n){var r,o,i=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=ne(t)?t:bt(t)).length;a<c;a++)null!=(r=t[a])&&r<i&&(i=r);else e=It(e,n),be(t,(function(t,n,r){((o=e(t,n,r))<s||o===1/0&&i===1/0)&&(i=t,s=o)}));return i},shuffle:function(t){return Ce(t,1/0)},sample:Ce,sortBy:function(t,e,n){var r=0;return e=It(e,n),Pe(we(t,(function(t,n,o){return{value:t,index:r++,criteria:e(t,n,o)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")},groupBy:Ne,indexBy:De,countBy:Be,partition:Me,toArray:function(t){return t?q(t)?a.call(t):j(t)?t.match(Ve):ne(t)?we(t,At):bt(t):[]},size:function(t){return null==t?0:ne(t)?t.length:et(t).length},pick:Le,omit:$e,first:He,head:He,take:He,initial:qe,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:Fe(t,Math.max(0,t.length-e))},rest:Fe,tail:Fe,drop:Fe,compact:function(t){return Se(t,Boolean)},flatten:function(t,e){return re(t,e,!1)},without:ze,uniq:We,unique:We,union:Ge,intersection:function(t){for(var e=[],n=arguments.length,r=0,o=Z(t);r<o;r++){var i=t[r];if(!Ee(e,i)){var s;for(s=1;s<n&&Ee(arguments[s],i);s++);s===n&&e.push(i)}}return e},difference:Ue,unzip:Je,transpose:Je,zip:Ke,object:function(t,e){for(var n={},r=0,o=Z(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(a.call(t,r,r+=e));return n},mixin:Ye,default:rt});return Qe._=Qe,Qe}()},6419:function(t,e,n){t.exports=function(){var t="1.13.1",e="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||Function("return this")()||{},r=Array.prototype,o=Object.prototype,i="undefined"!=typeof Symbol?Symbol.prototype:null,s=r.push,a=r.slice,c=o.toString,u=o.hasOwnProperty,l="undefined"!=typeof ArrayBuffer,f="undefined"!=typeof DataView,p=Array.isArray,h=Object.keys,d=Object.create,y=l&&ArrayBuffer.isView,v=isNaN,g=isFinite,m=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],w=Math.pow(2,53)-1;function _(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var i=Array(e+1);for(o=0;o<e;o++)i[o]=arguments[o];return i[e]=r,t.apply(this,i)}}function O(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function x(t){return void 0===t}function S(t){return!0===t||!1===t||"[object Boolean]"===c.call(t)}function k(t){var e="[object "+t+"]";return function(t){return c.call(t)===e}}var j=k("String"),E=k("Number"),R=k("Date"),P=k("RegExp"),T=k("Error"),C=k("Symbol"),A=k("ArrayBuffer"),N=k("Function"),D=e.document&&e.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof D&&(N=function(t){return"function"==typeof t||!1});var B=N,M=k("Object"),V=f&&M(new DataView(new ArrayBuffer(8))),I="undefined"!=typeof Map&&M(new Map),L=k("DataView"),$=V?function(t){return null!=t&&B(t.getInt8)&&A(t.buffer)}:L,q=p||k("Array");function H(t,e){return null!=t&&u.call(t,e)}var F=k("Arguments");!function(){F(arguments)||(F=function(t){return H(t,"callee")})}();var U=F;function z(t){return E(t)&&v(t)}function W(t){return function(){return t}}function G(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=w}}function J(t){return function(e){return null==e?void 0:e[t]}}var K=J("byteLength"),X=G(K),Y=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Q=l?function(t){return y?y(t)&&!$(t):X(t)&&Y.test(c.call(t))}:W(!1),Z=J("length");function tt(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=b.length,r=t.constructor,i=B(r)&&r.prototype||o,s="constructor";for(H(t,s)&&!e.contains(s)&&e.push(s);n--;)(s=b[n])in t&&t[s]!==i[s]&&!e.contains(s)&&e.push(s)}function et(t){if(!O(t))return[];if(h)return h(t);var e=[];for(var n in t)H(t,n)&&e.push(n);return m&&tt(t,e),e}function nt(t,e){var n=et(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var s=n[i];if(e[s]!==o[s]||!(s in o))return!1}return!0}function rt(t){return t instanceof rt?t:this instanceof rt?void(this._wrapped=t):new rt(t)}function ot(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,K(t))}rt.VERSION=t,rt.prototype.value=function(){return this._wrapped},rt.prototype.valueOf=rt.prototype.toJSON=rt.prototype.value,rt.prototype.toString=function(){return String(this._wrapped)};var it="[object DataView]";function st(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&function t(e,n,r,o){e instanceof rt&&(e=e._wrapped),n instanceof rt&&(n=n._wrapped);var s=c.call(e);if(s!==c.call(n))return!1;if(V&&"[object Object]"==s&&$(e)){if(!$(n))return!1;s=it}switch(s){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return i.valueOf.call(e)===i.valueOf.call(n);case"[object ArrayBuffer]":case it:return t(ot(e),ot(n),r,o)}var a="[object Array]"===s;if(!a&&Q(e)){if(K(e)!==K(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof e||"object"!=typeof n)return!1;var u=e.constructor,l=n.constructor;if(u!==l&&!(B(u)&&u instanceof u&&B(l)&&l instanceof l)&&"constructor"in e&&"constructor"in n)return!1}o=o||[];for(var f=(r=r||[]).length;f--;)if(r[f]===e)return o[f]===n;if(r.push(e),o.push(n),a){if((f=e.length)!==n.length)return!1;for(;f--;)if(!st(e[f],n[f],r,o))return!1}else{var p,h=et(e);if(f=h.length,et(n).length!==f)return!1;for(;f--;)if(!H(n,p=h[f])||!st(e[p],n[p],r,o))return!1}return r.pop(),o.pop(),!0}(t,e,n,r)}function at(t){if(!O(t))return[];var e=[];for(var n in t)e.push(n);return m&&tt(t,e),e}function ct(t){var e=Z(t);return function(n){if(null==n)return!1;var r=at(n);if(Z(r))return!1;for(var o=0;o<e;o++)if(!B(n[t[o]]))return!1;return t!==ht||!B(n[ut])}}var ut="forEach",lt=["clear","delete"],ft=["get","has","set"],pt=lt.concat(ut,ft),ht=lt.concat(ft),dt=["add"].concat(lt,ut,"has"),yt=I?ct(pt):k("Map"),vt=I?ct(ht):k("WeakMap"),gt=I?ct(dt):k("Set"),mt=k("WeakSet");function bt(t){for(var e=et(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}function wt(t){for(var e={},n=et(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}function _t(t){var e=[];for(var n in t)B(t[n])&&e.push(n);return e.sort()}function Ot(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],s=t(i),a=s.length,c=0;c<a;c++){var u=s[c];e&&void 0!==n[u]||(n[u]=i[u])}return n}}var xt=Ot(at),St=Ot(et),kt=Ot(at,!0);function jt(t){if(!O(t))return{};if(d)return d(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function Et(t){return O(t)?q(t)?t.slice():xt({},t):t}function Rt(t){return q(t)?t:[t]}function Pt(t){return rt.toPath(t)}function Tt(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function Ct(t,e,n){var r=Tt(t,Pt(e));return x(r)?n:r}function At(t){return t}function Nt(t){return t=St({},t),function(e){return nt(e,t)}}function Dt(t){return t=Pt(t),function(e){return Tt(e,t)}}function Bt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}}function Mt(t,e,n){return null==t?At:B(t)?Bt(t,e,n):O(t)&&!q(t)?Nt(t):Dt(t)}function Vt(t,e){return Mt(t,e,1/0)}function It(t,e,n){return rt.iteratee!==Vt?rt.iteratee(t,e):Mt(t,e,n)}function Lt(){}function $t(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}rt.toPath=Rt,rt.iteratee=Vt;var qt=Date.now||function(){return(new Date).getTime()};function Ht(t){var e=function(e){return t[e]},n="(?:"+et(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}}var Ft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ut=Ht(Ft),zt=Ht(wt(Ft)),Wt=rt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Gt=/(.)^/,Jt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Kt=/\\|'|\r|\n|\u2028|\u2029/g;function Xt(t){return"\\"+Jt[t]}var Yt=/^\s*(\w|\$)+\s*$/,Qt=0;function Zt(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);var i=jt(t.prototype),s=t.apply(i,o);return O(s)?s:i}var te=_((function(t,e){var n=te.placeholder,r=function(){for(var o=0,i=e.length,s=Array(i),a=0;a<i;a++)s[a]=e[a]===n?arguments[o++]:e[a];for(;o<arguments.length;)s.push(arguments[o++]);return Zt(t,r,this,this,s)};return r}));te.placeholder=rt;var ee=_((function(t,e,n){if(!B(t))throw new TypeError("Bind must be called on a function");var r=_((function(o){return Zt(t,r,e,this,n.concat(o))}));return r})),ne=G(Z);function re(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,i=0,s=Z(t);i<s;i++){var a=t[i];if(ne(a)&&(q(a)||U(a)))if(e>1)re(a,e-1,n,r),o=r.length;else for(var c=0,u=a.length;c<u;)r[o++]=a[c++];else n||(r[o++]=a)}return r}var oe=_((function(t,e){var n=(e=re(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=ee(t[r],t)}return t})),ie=_((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),se=te(ie,rt,1);function ae(t){return function(){return!t.apply(this,arguments)}}function ce(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var ue=te(ce,2);function le(t,e,n){e=It(e,n);for(var r,o=et(t),i=0,s=o.length;i<s;i++)if(e(t[r=o[i]],r,t))return r}function fe(t){return function(e,n,r){n=It(n,r);for(var o=Z(e),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(n(e[i],i,e))return i;return-1}}var pe=fe(1),he=fe(-1);function de(t,e,n,r){for(var o=(n=It(n,r,1))(e),i=0,s=Z(t);i<s;){var a=Math.floor((i+s)/2);n(t[a])<o?i=a+1:s=a}return i}function ye(t,e,n){return function(r,o,i){var s=0,c=Z(r);if("number"==typeof i)t>0?s=i>=0?i:Math.max(i+c,s):c=i>=0?Math.min(i+1,c):i+c+1;else if(n&&i&&c)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=e(a.call(r,s,c),z))>=0?i+s:-1;for(i=t>0?s:c-1;i>=0&&i<c;i+=t)if(r[i]===o)return i;return-1}}var ve=ye(1,pe,de),ge=ye(-1,he);function me(t,e,n){var r=(ne(t)?pe:le)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function be(t,e,n){var r,o;if(e=Bt(e,n),ne(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else{var i=et(t);for(r=0,o=i.length;r<o;r++)e(t[i[r]],i[r],t)}return t}function we(t,e,n){e=It(e,n);for(var r=!ne(t)&&et(t),o=(r||t).length,i=Array(o),s=0;s<o;s++){var a=r?r[s]:s;i[s]=e(t[a],a,t)}return i}function _e(t){var e=function(e,n,r,o){var i=!ne(e)&&et(e),s=(i||e).length,a=t>0?0:s-1;for(o||(r=e[i?i[a]:a],a+=t);a>=0&&a<s;a+=t){var c=i?i[a]:a;r=n(r,e[c],c,e)}return r};return function(t,n,r,o){var i=arguments.length>=3;return e(t,Bt(n,o,4),r,i)}}var Oe=_e(1),xe=_e(-1);function Se(t,e,n){var r=[];return e=It(e,n),be(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function ke(t,e,n){e=It(e,n);for(var r=!ne(t)&&et(t),o=(r||t).length,i=0;i<o;i++){var s=r?r[i]:i;if(!e(t[s],s,t))return!1}return!0}function je(t,e,n){e=It(e,n);for(var r=!ne(t)&&et(t),o=(r||t).length,i=0;i<o;i++){var s=r?r[i]:i;if(e(t[s],s,t))return!0}return!1}function Ee(t,e,n,r){return ne(t)||(t=bt(t)),("number"!=typeof n||r)&&(n=0),ve(t,e,n)>=0}var Re=_((function(t,e,n){var r,o;return B(e)?o=e:(e=Pt(e),r=e.slice(0,-1),e=e[e.length-1]),we(t,(function(t){var i=o;if(!i){if(r&&r.length&&(t=Tt(t,r)),null==t)return;i=t[e]}return null==i?i:i.apply(t,n)}))}));function Pe(t,e){return we(t,Dt(e))}function Te(t,e,n){var r,o,i=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=ne(t)?t:bt(t)).length;a<c;a++)null!=(r=t[a])&&r>i&&(i=r);else e=It(e,n),be(t,(function(t,n,r){((o=e(t,n,r))>s||o===-1/0&&i===-1/0)&&(i=t,s=o)}));return i}function Ce(t,e,n){if(null==e||n)return ne(t)||(t=bt(t)),t[$t(t.length-1)];var r=ne(t)?Et(t):bt(t),o=Z(r);e=Math.max(Math.min(e,o),0);for(var i=o-1,s=0;s<e;s++){var a=$t(s,i),c=r[s];r[s]=r[a],r[a]=c}return r.slice(0,e)}function Ae(t,e){return function(n,r,o){var i=e?[[],[]]:{};return r=It(r,o),be(n,(function(e,o){var s=r(e,o,n);t(i,e,s)})),i}}var Ne=Ae((function(t,e,n){H(t,n)?t[n].push(e):t[n]=[e]})),De=Ae((function(t,e,n){t[n]=e})),Be=Ae((function(t,e,n){H(t,n)?t[n]++:t[n]=1})),Me=Ae((function(t,e,n){t[n?0:1].push(e)}),!0),Ve=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Ie(t,e,n){return e in n}var Le=_((function(t,e){var n={},r=e[0];if(null==t)return n;B(r)?(e.length>1&&(r=Bt(r,e[1])),e=at(t)):(r=Ie,e=re(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var s=e[o],a=t[s];r(a,s,t)&&(n[s]=a)}return n})),$e=_((function(t,e){var n,r=e[0];return B(r)?(r=ae(r),e.length>1&&(n=e[1])):(e=we(re(e,!1,!1),String),r=function(t,n){return!Ee(e,n)}),Le(t,r,n)}));function qe(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function He(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:qe(t,t.length-e)}function Fe(t,e,n){return a.call(t,null==e||n?1:e)}var Ue=_((function(t,e){return e=re(e,!0,!0),Se(t,(function(t){return!Ee(e,t)}))})),ze=_((function(t,e){return Ue(t,e)}));function We(t,e,n,r){S(e)||(r=n,n=e,e=!1),null!=n&&(n=It(n,r));for(var o=[],i=[],s=0,a=Z(t);s<a;s++){var c=t[s],u=n?n(c,s,t):c;e&&!n?(s&&i===u||o.push(c),i=u):n?Ee(i,u)||(i.push(u),o.push(c)):Ee(o,c)||o.push(c)}return o}var Ge=_((function(t){return We(re(t,!0,!0))}));function Je(t){for(var e=t&&Te(t,Z).length||0,n=Array(e),r=0;r<e;r++)n[r]=Pe(t,r);return n}var Ke=_(Je);function Xe(t,e){return t._chain?rt(e).chain():e}function Ye(t){return be(_t(t),(function(e){var n=rt[e]=t[e];rt.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),Xe(this,n.apply(rt,t))}})),rt}be(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=r[t];rt.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Xe(this,n)}})),be(["concat","join","slice"],(function(t){var e=r[t];rt.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Xe(this,t)}}));var Qe=Ye({__proto__:null,VERSION:t,restArguments:_,isObject:O,isNull:function(t){return null===t},isUndefined:x,isBoolean:S,isElement:function(t){return!(!t||1!==t.nodeType)},isString:j,isNumber:E,isDate:R,isRegExp:P,isError:T,isSymbol:C,isArrayBuffer:A,isDataView:$,isArray:q,isFunction:B,isArguments:U,isFinite:function(t){return!C(t)&&g(t)&&!isNaN(parseFloat(t))},isNaN:z,isTypedArray:Q,isEmpty:function(t){if(null==t)return!0;var e=Z(t);return"number"==typeof e&&(q(t)||j(t)||U(t))?0===e:0===Z(et(t))},isMatch:nt,isEqual:function(t,e){return st(t,e)},isMap:yt,isWeakMap:vt,isSet:gt,isWeakSet:mt,keys:et,allKeys:at,values:bt,pairs:function(t){for(var e=et(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r},invert:wt,functions:_t,methods:_t,extend:xt,extendOwn:St,assign:St,defaults:kt,create:function(t,e){var n=jt(t);return e&&St(n,e),n},clone:Et,tap:function(t,e){return e(t),t},get:Ct,has:function(t,e){for(var n=(e=Pt(e)).length,r=0;r<n;r++){var o=e[r];if(!H(t,o))return!1;t=t[o]}return!!n},mapObject:function(t,e,n){e=It(e,n);for(var r=et(t),o=r.length,i={},s=0;s<o;s++){var a=r[s];i[a]=e(t[a],a,t)}return i},identity:At,constant:W,noop:Lt,toPath:Rt,property:Dt,propertyOf:function(t){return null==t?Lt:function(e){return Ct(t,e)}},matcher:Nt,matches:Nt,times:function(t,e,n){var r=Array(Math.max(0,t));e=Bt(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r},random:$t,now:qt,escape:Ut,unescape:zt,templateSettings:Wt,template:function(t,e,n){!e&&n&&(e=n),e=kt({},e,rt.templateSettings);var r=RegExp([(e.escape||Gt).source,(e.interpolate||Gt).source,(e.evaluate||Gt).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,(function(e,n,r,s,a){return i+=t.slice(o,a).replace(Kt,Xt),o=a+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(i+="';\n"+s+"\n__p+='"),e})),i+="';\n";var s,a=e.variable;if(a){if(!Yt.test(a))throw new Error("variable is not a bare identifier: "+a)}else i="with(obj||{}){\n"+i+"}\n",a="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{s=new Function(a,"_",i)}catch(t){throw t.source=i,t}var c=function(t){return s.call(this,t,rt)};return c.source="function("+a+"){\n"+i+"}",c},result:function(t,e,n){var r=(e=Pt(e)).length;if(!r)return B(n)?n.call(t):n;for(var o=0;o<r;o++){var i=null==t?void 0:t[e[o]];void 0===i&&(i=n,o=r),t=B(i)?i.call(t):i}return t},uniqueId:function(t){var e=++Qt+"";return t?t+e:e},chain:function(t){var e=rt(t);return e._chain=!0,e},iteratee:Vt,partial:te,bind:ee,bindAll:oe,memoize:function(t,e){var n=function(r){var o=n.cache,i=""+(e?e.apply(this,arguments):r);return H(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n},delay:ie,defer:se,throttle:function(t,e,n){var r,o,i,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:qt(),r=null,s=t.apply(o,i),r||(o=i=null)},u=function(){var u=qt();a||!1!==n.leading||(a=u);var l=e-(u-a);return o=this,i=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),a=u,s=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(c,l)),s};return u.cancel=function(){clearTimeout(r),a=0,r=o=i=null},u},debounce:function(t,e,n){var r,o,i,s,a,c=function(){var u=qt()-o;e>u?r=setTimeout(c,e-u):(r=null,n||(s=t.apply(a,i)),r||(i=a=null))},u=_((function(u){return a=this,i=u,o=qt(),r||(r=setTimeout(c,e),n&&(s=t.apply(a,i))),s}));return u.cancel=function(){clearTimeout(r),r=i=a=null},u},wrap:function(t,e){return te(e,t)},negate:ae,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:ce,once:ue,findKey:le,findIndex:pe,findLastIndex:he,sortedIndex:de,indexOf:ve,lastIndexOf:ge,find:me,detect:me,findWhere:function(t,e){return me(t,Nt(e))},each:be,forEach:be,map:we,collect:we,reduce:Oe,foldl:Oe,inject:Oe,reduceRight:xe,foldr:xe,filter:Se,select:Se,reject:function(t,e,n){return Se(t,ae(It(e)),n)},every:ke,all:ke,some:je,any:je,contains:Ee,includes:Ee,include:Ee,invoke:Re,pluck:Pe,where:function(t,e){return Se(t,Nt(e))},max:Te,min:function(t,e,n){var r,o,i=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=ne(t)?t:bt(t)).length;a<c;a++)null!=(r=t[a])&&r<i&&(i=r);else e=It(e,n),be(t,(function(t,n,r){((o=e(t,n,r))<s||o===1/0&&i===1/0)&&(i=t,s=o)}));return i},shuffle:function(t){return Ce(t,1/0)},sample:Ce,sortBy:function(t,e,n){var r=0;return e=It(e,n),Pe(we(t,(function(t,n,o){return{value:t,index:r++,criteria:e(t,n,o)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")},groupBy:Ne,indexBy:De,countBy:Be,partition:Me,toArray:function(t){return t?q(t)?a.call(t):j(t)?t.match(Ve):ne(t)?we(t,At):bt(t):[]},size:function(t){return null==t?0:ne(t)?t.length:et(t).length},pick:Le,omit:$e,first:He,head:He,take:He,initial:qe,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:Fe(t,Math.max(0,t.length-e))},rest:Fe,tail:Fe,drop:Fe,compact:function(t){return Se(t,Boolean)},flatten:function(t,e){return re(t,e,!1)},without:ze,uniq:We,unique:We,union:Ge,intersection:function(t){for(var e=[],n=arguments.length,r=0,o=Z(t);r<o;r++){var i=t[r];if(!Ee(e,i)){var s;for(s=1;s<n&&Ee(arguments[s],i);s++);s===n&&e.push(i)}}return e},difference:Ue,unzip:Je,transpose:Je,zip:Ke,object:function(t,e){for(var n={},r=0,o=Z(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(a.call(t,r,r+=e));return n},mixin:Ye,default:rt});return Qe._=Qe,Qe}()},9050:(t,e,n)=>{"use strict";n.r(e),n.d(e,{VERSION:()=>o,after:()=>De,all:()=>tn,allKeys:()=>vt,any:()=>en,assign:()=>Dt,before:()=>Be,bind:()=>Oe,bindAll:()=>ke,chain:()=>me,chunk:()=>In,clone:()=>It,collect:()=>Je,compact:()=>En,compose:()=>Ne,constant:()=>Q,contains:()=>nn,countBy:()=>yn,create:()=>Vt,debounce:()=>Te,default:()=>Fn,defaults:()=>Bt,defer:()=>Re,delay:()=>Ee,detect:()=>ze,difference:()=>Pn,drop:()=>kn,each:()=>Ge,escape:()=>se,every:()=>tn,extend:()=>Nt,extendOwn:()=>Dt,filter:()=>Qe,find:()=>ze,findIndex:()=>Le,findKey:()=>Ve,findLastIndex:()=>$e,findWhere:()=>We,first:()=>Sn,flatten:()=>Rn,foldl:()=>Xe,foldr:()=>Ye,forEach:()=>Ge,functions:()=>Ct,get:()=>Ft,groupBy:()=>hn,has:()=>Ut,head:()=>Sn,identity:()=>zt,include:()=>nn,includes:()=>nn,indexBy:()=>dn,indexOf:()=>Fe,initial:()=>xn,inject:()=>Xe,intersection:()=>Nn,invert:()=>Tt,invoke:()=>rn,isArguments:()=>K,isArray:()=>W,isArrayBuffer:()=>V,isBoolean:()=>R,isDataView:()=>z,isDate:()=>N,isElement:()=>P,isEmpty:()=>ct,isEqual:()=>yt,isError:()=>B,isFinite:()=>X,isFunction:()=>$,isMap:()=>St,isMatch:()=>ut,isNaN:()=>Y,isNull:()=>j,isNumber:()=>A,isObject:()=>k,isRegExp:()=>D,isSet:()=>jt,isString:()=>C,isSymbol:()=>M,isTypedArray:()=>ot,isUndefined:()=>E,isWeakMap:()=>kt,isWeakSet:()=>Et,iteratee:()=>Xt,keys:()=>at,last:()=>jn,lastIndexOf:()=>Ue,map:()=>Je,mapObject:()=>Qt,matcher:()=>Wt,matches:()=>Wt,max:()=>an,memoize:()=>je,methods:()=>Ct,min:()=>cn,mixin:()=>$n,negate:()=>Ae,noop:()=>Zt,now:()=>re,object:()=>Mn,omit:()=>On,once:()=>Me,pairs:()=>Pt,partial:()=>_e,partition:()=>vn,pick:()=>_n,pluck:()=>on,property:()=>Gt,propertyOf:()=>te,random:()=>ne,range:()=>Vn,reduce:()=>Xe,reduceRight:()=>Ye,reject:()=>Ze,rest:()=>kn,restArguments:()=>S,result:()=>ye,sample:()=>un,select:()=>Qe,shuffle:()=>ln,size:()=>bn,some:()=>en,sortBy:()=>fn,sortedIndex:()=>qe,tail:()=>kn,take:()=>Sn,tap:()=>Lt,template:()=>de,templateSettings:()=>ce,throttle:()=>Pe,times:()=>ee,toArray:()=>mn,toPath:()=>$t,transpose:()=>Dn,unescape:()=>ae,union:()=>An,uniq:()=>Cn,unique:()=>Cn,uniqueId:()=>ge,unzip:()=>Dn,values:()=>Rt,where:()=>sn,without:()=>Tn,wrap:()=>Ce,zip:()=>Bn});var r={};n.r(r),n.d(r,{VERSION:()=>o,after:()=>De,all:()=>tn,allKeys:()=>vt,any:()=>en,assign:()=>Dt,before:()=>Be,bind:()=>Oe,bindAll:()=>ke,chain:()=>me,chunk:()=>In,clone:()=>It,collect:()=>Je,compact:()=>En,compose:()=>Ne,constant:()=>Q,contains:()=>nn,countBy:()=>yn,create:()=>Vt,debounce:()=>Te,default:()=>qn,defaults:()=>Bt,defer:()=>Re,delay:()=>Ee,detect:()=>ze,difference:()=>Pn,drop:()=>kn,each:()=>Ge,escape:()=>se,every:()=>tn,extend:()=>Nt,extendOwn:()=>Dt,filter:()=>Qe,find:()=>ze,findIndex:()=>Le,findKey:()=>Ve,findLastIndex:()=>$e,findWhere:()=>We,first:()=>Sn,flatten:()=>Rn,foldl:()=>Xe,foldr:()=>Ye,forEach:()=>Ge,functions:()=>Ct,get:()=>Ft,groupBy:()=>hn,has:()=>Ut,head:()=>Sn,identity:()=>zt,include:()=>nn,includes:()=>nn,indexBy:()=>dn,indexOf:()=>Fe,initial:()=>xn,inject:()=>Xe,intersection:()=>Nn,invert:()=>Tt,invoke:()=>rn,isArguments:()=>K,isArray:()=>W,isArrayBuffer:()=>V,isBoolean:()=>R,isDataView:()=>z,isDate:()=>N,isElement:()=>P,isEmpty:()=>ct,isEqual:()=>yt,isError:()=>B,isFinite:()=>X,isFunction:()=>$,isMap:()=>St,isMatch:()=>ut,isNaN:()=>Y,isNull:()=>j,isNumber:()=>A,isObject:()=>k,isRegExp:()=>D,isSet:()=>jt,isString:()=>C,isSymbol:()=>M,isTypedArray:()=>ot,isUndefined:()=>E,isWeakMap:()=>kt,isWeakSet:()=>Et,iteratee:()=>Xt,keys:()=>at,last:()=>jn,lastIndexOf:()=>Ue,map:()=>Je,mapObject:()=>Qt,matcher:()=>Wt,matches:()=>Wt,max:()=>an,memoize:()=>je,methods:()=>Ct,min:()=>cn,mixin:()=>$n,negate:()=>Ae,noop:()=>Zt,now:()=>re,object:()=>Mn,omit:()=>On,once:()=>Me,pairs:()=>Pt,partial:()=>_e,partition:()=>vn,pick:()=>_n,pluck:()=>on,property:()=>Gt,propertyOf:()=>te,random:()=>ne,range:()=>Vn,reduce:()=>Xe,reduceRight:()=>Ye,reject:()=>Ze,rest:()=>kn,restArguments:()=>S,result:()=>ye,sample:()=>un,select:()=>Qe,shuffle:()=>ln,size:()=>bn,some:()=>en,sortBy:()=>fn,sortedIndex:()=>qe,tail:()=>kn,take:()=>Sn,tap:()=>Lt,template:()=>de,templateSettings:()=>ce,throttle:()=>Pe,times:()=>ee,toArray:()=>mn,toPath:()=>$t,transpose:()=>Dn,unescape:()=>ae,union:()=>An,uniq:()=>Cn,unique:()=>Cn,uniqueId:()=>ge,unzip:()=>Dn,values:()=>Rt,where:()=>sn,without:()=>Tn,wrap:()=>Ce,zip:()=>Bn});var o="1.13.1",i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},s=Array.prototype,a=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,u=s.push,l=s.slice,f=a.toString,p=a.hasOwnProperty,h="undefined"!=typeof ArrayBuffer,d="undefined"!=typeof DataView,y=Array.isArray,v=Object.keys,g=Object.create,m=h&&ArrayBuffer.isView,b=isNaN,w=isFinite,_=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],x=Math.pow(2,53)-1;function S(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var i=Array(e+1);for(o=0;o<e;o++)i[o]=arguments[o];return i[e]=r,t.apply(this,i)}}function k(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function j(t){return null===t}function E(t){return void 0===t}function R(t){return!0===t||!1===t||"[object Boolean]"===f.call(t)}function P(t){return!(!t||1!==t.nodeType)}function T(t){var e="[object "+t+"]";return function(t){return f.call(t)===e}}const C=T("String"),A=T("Number"),N=T("Date"),D=T("RegExp"),B=T("Error"),M=T("Symbol"),V=T("ArrayBuffer");var I=T("Function"),L=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof L&&(I=function(t){return"function"==typeof t||!1});const $=I,q=T("Object");var H=d&&q(new DataView(new ArrayBuffer(8))),F="undefined"!=typeof Map&&q(new Map),U=T("DataView");const z=H?function(t){return null!=t&&$(t.getInt8)&&V(t.buffer)}:U,W=y||T("Array");function G(t,e){return null!=t&&p.call(t,e)}var J=T("Arguments");!function(){J(arguments)||(J=function(t){return G(t,"callee")})}();const K=J;function X(t){return!M(t)&&w(t)&&!isNaN(parseFloat(t))}function Y(t){return A(t)&&b(t)}function Q(t){return function(){return t}}function Z(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=x}}function tt(t){return function(e){return null==e?void 0:e[t]}}const et=tt("byteLength"),nt=Z(et);var rt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const ot=h?function(t){return m?m(t)&&!z(t):nt(t)&&rt.test(f.call(t))}:Q(!1),it=tt("length");function st(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=O.length,r=t.constructor,o=$(r)&&r.prototype||a,i="constructor";for(G(t,i)&&!e.contains(i)&&e.push(i);n--;)(i=O[n])in t&&t[i]!==o[i]&&!e.contains(i)&&e.push(i)}function at(t){if(!k(t))return[];if(v)return v(t);var e=[];for(var n in t)G(t,n)&&e.push(n);return _&&st(t,e),e}function ct(t){if(null==t)return!0;var e=it(t);return"number"==typeof e&&(W(t)||C(t)||K(t))?0===e:0===it(at(t))}function ut(t,e){var n=at(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;i<r;i++){var s=n[i];if(e[s]!==o[s]||!(s in o))return!1}return!0}function lt(t){return t instanceof lt?t:this instanceof lt?void(this._wrapped=t):new lt(t)}function ft(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,et(t))}lt.VERSION=o,lt.prototype.value=function(){return this._wrapped},lt.prototype.valueOf=lt.prototype.toJSON=lt.prototype.value,lt.prototype.toString=function(){return String(this._wrapped)};var pt="[object DataView]";function ht(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&dt(t,e,n,r)}function dt(t,e,n,r){t instanceof lt&&(t=t._wrapped),e instanceof lt&&(e=e._wrapped);var o=f.call(t);if(o!==f.call(e))return!1;if(H&&"[object Object]"==o&&z(t)){if(!z(e))return!1;o=pt}switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return c.valueOf.call(t)===c.valueOf.call(e);case"[object ArrayBuffer]":case pt:return dt(ft(t),ft(e),n,r)}var i="[object Array]"===o;if(!i&&ot(t)){if(et(t)!==et(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;i=!0}if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!($(s)&&s instanceof s&&$(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),i){if((u=t.length)!==e.length)return!1;for(;u--;)if(!ht(t[u],e[u],n,r))return!1}else{var l,p=at(t);if(u=p.length,at(e).length!==u)return!1;for(;u--;)if(!G(e,l=p[u])||!ht(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0}function yt(t,e){return ht(t,e)}function vt(t){if(!k(t))return[];var e=[];for(var n in t)e.push(n);return _&&st(t,e),e}function gt(t){var e=it(t);return function(n){if(null==n)return!1;var r=vt(n);if(it(r))return!1;for(var o=0;o<e;o++)if(!$(n[t[o]]))return!1;return t!==Ot||!$(n[mt])}}var mt="forEach",bt=["clear","delete"],wt=["get","has","set"],_t=bt.concat(mt,wt),Ot=bt.concat(wt),xt=["add"].concat(bt,mt,"has");const St=F?gt(_t):T("Map"),kt=F?gt(Ot):T("WeakMap"),jt=F?gt(xt):T("Set"),Et=T("WeakSet");function Rt(t){for(var e=at(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=t[e[o]];return r}function Pt(t){for(var e=at(t),n=e.length,r=Array(n),o=0;o<n;o++)r[o]=[e[o],t[e[o]]];return r}function Tt(t){for(var e={},n=at(t),r=0,o=n.length;r<o;r++)e[t[n[r]]]=n[r];return e}function Ct(t){var e=[];for(var n in t)$(t[n])&&e.push(n);return e.sort()}function At(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],s=t(i),a=s.length,c=0;c<a;c++){var u=s[c];e&&void 0!==n[u]||(n[u]=i[u])}return n}}const Nt=At(vt),Dt=At(at),Bt=At(vt,!0);function Mt(t){if(!k(t))return{};if(g)return g(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function Vt(t,e){var n=Mt(t);return e&&Dt(n,e),n}function It(t){return k(t)?W(t)?t.slice():Nt({},t):t}function Lt(t,e){return e(t),t}function $t(t){return W(t)?t:[t]}function qt(t){return lt.toPath(t)}function Ht(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function Ft(t,e,n){var r=Ht(t,qt(e));return E(r)?n:r}function Ut(t,e){for(var n=(e=qt(e)).length,r=0;r<n;r++){var o=e[r];if(!G(t,o))return!1;t=t[o]}return!!n}function zt(t){return t}function Wt(t){return t=Dt({},t),function(e){return ut(e,t)}}function Gt(t){return t=qt(t),function(e){return Ht(e,t)}}function Jt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}}function Kt(t,e,n){return null==t?zt:$(t)?Jt(t,e,n):k(t)&&!W(t)?Wt(t):Gt(t)}function Xt(t,e){return Kt(t,e,1/0)}function Yt(t,e,n){return lt.iteratee!==Xt?lt.iteratee(t,e):Kt(t,e,n)}function Qt(t,e,n){e=Yt(e,n);for(var r=at(t),o=r.length,i={},s=0;s<o;s++){var a=r[s];i[a]=e(t[a],a,t)}return i}function Zt(){}function te(t){return null==t?Zt:function(e){return Ft(t,e)}}function ee(t,e,n){var r=Array(Math.max(0,t));e=Jt(e,n,1);for(var o=0;o<t;o++)r[o]=e(o);return r}function ne(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}lt.toPath=$t,lt.iteratee=Xt;const re=Date.now||function(){return(new Date).getTime()};function oe(t){var e=function(e){return t[e]},n="(?:"+at(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}}const ie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},se=oe(ie),ae=oe(Tt(ie)),ce=lt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ue=/(.)^/,le={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},fe=/\\|'|\r|\n|\u2028|\u2029/g;function pe(t){return"\\"+le[t]}var he=/^\s*(\w|\$)+\s*$/;function de(t,e,n){!e&&n&&(e=n),e=Bt({},e,lt.templateSettings);var r=RegExp([(e.escape||ue).source,(e.interpolate||ue).source,(e.evaluate||ue).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,(function(e,n,r,s,a){return i+=t.slice(o,a).replace(fe,pe),o=a+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(i+="';\n"+s+"\n__p+='"),e})),i+="';\n";var s,a=e.variable;if(a){if(!he.test(a))throw new Error("variable is not a bare identifier: "+a)}else i="with(obj||{}){\n"+i+"}\n",a="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{s=new Function(a,"_",i)}catch(t){throw t.source=i,t}var c=function(t){return s.call(this,t,lt)};return c.source="function("+a+"){\n"+i+"}",c}function ye(t,e,n){var r=(e=qt(e)).length;if(!r)return $(n)?n.call(t):n;for(var o=0;o<r;o++){var i=null==t?void 0:t[e[o]];void 0===i&&(i=n,o=r),t=$(i)?i.call(t):i}return t}var ve=0;function ge(t){var e=++ve+"";return t?t+e:e}function me(t){var e=lt(t);return e._chain=!0,e}function be(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);var i=Mt(t.prototype),s=t.apply(i,o);return k(s)?s:i}var we=S((function(t,e){var n=we.placeholder,r=function(){for(var o=0,i=e.length,s=Array(i),a=0;a<i;a++)s[a]=e[a]===n?arguments[o++]:e[a];for(;o<arguments.length;)s.push(arguments[o++]);return be(t,r,this,this,s)};return r}));we.placeholder=lt;const _e=we,Oe=S((function(t,e,n){if(!$(t))throw new TypeError("Bind must be called on a function");var r=S((function(o){return be(t,r,e,this,n.concat(o))}));return r})),xe=Z(it);function Se(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var o=r.length,i=0,s=it(t);i<s;i++){var a=t[i];if(xe(a)&&(W(a)||K(a)))if(e>1)Se(a,e-1,n,r),o=r.length;else for(var c=0,u=a.length;c<u;)r[o++]=a[c++];else n||(r[o++]=a)}return r}const ke=S((function(t,e){var n=(e=Se(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Oe(t[r],t)}return t}));function je(t,e){var n=function(r){var o=n.cache,i=""+(e?e.apply(this,arguments):r);return G(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n}const Ee=S((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),Re=_e(Ee,lt,1);function Pe(t,e,n){var r,o,i,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:re(),r=null,s=t.apply(o,i),r||(o=i=null)},u=function(){var u=re();a||!1!==n.leading||(a=u);var l=e-(u-a);return o=this,i=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),a=u,s=t.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(c,l)),s};return u.cancel=function(){clearTimeout(r),a=0,r=o=i=null},u}function Te(t,e,n){var r,o,i,s,a,c=function(){var u=re()-o;e>u?r=setTimeout(c,e-u):(r=null,n||(s=t.apply(a,i)),r||(i=a=null))},u=S((function(u){return a=this,i=u,o=re(),r||(r=setTimeout(c,e),n&&(s=t.apply(a,i))),s}));return u.cancel=function(){clearTimeout(r),r=i=a=null},u}function Ce(t,e){return _e(e,t)}function Ae(t){return function(){return!t.apply(this,arguments)}}function Ne(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function De(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Be(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const Me=_e(Be,2);function Ve(t,e,n){e=Yt(e,n);for(var r,o=at(t),i=0,s=o.length;i<s;i++)if(e(t[r=o[i]],r,t))return r}function Ie(t){return function(e,n,r){n=Yt(n,r);for(var o=it(e),i=t>0?0:o-1;i>=0&&i<o;i+=t)if(n(e[i],i,e))return i;return-1}}const Le=Ie(1),$e=Ie(-1);function qe(t,e,n,r){for(var o=(n=Yt(n,r,1))(e),i=0,s=it(t);i<s;){var a=Math.floor((i+s)/2);n(t[a])<o?i=a+1:s=a}return i}function He(t,e,n){return function(r,o,i){var s=0,a=it(r);if("number"==typeof i)t>0?s=i>=0?i:Math.max(i+a,s):a=i>=0?Math.min(i+1,a):i+a+1;else if(n&&i&&a)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=e(l.call(r,s,a),Y))>=0?i+s:-1;for(i=t>0?s:a-1;i>=0&&i<a;i+=t)if(r[i]===o)return i;return-1}}const Fe=He(1,Le,qe),Ue=He(-1,$e);function ze(t,e,n){var r=(xe(t)?Le:Ve)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function We(t,e){return ze(t,Wt(e))}function Ge(t,e,n){var r,o;if(e=Jt(e,n),xe(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else{var i=at(t);for(r=0,o=i.length;r<o;r++)e(t[i[r]],i[r],t)}return t}function Je(t,e,n){e=Yt(e,n);for(var r=!xe(t)&&at(t),o=(r||t).length,i=Array(o),s=0;s<o;s++){var a=r?r[s]:s;i[s]=e(t[a],a,t)}return i}function Ke(t){var e=function(e,n,r,o){var i=!xe(e)&&at(e),s=(i||e).length,a=t>0?0:s-1;for(o||(r=e[i?i[a]:a],a+=t);a>=0&&a<s;a+=t){var c=i?i[a]:a;r=n(r,e[c],c,e)}return r};return function(t,n,r,o){var i=arguments.length>=3;return e(t,Jt(n,o,4),r,i)}}const Xe=Ke(1),Ye=Ke(-1);function Qe(t,e,n){var r=[];return e=Yt(e,n),Ge(t,(function(t,n,o){e(t,n,o)&&r.push(t)})),r}function Ze(t,e,n){return Qe(t,Ae(Yt(e)),n)}function tn(t,e,n){e=Yt(e,n);for(var r=!xe(t)&&at(t),o=(r||t).length,i=0;i<o;i++){var s=r?r[i]:i;if(!e(t[s],s,t))return!1}return!0}function en(t,e,n){e=Yt(e,n);for(var r=!xe(t)&&at(t),o=(r||t).length,i=0;i<o;i++){var s=r?r[i]:i;if(e(t[s],s,t))return!0}return!1}function nn(t,e,n,r){return xe(t)||(t=Rt(t)),("number"!=typeof n||r)&&(n=0),Fe(t,e,n)>=0}const rn=S((function(t,e,n){var r,o;return $(e)?o=e:(e=qt(e),r=e.slice(0,-1),e=e[e.length-1]),Je(t,(function(t){var i=o;if(!i){if(r&&r.length&&(t=Ht(t,r)),null==t)return;i=t[e]}return null==i?i:i.apply(t,n)}))}));function on(t,e){return Je(t,Gt(e))}function sn(t,e){return Qe(t,Wt(e))}function an(t,e,n){var r,o,i=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=xe(t)?t:Rt(t)).length;a<c;a++)null!=(r=t[a])&&r>i&&(i=r);else e=Yt(e,n),Ge(t,(function(t,n,r){((o=e(t,n,r))>s||o===-1/0&&i===-1/0)&&(i=t,s=o)}));return i}function cn(t,e,n){var r,o,i=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=xe(t)?t:Rt(t)).length;a<c;a++)null!=(r=t[a])&&r<i&&(i=r);else e=Yt(e,n),Ge(t,(function(t,n,r){((o=e(t,n,r))<s||o===1/0&&i===1/0)&&(i=t,s=o)}));return i}function un(t,e,n){if(null==e||n)return xe(t)||(t=Rt(t)),t[ne(t.length-1)];var r=xe(t)?It(t):Rt(t),o=it(r);e=Math.max(Math.min(e,o),0);for(var i=o-1,s=0;s<e;s++){var a=ne(s,i),c=r[s];r[s]=r[a],r[a]=c}return r.slice(0,e)}function ln(t){return un(t,1/0)}function fn(t,e,n){var r=0;return e=Yt(e,n),on(Je(t,(function(t,n,o){return{value:t,index:r++,criteria:e(t,n,o)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")}function pn(t,e){return function(n,r,o){var i=e?[[],[]]:{};return r=Yt(r,o),Ge(n,(function(e,o){var s=r(e,o,n);t(i,e,s)})),i}}const hn=pn((function(t,e,n){G(t,n)?t[n].push(e):t[n]=[e]})),dn=pn((function(t,e,n){t[n]=e})),yn=pn((function(t,e,n){G(t,n)?t[n]++:t[n]=1})),vn=pn((function(t,e,n){t[n?0:1].push(e)}),!0);var gn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function mn(t){return t?W(t)?l.call(t):C(t)?t.match(gn):xe(t)?Je(t,zt):Rt(t):[]}function bn(t){return null==t?0:xe(t)?t.length:at(t).length}function wn(t,e,n){return e in n}const _n=S((function(t,e){var n={},r=e[0];if(null==t)return n;$(r)?(e.length>1&&(r=Jt(r,e[1])),e=vt(t)):(r=wn,e=Se(e,!1,!1),t=Object(t));for(var o=0,i=e.length;o<i;o++){var s=e[o],a=t[s];r(a,s,t)&&(n[s]=a)}return n})),On=S((function(t,e){var n,r=e[0];return $(r)?(r=Ae(r),e.length>1&&(n=e[1])):(e=Je(Se(e,!1,!1),String),r=function(t,n){return!nn(e,n)}),_n(t,r,n)}));function xn(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Sn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:xn(t,t.length-e)}function kn(t,e,n){return l.call(t,null==e||n?1:e)}function jn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:kn(t,Math.max(0,t.length-e))}function En(t){return Qe(t,Boolean)}function Rn(t,e){return Se(t,e,!1)}const Pn=S((function(t,e){return e=Se(e,!0,!0),Qe(t,(function(t){return!nn(e,t)}))})),Tn=S((function(t,e){return Pn(t,e)}));function Cn(t,e,n,r){R(e)||(r=n,n=e,e=!1),null!=n&&(n=Yt(n,r));for(var o=[],i=[],s=0,a=it(t);s<a;s++){var c=t[s],u=n?n(c,s,t):c;e&&!n?(s&&i===u||o.push(c),i=u):n?nn(i,u)||(i.push(u),o.push(c)):nn(o,c)||o.push(c)}return o}const An=S((function(t){return Cn(Se(t,!0,!0))}));function Nn(t){for(var e=[],n=arguments.length,r=0,o=it(t);r<o;r++){var i=t[r];if(!nn(e,i)){var s;for(s=1;s<n&&nn(arguments[s],i);s++);s===n&&e.push(i)}}return e}function Dn(t){for(var e=t&&an(t,it).length||0,n=Array(e),r=0;r<e;r++)n[r]=on(t,r);return n}const Bn=S(Dn);function Mn(t,e){for(var n={},r=0,o=it(t);r<o;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function Vn(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;i<r;i++,t+=n)o[i]=t;return o}function In(t,e){if(null==e||e<1)return[];for(var n=[],r=0,o=t.length;r<o;)n.push(l.call(t,r,r+=e));return n}function Ln(t,e){return t._chain?lt(e).chain():e}function $n(t){return Ge(Ct(t),(function(e){var n=lt[e]=t[e];lt.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),Ln(this,n.apply(lt,t))}})),lt}Ge(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=s[t];lt.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Ln(this,n)}})),Ge(["concat","join","slice"],(function(t){var e=s[t];lt.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Ln(this,t)}}));const qn=lt;var Hn=$n(r);Hn._=Hn;const Fn=Hn}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(2913)})()}));
//# sourceMappingURL=chemistry.js.map