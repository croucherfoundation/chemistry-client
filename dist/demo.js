/*! For license information please see demo.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.chemistry=t():e.chemistry=t()}(self,(function(){return(()=>{var e={3855:e=>{e.exports=function(e){return`<div class='cms-buttons'><a class='control show' title='${e.t.tooltips.insert_something}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-plus_bare"></use>\n  </svg>\n</a><a class='control add page' title='${e.t.tooltips.insert_pages}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-page"></use>\n  </svg>\n</a><a class='control add image' title='${e.t.tooltips.insert_image}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-image"></use>\n  </svg>\n</a><a class='control add video' title='${e.t.tooltips.insert_video}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-video"></use>\n  </svg>\n</a><a class='control add document' title='${e.t.tooltips.insert_document}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-document"></use>\n  </svg>\n</a><a class='control add quote' title='${e.t.tooltips.insert_quote}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-quote"></use>\n  </svg>\n</a><a class='control add note' title='${e.t.tooltips.insert_note}'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-note"></use>\n  </svg>\n</a>\n  <a class='control add customTest' title='customTest'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-pre_button"></use>\n    </svg>\n  </a>\n</div>\n`}},8461:e=>{e.exports=function(e){return"<p>\n  No assets available for reuse.\n</p>\n"}},9062:e=>{e.exports=function(e){return'<div class="cms-controls remover"></div>\n<div class="embedded">\n  \n</div>\n'}},275:e=>{e.exports=function(e){return""}},9901:e=>{e.exports=function(e){return"<h4>This is the new custom</h4>\n<div class=\"customTestContent\" contenteditable data-placeholder='type here'></div>\n"}},5614:e=>{e.exports=function(e){return`<a class="cms-button cms-chooser-head">\n  <svg class="cms-icon filled"><use href="/spritemap.svg#sprite-document"></use></svg>\n</a>\n\n<div class="cms-chooser-body assets">\n  <a class="close">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <ul class='options'>\n    <li>\n      <label class="choose upload">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-upload"></use></svg>\n        <span class='label'>${e.t.assets.upload_document}</span>\n        <input type='file' class="upload" name="document_file">\n      </label>\n    </li>\n    <li>\n      <a class="choose reuse">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-document_button"></use></svg>\n        <span class='label'>${e.t.assets.reuse_document}</span>\n      </a>\n    </li>  \n  </ul>\n  <div class='progress'></div>\n  <div class='action'></div>\n</div>\n`}},4974:e=>{e.exports=function(e){return`<h3>\n  <a class='back'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class='label'>\n      ${e.t.headings.reuse_document}\n    </span>\n  </a>\n</h3>\n\n<div class="filter"><input class='q' placeholder='${e.t.placeholders.document.filter}' type='text'><a class='button filter'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-search"></use>\n  </svg>\n</a><a class='button reset'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-close"></use>\n  </svg>\n</a></div>\n\n<div class='pick list'></div>\n`}},7304:e=>{e.exports=function(e){return`<div class="cms-embed-controls"></div>\n<a class='document'>\n  <svg class="cms-icon"><use class="file_type" href="/spritemap.svg#sprite-file"></use></svg>\n  <span class='label filename' data-placeholder="${e.t.placeholders.document.file}" contenteditable=true></span>\n</a>\n`}},7360:e=>{e.exports=function(e){return'<a class=\'document\'>\n  <svg class="cms-icon"><use class="file_type" href="/spritemap.svg#sprite-file"></use></svg>\n  <span class=\'label\'></span>\n</a>\n'}},9327:e=>{e.exports=function(e){return`<div class="cms-bg">\n  <a class="close">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-close"></use>\n    </svg>\n  </a>\n  <div class="cms-menu-content">\n    <h3>${e.t.headings.edit_link}</h3>\n    <p>\n      <label>\n        <input type="url" name="href" placeholder="${e.t.placeholders.link.href}" autocomplete="off">\n      </label>\n    </p>\n    <p class="controls">\n      <a class="detail">\n        <svg class="cms-icon">\n          <use href="/spritemap.svg#sprite-next_bare"></use>\n        </svg>\n        <span class="label">More options</span>\n      </a>\n      <a class="remove">\n        <svg class="cms-icon">\n          <use href="/spritemap.svg#sprite-cross_button"></use>\n        </svg>\n        <span class="label">Remove link</span>\n      </a>\n    </p>\n    <div class="details">\n      <p>\n        <label>\n          Link class\n          <input type="text" name="class" placeholder="${e.t.placeholders.link.class}">\n        </label>\n      </p>\n      <p>\n        <label>\n          Title\n          <input type="text" name="title" placeholder="${e.t.placeholders.link.title}">\n        </label>\n      </p>\n      <p>\n        <label>\n          <input type="checkbox" name="pops">\n          Open in new window\n        </label>\n      </p>\n    </div>\n    <p>\n      <span class="note">${e.t.notes.link.href}</span>\n    </p>\n    <div class="suggestions">\n      <div class="suggested_page_list"></div>\n    </div>\n\n  </div>\n</div>\n<div class='cms-pointer up'></div>\n`}},3379:e=>{e.exports=function(e){return"<div class='cms-modifier'></div>\n<div class='cms-inserter'></div>\n"}},4811:e=>{e.exports=function(e){return`<div class='cms-buttons'>\n  <a class='control hide' title='${e.t.tooltips.block_p}'>\n\t<svg class="cms-icon">\n\t\t<use href="/spritemap.svg#sprite-x"></use>\n\t</svg>\n  </a><a class='control show' title='${e.t.tooltips.block_p}'>\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-p"></use>\n  \t</svg>\n  </a><a class='control' title='${e.t.tooltips.block_p}' data-tagname="p">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-p_button"></use>\n  \t</svg>\n  </a><a class='control' title='${e.t.tooltips.block_h2}' data-tagname="h2">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-h2_button"></use>\n  \t</svg>\n  </a><a class='control' title='${e.t.tooltips.block_h3}' data-tagname="h3">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-h3_button"></use>\n  \t</svg>\n  </a><a class='control' title='${e.t.tooltips.block_ul}' data-tagname="ul">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-ul_button"></use>\n  \t</svg>\n  </a><a class='control' title='${e.t.tooltips.block_ol}' data-tagname="ol">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-ol_button"></use>\n  \t</svg>\n  </a><a class='control' title='${e.t.tooltips.block_pre}' data-tagname="pre">\n  \t<svg class="cms-icon">\n  \t\t<use href="/spritemap.svg#sprite-pre_button"></use>\n  \t</svg>\n  </a>\n</div>\n`}},5637:e=>{e.exports=function(e){return"<div class=\"dialog\">\n  <p class='message'></p>\n  <p class='notes'></p>\n  <div class='decision'>\n    <a class='accept warning'>\n      Yes, continue\n    </a>\n    <a class='reject'>\n      No, cancel\n    </a>\n  </div>\n</div>"}},7998:e=>{e.exports=function(e){return"<svg class='icon filled'>\n\t<use href=\"/spritemap.svg#sprite-cross_button\"></use>\n</svg>\n"}},9128:e=>{e.exports=function(e){return`<div class="cms-bg">\n  <div class='cms-buttons'><a class='control bold' title='${e.t.tooltips.inline_bold}' data-cms-format="bold">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-bold_button"></use>\n  </svg>\n  </a><a class='control bold' title='${e.t.tooltips.inline_italic}' data-cms-format="italic">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-italic_button"></use>\n    </svg>\n  </a><a class='control italic' title='${e.t.tooltips.inline_underline}' data-cms-format="underline">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-underline_button"></use>\n    </svg>\n  </a><a class='control strikethrough' title='${e.t.tooltips.inline_strikethrough}' data-cms-format="strikethrough">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-strikethrough_button"></use>\n    </svg>\n  </a><a class='control anchor' title='${e.t.tooltips.inline_anchor}' data-cms-format="anchor">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-anchor_button"></use>\n    </svg>\n  </a><a class='control code' title='${e.t.tooltips.inline_code}' data-cms-format="code">\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-pre_button"></use>\n    </svg>\n  </a></div>\n</div>\n<div class='cms-pointer down'></div>\n`}},9793:e=>{e.exports=function(e){return'<svg class=\'icon file\'>\n  <use href="/spritemap.svg#sprite-save_button"></use>\n</svg><span class="bar_holder"><span class="bar"></span></span><a class="cancel">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-cross_button"></use>\n  </svg>\n</a>\n<span class="file_name"></span>'}},639:e=>{e.exports=function(e){return`<h3 class="uploading">\n  ${e.t.waiters.uploading}\n</h3>\n<h3 class="uploaded">\n  ${e.t.waiters.processing_upload}\n</h3>\n<span class="bar_holder"><span class="bar"></span></span>\n<span class="file_name"></span>\n<a class="cancel">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-cross_button"></use>\n  </svg>\n</a>`}},8922:e=>{e.exports=function(e){return`<img class='preview' data-cms="true">\n<img class='image'>\n<figcaption contenteditable data-placeholder='${e.t.placeholders.image.caption}'></figcaption>\n<div class="cms-embed-controls"></div>\n`}},6944:e=>{e.exports=function(e){return'<a class="slider-control prev">\n  <svg class="cms-icon">\n  \t<use href="/spritemap.svg#sprite-prev_bare"></use>\n  </svg>\n</a>\n<a class="slider-control next">\n  <svg class="cms-icon">\n  \t<use href="/spritemap.svg#sprite-next_bare"></use>\n  </svg>\n</a>\n<a class="slider-control add" data-cms="true">\n  <svg class=\'icon filled\'>\n  \t<use href="/spritemap.svg#sprite-plus_bare"></use>\n  </svg>\n</a>\n    \n<div class="cms-slider">\n  <div class="collection cms-slide-holder">\n    \n  </div>\n</div>\n'}},2288:e=>{e.exports=function(e){return`<a class="cms-button cms-chooser-head">\n  <svg class="cms-icon filled"><use href="/spritemap.svg#sprite-image"></use></svg>\n</a>\n\n<div class="cms-chooser-body assets">\n  <a class="close">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <ul class='options'>\n    <li>\n      <label class="choose upload">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-upload"></use></svg>\n        <span class='label'>${e.t.assets.upload_image}</span>\n        <input type='file' class="upload" name="image_file">\n      </label>\n    </li>\n    <li>\n      <a class="choose import">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-download"></use></svg>\n        <span class='label'>${e.t.assets.import_image}</span>\n      </a>\n    </li>  \n    <li>\n      <a class="choose reuse">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-image_button"></use></svg>\n        <span class='label'>${e.t.assets.reuse_image}</span>\n      </a>\n    </li>  \n    <li>\n      <a class="choose remove">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-cross"></use></svg>\n        <span class='label'>${e.t.assets.remove_image}</span>\n      </a>\n    </li>\n    <li class="choose_resize">\n      <a class="choose resize">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-image_button"></use></svg>\n        <span class='label'>${e.t.assets.resize_image}</span>\n      </a>\n    </li>\n  </ul>\n  <div class='progress'></div>\n  <div class='action'></div>\n</div>\n`}},3172:e=>{e.exports=function(e){return`<h3>\n  <a class='back'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class='label'>\n      ${e.t.headings.import_image}\n    </span>\n  </a>\n</h3>\n\n<div><input name='remote_url' placeholder='${e.t.placeholders.image.remote_url}' type='url'><a class='button submit'>\n  ${e.t.buttons.import}\n</a><span class='waiter'>\n  ${e.t.waiters.image_import}\n</span></div>\n\n<div class='url_check'></div>`}},6662:e=>{e.exports=function(e){return`<h3>\n  <a class='back'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class='label'>\n      ${e.t.headings.reuse_image}\n    </span>\n  </a>\n</h3>\n\n<div class="filter"><input class='q' placeholder='${e.t.placeholders.image.filter}' type='text'><a class='button filter'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-search"></use>\n  </svg>\n</a><a class='button reset'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-close"></use>\n  </svg>\n</a></div>\n\n<div class="pick list"></div>\n`}},8356:e=>{e.exports=function(e){return'<h3>\n  <a class=\'back\'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class=\'label\'>\n      BACK\n    </span>\n  </a>\n</h3>\n  \n\n<input type="text" name="width" placeholder="width">\n<div class="alignments">\n    <span class="left">Left</span>\n    <span class="center">Center</span>\n    <span class="right">Right</span>\n</div>'}},6302:e=>{e.exports=function(e){return"<a class='thumbnail pickme'></a>\n"}},5426:e=>{e.exports=function(e){return'<a class="cms-button cms-menu-head">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-admin"></use>\n  </svg>\n</a>\n\n<div class="cms-menu-body">\n  <a class=\'close\'>\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <div class="cms-menu-content"></div>\n</div>\n'}},3451:e=>{e.exports=function(e){return`<a class="cms-button cms-menu-head">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-upload"></use>\n  </svg>\n</a>\n\n<div class="cms-menu-body control narrow">\n  <a class='close'>\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <h3>${e.t.headings.page_control}</h3>\n  <div class="cms-menu-content"></div>\n</div>\n\n`}},8817:e=>{e.exports=function(e){return'<a class="cms-button cms-menu-head">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-flask"></use>\n  </svg>\n</a>\n\n<div class="cms-menu-body">\n  <a class=\'close\'>\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <div class="cms-menu-content"></div>\n</div>\n'}},6408:e=>{e.exports=function(e){return`<p contenteditable data-placeholder='${e.t.placeholders.note.text}'></p>\n`}},3673:e=>{e.exports=function(e){return"<a class='close'>\n  <svg class=\"cms-icon\">\n    <use href=\"/spritemap.svg#sprite-close\"></use>\n  </svg>\n</a>\n<span class='message'></span>\n"}},9392:e=>{e.exports=function(e){return'<h4 class="header">\n  <a class="toggle">\n    <svg class="cms-icon">\n      <use xlink:href="/spritemap.svg#sprite-next_bare"></use>\n    </svg>\n    <span class="label title"></span><br/>\n  </a>\n</h4>\n<div class="toggled">\n  <div class="tree"></div>\n</div>\n'}},6672:e=>{e.exports=function(e){return`<a class='page saved'>\n  <svg role="img" class="cms-icon page"><use href="/spritemap.svg#sprite-page-texty"></use></svg>\n  <span class='title'></span>\n</a>\n<span class="unsaved" data-cms="true">\n  <svg role="img" class="cms-icon page"><use href="/spritemap.svg#sprite-page-illustrated"></use></svg>\n  <span class='edit_title' data-placeholder="${e.t.placeholders.page.new_title}" contenteditable="true"></span>\n  <a class="save inline">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-save_button"></use></svg>\n  </a>\n</span>\n<a class='remove'>\n  <svg class="cms-icon"><use href="/spritemap.svg#sprite-cross_button"></use></svg>\n</a>\n`}},8060:e=>{e.exports=function(e){return`<div class="cms-embed-controls"></div>\n<h2 class="toc_title" contenteditable="true" data-placeholder='${e.t.placeholders.page.toc_title}'></h2>\n<ul class="collection cms-page-list"></ul>\n<div class="actions" data-cms="true">\n  <a class="pick">\n    <svg class='icon filled'>\n    \t<use href="/spritemap.svg#sprite-page"></use>\n    </svg>\n    <span class="label">${e.t.buttons.choose_page}</span>\n  </a>\n  <a class="add">\n    <svg class='icon filled'>\n    \t<use href="/spritemap.svg#sprite-plus_button"></use>\n    </svg>\n    <span class="label">${e.t.buttons.create_child_page}</span>\n  </a>\n</div>`}},7706:e=>{e.exports=function(e){return'<a class="page">\n  <svg class="cms-icon page">\n    <use class="content" href="/spritemap.svg#sprite-page"></use>\n  </svg>\n  <span class="title"></span>\n</a>\n'}},1085:e=>{e.exports=function(e){return`<h3>${e.t.headings.jump_to}</h3>\n<div class="page_collections"></div>\n<ul class="actions">\n  <li>\n    <a class='cms-control exit'>\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-exit_button"></use>\n      </svg>\n      <span class='label'>\n        ${e.t.buttons.exit_editor}\n      </span>\n    </a>\n  </li>\n</ul>\n`}},6782:e=>{e.exports=function(e){return`${e.t.gotno.pages}`}},2550:e=>{e.exports=function(e){return"<div id='cms_illustration'></div>\n<div id='cms_body'>\n\t<div id='cms_title'></div>\n\t<div id='cms_content'></div>\n</div>\n<div class='cms-page-controls'>\n  <div class=\"site\"></div>\n  <div class=\"page_config\"></div>\n  <div class=\"page_control\"></div>\n</div>\n"}},1317:e=>{e.exports=function(e){return`<h3>\n  <a class='back'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class='label'>\n      ${e.t.headings.choose_page}\n    </span>\n  </a>\n</h3>\n\n<div class="filter"><input class='q' placeholder='${e.t.placeholders.page.filter}' type='text'><a class='button filter'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-search"></use>\n  </svg>\n</a><a class='button reset'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-close"></use>\n  </svg>\n</a></div>\n\n<div class='pick list'></div>\n`}},3469:e=>{e.exports=function(e){return`<a class="cms-button cms-chooser-head">\n  <svg class="cms-icon filled"><use href="/spritemap.svg#sprite-page"></use></svg>\n</a>\n\n<div class="cms-chooser-body assets">\n  <a class="close">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <ul class='options'>\n    <li>\n      <a class="choose children">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-branch"></use></svg>\n        <span class='label'>${e.t.assets.child_pages}</span>\n      </a>\n    </li>\n    <li>\n      <a class="choose similar">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-list"></use></svg>\n        <span class='label'>${e.t.assets.similar_pages}</span>\n      </a>\n    </li>\n    \x3c!-- <li>\n      <a class="choose branch">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-branch"></use></svg>\n        <span class='label'>${e.t.assets.other_child_pages}</span>\n      </a>\n    </li>   --\x3e\n    <li>\n      <a class="choose selected">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-list"></use></svg>\n        <span class='label'>${e.t.assets.select_pages}</span>\n      </a>\n    </li>\n  </ul>\n  <div class='action'></div>\n</div>\n`}},1997:e=>{e.exports=function(e){return`<ul class="actions">\n  <li>\n    <a class='cms-control save default-unavailable'>\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-save_button"></use>\n      </svg>\n      <span class='label'>\n        ${e.t.buttons.save_page}\n      </span>\n    </a>\n  </li>\n  <li>\n    <a class='cms-control publish default-unavailable'>\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-publish_button"></use>\n      </svg>\n      <span class='label'>\n        ${e.t.buttons.publish_page}\n      </span>\n    </a>\n  </li>\n  <li>\n    <a class='cms-control view default-unavailable' target='_blank'>\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-page_button"></use>\n      </svg>\n      <span class='label'>\n        ${e.t.buttons.see_page}\n      </span>\n    </a>\n  </li>\n</ul>\n<div class="progress"></div>`}},3101:e=>{e.exports=function(e){return`<h3>${e.t.headings.page_settings}</h3>\n\n<p class="config">\n  <label class="prefix" for="page-slug">${e.t.labels.page.slug}</label>\n  <span class="setting">\n    <input name="slug" id="page-slug" type="text" spellcheck="false" placeholder="${e.t.placeholders.page.slug}">\n  </span>\n</p>\n\n<p class="config">\n  <label class="prefix" for="page-style">${e.t.labels.page.style}</label>\n  <span class="setting">\n    <label>\n      <input name="style" type="radio" value="heroic">\n      <svg role="img" class="label page"><title>${e.t.labels.page.style_heroic}</title><use href="/spritemap.svg#sprite-page-heroic"></use></svg>\n    </label>\n    <label>\n      <input name="style" type="radio" value="illustrated">\n      <svg role="img" class="label page"><title>${e.t.labels.page.style_illustrated}</title><use href="/spritemap.svg#sprite-page-illustrated"></use></svg>\n    </label>\n    <label>\n      <input name="style" type="radio" value="gallery">\n      <svg role="img" class="label page"><title>${e.t.labels.page.style_gallery}</title><use href="/spritemap.svg#sprite-page-gallery"></use></svg>\n    </label>\n    <label>\n      <input name="style" type="radio" value="texty">\n      <svg role="img" class="label page"><title>${e.t.labels.page.style_texty}</title><use href="/spritemap.svg#sprite-page-texty"></use></svg>\n    </label>\n  </span>\n</p>\n\n<p class="config">\n  <label class="prefix" for="page-byline">${e.t.labels.page.byline}</label>\n  <span class="setting">\n    <input name="byline" id="page-byline" type="text" placeholder="${e.t.placeholders.page.byline}">\n  </span>\n</p>\n\n<p class="config">\n  <label class="prefix" for="page-summary">${e.t.labels.page.summary}</label>\n  <span class="setting">\n    <textarea name='summary' id="page-summary" contenteditable='true' placeholder='${e.t.placeholders.page.summary}'></textarea>\n  </span>\n</p>\n\n\n<a class="toggle">\n  <svg class="prefix">\n    <use href="/spritemap.svg#sprite-next_bare"></use>\n  </svg>\n  <span class="label">\n    ${e.t.buttons.show_details}\n  </span>\n</a>\n\n<div class="details toggled">\n  <p class="config">\n    <label class="prefix" for="page_collection">${e.t.labels.page.page_collection}</label>\n    <span class="setting page_collection"></span>\n  </p>\n\n  <p class="config">\n    <label class="prefix" for="page_category">${e.t.labels.page.page_category}</label>\n    <span class="setting page_category"></span>\n  </p>\n\n  <p class="config">\n    <label class="prefix" for="page_parent">${e.t.labels.page.page_parent}</label>\n    <span class="setting page_parent"></span>\n  </p>\n\n  <p class="config">\n    <label class="prefix" for="page_terms_q">${e.t.labels.page.terms}</label>\n  </p>\n\n  <div class="page_terms"></div>\n\n</div>\n`}},8350:e=>{e.exports=function(e){return'<a class="page">\n  <svg class="cms-icon page">\n    <use class="content" href="/spritemap.svg#sprite-page"></use>\n  </svg>\n  <span class="title"></span>\n  <span class="collection"></span>\n  <span class="date"></span>\n</a>\n'}},7711:e=>{e.exports=function(e){return'<div class="terms"></div>\n<div class="suggester">\n  <span contenteditable="true" id="page_terms_q" class="prompt"></span>\n  <a class="reset">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n</div>\n<div class="suggestions"></div>\n'}},2139:e=>{e.exports=function(e){return`<h1 class="pagetitle"><span class='name' contenteditable='true' data-placeholder='${e.t.placeholders.page.page_title}'></span></h1>\n`}},325:e=>{e.exports=function(e){return`<span class="indent"></span>\n<a class="toggle">\n  <svg class="cms-icon">\n    <use xlink:href="/spritemap.svg#sprite-next_bare"></use>\n  </svg>\n</a>\n<span class="detail saved">\n  <a class="page">\n    <svg class="cms-icon page">\n      <use class="content" href="/spritemap.svg#sprite-page"></use>\n    </svg>\n    <span class="title"></span>\n    <br/>\n    <span class="path"></span>\n  </a>\n  <span class="actions">\n    <a class="delete">\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-cross_button"></use>\n      </svg>\n    </a>\n    <a class="review" target="_blank">\n      <svg class="cms-icon">\n        <use href="/spritemap.svg#sprite-show_button"></use>\n      </svg>\n    </a>\n  </span>\n</span>\n<span class="unsaved" data-cms="true">\n  <svg class="cms-icon page">\n    <use class="content" href="/spritemap.svg#sprite-page"></use>\n  </svg>\n  <span class='edit_title' data-placeholder="${e.t.placeholders.page.new_title}" contenteditable="true"></span>\n  <a class="save inline">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-save_button"></use></svg>\n  </a>\n</span>\n`}},8596:e=>{e.exports=function(e){return`<blockquote contenteditable data-placeholder='${e.t.placeholders.quote.remarks}'></blockquote>\n<figcaption contenteditable data-placeholder='${e.t.placeholders.quote.attribution}'></figcaption>\n`}},7246:e=>{e.exports=function(e){return'<span class="term"></span>\n<a class="detach">\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-close"></use>\n  </svg>\n</span>'}},5722:e=>{e.exports=function(e){return`${e.t.gotno.term_suggestions}\n`}},4418:e=>{e.exports=function(e){return'<a class="pick">\n  <svg class="prefix">\n    <use href="/spritemap.svg#sprite-plus_bare"></use>\n  </svg>\n  <span class="label term"></span>\n</a>'}},6037:e=>{e.exports=function(e){return"<div id='cms_page' class='editing'></div>\n<div id='notices'></div>\n<div id='warning'></div>\n"}},6076:e=>{e.exports=function(e){return`<video autoplay controls='false' loop muted='muted' preload='auto'>\n  <source>\n</video>\n<div class='player'></div>\n<div class="cms-embed-controls"></div>\n<figcaption contenteditable data-placeholder='${e.t.placeholders.video.caption}'></figcaption>\n`}},9099:e=>{e.exports=function(e){return`<a class="cms-button cms-chooser-head">\n  <svg class="cms-icon filled"><use href="/spritemap.svg#sprite-video"></use></svg>\n</a>\n\n<div class="cms-chooser-body assets">\n  <a class="close">\n    <svg class="cms-icon"><use href="/spritemap.svg#sprite-close"></use></svg>\n  </a>\n  <ul class='options'>\n    <li>\n      <label class="choose upload">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-upload_video"></use></svg>\n        <span class='label'>${e.t.assets.upload_video}</span>\n        <input type='file' class="upload" name="video_file">\n      </label>\n    </li>\n    <li>\n      <a class="choose import">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-import_video"></use></svg>\n        <span class='label'>${e.t.assets.import_video}</span>\n      </a>\n    </li>  \n    <li>\n      <a class="choose reuse">\n        <svg class="cms-icon"><use href="/spritemap.svg#sprite-video_button"></use></svg>\n        <span class='label'>${e.t.assets.reuse_video}</span>\n      </a>\n    </li>  \n  </ul>\n  <div class='action'>\n    \n    \n  </div>\n</div>\n`}},4770:e=>{e.exports=function(e){return`<h3>\n  <a class='back'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class='label'>\n      ${e.t.headings.import_video}\n    </span>\n  </a>\n</h3>\n\n<form class="import"><input name='remote_url' placeholder='${e.t.placeholders.video.remote_url}' type='url'><a class='button submit'>\n  ${e.t.buttons.import}\n</a><span class='waiter'>\n  ${e.t.waiters.video_import}\n</span></form>\n\n<div class='url_check'></div>`}},1476:e=>{e.exports=function(e){return`<h3>\n  <a class='back'>\n    <svg class="cms-icon">\n      <use href="/spritemap.svg#sprite-prev_bare"></use>\n    </svg>\n    <span class='label'>\n      ${e.t.headings.reuse_video}\n    </span>\n  </a>\n</h3>\n\n<div class="filter"><input class='q' placeholder='${e.t.placeholders.video.filter}' type='text'><a class='button filter'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-search"></use>\n  </svg>\n</a><a class='button reset'>\n  <svg class="cms-icon">\n    <use href="/spritemap.svg#sprite-close"></use>\n  </svg>\n</a></div>\n\n<div class="pick list"></div>\n`}},7508:(e,t,n)=>{"use strict";n.d(t,{default:()=>ug});var r=n(2316),o=n.n(r);n(989);const i=JSON.parse('{"defaults":{"api_url":"/cms/api","logging":true,"pubsub":true,"report_errors":true,"trap_errors":false,"mock_data":true,"terms_url":"","exit_url":"/"},"development":{},"staging":{},"production":{"logging":false,"report_errors":false,"trap_errors":true,"mock_data":false}}');var s,c,a=n(9050),u=new RegExp(/\.(dev|local)/);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c=a.defaults(e,i[s],i.defaults)}function f(e){return(c||l(),c)[e]}s=u.test(window.location.href)?"development":"production";var p=n(3574),h={en:JSON.parse('{"affirmations":{"new_page_saved":"Page is saved: click listing to edit.","page_saved":"Page is saved. Click publish when you are ready to make it public.","page_published":"Page has been published. Click preview in the save menu to see its public form."},"assets":{"add_document":"Add document","upload_document":"Upload document","import_document":"Import document","reuse_document":"Reuse document","upload_image":"Upload image","import_image":"Import image","reuse_image":"Reuse image","upload_video":"Upload video","import_video":"Embed video","reuse_video":"Reuse video","remove_image":"Remove image","resize_image":"Resize image","child_pages":"Children of this page","similar_pages":"Similar pages","other_child_pages":"Children of selected page...","select_pages":"Selected pages"},"buttons":{"choose_page":"Choose a page","create_page":"Create a page","create_child_page":"Add child page","create_collection_page":"Add collection page","exit_editor":"Exit page editor","import":"Import","publish_page":"Publish page","save_page":"Save page","see_page":"Review published page","show_details":"Show details"},"confirmations":{"and_work_in_progress":"and uploads that are currently in progress.","leave_editor":"Do you want to leave the page editor?","page_jump":"Do you want to leave this page and jump to ","page_unsaved":"You will lose unsaved changes on this page","work_in_progress":"You will lose the uploads currently in progress"},"editor_loading":"Page Editor Loading","gotno":{"pages":"No pages to display","term_suggestions":"Type two characters or more to see matching terms"},"headings":{"choose_image":"Add images","choose_page":"Add one page","choose_video":"Add video","edit_link":"Edit Link","image_settings":"Image Settings","image_weighting":"Image Weighting","import_document":"Import Document","import_image":"Import Image","import_video":"Embed Video","jump_to":"Jump to page","layout":"Layout","main_page_collection":"Site pages","page_control":"Page Control","page_settings":"Page Settings","suggested_pages":"Suggested pages","reuse_document":"Reuse Document","reuse_image":"Reuse Image","reuse_video":"Reuse Video"},"labels":{"page":{"byline":"Byline","filter":"Filter by title, path or content","private":"Private","slug":"URL Slug","visibility":"Visibility","style":"Layout","page_collection":"Collection","page_category":"Category","page_parent":"Parent","summary":"Summary","terms":"Tagging"},"link":{"href":"Destination","title":"Hover title"}},"missing":{"document":{"title":"Unnamed document"}},"notes":{"link":{"href":"Type a bit of URL or page title to see local link suggestions below"}},"placeholders":{"document":{"file":"File name","filter":"Filter by name"},"image":{"caption":"Optional caption","remote_url":"Full URL","filter":"Filter by name"},"link":{"class":"Optional","href":"Relative or absolute URL.","title":"Recommended for accessibility"},"note":{"text":"Note text"},"page":{"blocks":"Please type or paste here. Press return for a new paragraph or shift-return for a new line. When the caret rests on an empty line you can also use the asset button to insert images, video, a list of page links, a downloadable document and other useful content blocks. Select a block of text to add formatting or a link.","byline":"Author or source","filter":"Filter by name, path or terms","page_title":"Page title","page_content":"Click here to edit the main body of your page. Click the marginal icon to insert blocks and assets. Select a phrase to bring up the formatting and linking menu.","slug":"Plain text, no spaces","toc_title":"Optional TOC heading","new_title":"Enter title and press save button","summary":"For use in lists and features"},"quote":{"remarks":"Quoted text","attribution":"Optional attribution"},"video":{"caption":"Optional caption","remote_url":"URL or youtube ID","filter":"Filter by name or ID"},"waiters":{}},"prompts":{"image":"Tap here or drop image"},"tooltips":{"insert_something":"Insert something","insert_image":"Insert image","insert_video":"Insert video","insert_document":"Insert download","insert_quote":"Insert quote","insert_note":"Insert note","insert_pages":"Insert page links"},"validation":{"image_url_ok":"URL looks importable: click to check","url_not_img":"URL doesn\'t look like an image address","url_or_yt_required":"Please give full URL or Youtube ID","url_ok":"URL looks valid: click to check","url_required":"Please give full URL","video_url_ok":"URL looks importable: click to check","yt_ok":"Check Youtube URL:"},"waiters":{"document_import":"Importing document","image_import":"Downloading image","video_import":"Fetching video data","processing_upload":"Processing upload","uploading":"Uploading file"},"warnings":{"upload_cancelled":"Upload cancelled"}}'),de:JSON.parse('{"with_password":"mit Passwort"}')};function d(){return{t:h.en}}function y(e){var t=h.en;return(Array.isArray(e)?e:e.split(".")).reduce((function(e,t){return e&&e[t]}),t)}var v=f("report_errors"),m=f("trap_errors"),g=new r.Collection;function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"info";g.add({message:e,href:n,duration:t,type:r})}function w(e,t){b(e,4e3,t,"success")}function _(e,t){console.log("complain",e,t),b(e,1e5,t,"error")}function O(e,t,n,r,o){var i;return"not_allowed"===o?i="<p><strong>".concat(y("problems.not_allowed"),"</strong>.").concat(y("notes.view_denied")):"not_found"===o&&(i="<p><strong>".concat(y("problems.not_found"),"</strong>.").concat(y("notes.item_denied"))),i?(_(i,1e5),!0):(i="<strong>".concat(e,"</strong> at ").concat(t," line ").concat(n," col ").concat(r,"."),v&&b(i,1e5,null,"error"),m)}function S(e){return e.toString().toLowerCase().replace("&nbsp;"," ").replace(/[åàáãäâ]/,"a").replace(/[èéëê]/,"e").replace(/[ìíïî]/,"i").replace(/[òóöô]/,"o").replace(/[ùúüû]/,"u").replace(/ñ/,"n").replace(/ç/,"c").replace(/ß/,"ss").replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/-+/g,"-").replace(/^-+/,"").replace(/-+$/,"").trim()}function x(e,t,n){var r,o=(r=e)?"".concat(r):"",i=n||"...",s=t||80;return o.length>s?o.slice(0,s)+i:o}String.prototype.trim;var k=f("logging");function j(){var e;k&&console&&console.log&&(e=console).log.apply(e,arguments)}var E=new r.Collection;function R(e){E.remove(e)}var P=n(9050),T=n(9755);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},N(e,t,n||e)}function B(e,t){return B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},B(e,t)}function V(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(c,e);var t,n,r,i,s=(r=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(r);if(i){var n=I(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function c(){var e;A(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).urlRoot=e.urlRoot.bind(M(e)),e.prepareLoader=e.prepareLoader.bind(M(e)),e.loadAnd=e.loadAnd.bind(M(e)),e.whenLoaded=e.whenLoaded.bind(M(e)),e.whenFailed=e.whenFailed.bind(M(e)),e.isLoaded=e.isLoaded.bind(M(e)),e.load=e.load.bind(M(e)),e.fetch=e.fetch.bind(M(e)),e.loaded=e.loaded.bind(M(e)),e.notLoaded=e.notLoaded.bind(M(e)),e.prepareSaver=e.prepareSaver.bind(M(e)),e.save=e.save.bind(M(e)),e.saved=e.saved.bind(M(e)),e.confirmSave=e.confirmSave.bind(M(e)),e.cancelSave=e.cancelSave.bind(M(e)),e.notSaved=e.notSaved.bind(M(e)),e.revert=e.revert.bind(M(e)),e.resetUploads=e.resetUploads.bind(M(e)),e.startProgress=e.startProgress.bind(M(e)),e.setProgress=e.setProgress.bind(M(e)),e.finishProgress=e.finishProgress.bind(M(e)),e.build=e.build.bind(M(e)),e.parse=e.parse.bind(M(e)),e.toJSON=e.toJSON.bind(M(e)),e.toJSONWithRootAndAssociations=e.toJSONWithRootAndAssociations.bind(M(e)),e.toJSONWithAssociations=e.toJSONWithAssociations.bind(M(e)),e.checkChanges=e.checkChanges.bind(M(e)),e.recordAttributes=e.recordAttributes.bind(M(e)),e.resetChanges=e.resetChanges.bind(M(e)),e.significantAttributes=e.significantAttributes.bind(M(e)),e.hasChangedAttributes=e.hasChangedAttributes.bind(M(e)),e.significantChangedAttributes=e.significantChangedAttributes.bind(M(e)),e.hasChangedAssociations=e.hasChangedAssociations.bind(M(e)),e.significantChangedAssociations=e.significantChangedAssociations.bind(M(e)),e.reloadAssociations=e.reloadAssociations.bind(M(e)),e.validate=e.validate.bind(M(e)),e.touch=e.touch.bind(M(e)),e.isPopulated=e.isPopulated.bind(M(e)),e.sig=e.sig.bind(M(e)),e}return t=c,n=[{key:"initialize",value:function(){this._class_name=this.constructor.name,this._original_attributes={},this.checkState=P.debounce(this.checkChanges,250),this.prepareLoader(),this.autoload&&this.load(),this.build(),this.prepareSaver(),this.recordAttributes(),this.checkState(),this.set("changed",!1),this.on("change",this.checkState),this.on("change",this.validate)}},{key:"build",value:function(){}},{key:"discard",value:function(){this.collection&&this.collection.remove(this)}},{key:"urlRoot",value:function(){return this.collection?this.collection.urlRoot():[f("api_url"),this.pluralName].join("/")}},{key:"prepareLoader",value:function(){this._loader&&this._loader.cancel(),this._loaded=T.Deferred(),this.isNew()&&this._loaded.resolve(),this._loading=!1}},{key:"loadAnd",value:function(e){this._loaded.done(e),this.load()}},{key:"whenLoaded",value:function(e){this._loaded.done(e)}},{key:"whenFailed",value:function(e){this._loaded.fail(e)}},{key:"isLoaded",value:function(){return"resolved"===this._loaded.state()}},{key:"load",value:function(){return this._loading||this.isLoaded()||(this._loading=!0,this._loader=this.fetch({error:this.notLoaded}).done(this.loaded)),this._loaded.promise()}},{key:"loaded",value:function(e){this._loading=!1,this._loader=null,this._saved.resolve(),this._loaded.resolve(e),this.resetChanges()}},{key:"notLoaded",value:function(e){this._loading=!1,this._loader=null,this._loaded.reject(e)}},{key:"reload",value:function(){this.prepareLoader(),this.load()}},{key:"prepareSaver",value:function(){this._saved=T.Deferred(),this.isNew()||this._saved.resolve(),this._saving=!1}},{key:"save",value:function(){if(!this._saving){var e;this._saved=T.Deferred(),this._saving=!0;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._saver=(e=N(I(c.prototype),"save",this)).call.apply(e,[this].concat(n)),this._saver.fail(this.notSaved).done(this.saved)}return this._saved.promise()}},{key:"saved",value:function(e){this._saving=!1,this._saved.resolve(e),this._saver=null,this.confirmSave(),this.resetChanges(),this.resetUploads(),this.reloadAssociations()}},{key:"confirmSave",value:function(){w("Saved")}},{key:"notSaved",value:function(e,t,n){if(this._saving=!1,this._saved.reject(n),this._saver=null,this.set({progressing:!1,progress:0}),R(this),"abort"===t)_(y("warnings.upload_cancelled"));else{var r=e.responseJSON;r&&r.errors?_("".concat(e.status,": ").concat(r.errors)):_(n)}}},{key:"cancelSave",value:function(){this.log("✋ cancelSave"),this._saver&&this._saver.abort()}},{key:"revert",value:function(){this.reload()}},{key:"resetUploads",value:function(){}},{key:"sync",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("read"!==e){var i=r.beforeSend,s=r.success;r.beforeSend=function(e,r){t.startProgress(),r.xhr=function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){return t.setProgress(e)})),e},i&&i.apply(n,e,r)},r.success=function(){t.finishProgress(!0),s&&s.apply(void 0,arguments)}}return o().sync.call(this,e,t,r)}},{key:"startProgress",value:function(){this.set({progressing:!0,progress:0}),function(e){E.add(e)}(this)}},{key:"setProgress",value:function(e){if(e.lengthComputable){var t=e.loaded/e.total;this.set({progress:t}),t>=.99&&this.set({progressing:!1})}}},{key:"finishProgress",value:function(){this.set({progressing:!1,progress:1}),R(this)}},{key:"parse",value:function(e){var t=e.id,n=e.data,r=e.attributes||n.attributes;return r.id||(t?r.id=t:n&&n.id&&(r.id=n.id)),this.inflateDates(r)}},{key:"inflateDates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return["published_at","updated_at","created_at"].forEach((function(t){var n=e[t];n&&(e[t]=new Date(n))})),e}},{key:"toJSON",value:function(){return this.toJSONWithRootAndAssociations()}},{key:"toJSONWithRootAndAssociations",value:function(){var e={};return e[this.jsonRoot()]=this.toJSONWithAssociations(),e}},{key:"jsonRoot",value:function(){return this.singularName}},{key:"toJSONWithAssociations",value:function(){var e=this,t={},n=P.result(this,"savedAssociations")||[];return(P.result(this,"savedAttributes")||[]).forEach((function(n){t[n]=e.get(n)})),n.forEach((function(n){t["".concat(n,"_data")]=e[n].toJSONWithAssociations()})),t}},{key:"checkChanges",value:function(){var e=this.hasChangedAttributes()||this.hasChangedAssociations(),t=!e,n=this.isPopulated();this.set({changed:e,unchanged:t,populated:n})}},{key:"recordAttributes",value:function(){this._original_attributes=this.significantAttributes()}},{key:"resetChanges",value:function(){var e=this;(P.result(this,"savedAssociations")||[]).forEach((function(t){return e[t].resetChanges()})),this.recordAttributes(),this.checkChanges()}},{key:"significantAttributes",value:function(){return P.pick(this.attributes,this.savedAttributes)}},{key:"hasChangedAttributes",value:function(){return!P.isEmpty(this.significantChangedAttributes())}},{key:"significantChangedAttributes",value:function(e){var t=this,n=this.significantAttributes(),r=e||P.keys(n),o=P.filter(r,(function(e){return n[e]!==t._original_attributes[e]}));return P.pick(n,o)}},{key:"hasChangedAssociations",value:function(){return!P.isEmpty(this.significantChangedAssociations())}},{key:"significantChangedAssociations",value:function(){var e=this;return P.filter(this.savedAssociations,(function(t){return e[t].hasAnyChanges()}))}},{key:"reloadAssociations",value:function(){var e=this;P.each(this.savedAssociations,(function(t){return e[t].debouncedReload()}))}},{key:"validate",value:function(){this.set("valid",!0)}},{key:"touch",value:function(){this.set("updated_at",new Date,{stickitChange:!0})}},{key:"sig",value:function(){return"".concat(this.singularName," • ").concat(this.cid)}},{key:"isPopulated",value:function(){return!0}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];j.apply(void 0,["[".concat(this.sig(),"]")].concat(t))}}],n&&D(t.prototype,n),c}(o().Model);L.prototype.savedAttributes=[],L.prototype.publishedAttributes=[],L.prototype.savedAssociations=[],L.prototype.uploadProgress=!1,L.prototype.autoload=!1,L.prototype.defaults={populated:!1};const $=L;function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function z(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=U(t);if(n){var o=U(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return z(this,e)});function o(){return H(this,o),r.apply(this,arguments)}return o}($);W.prototype.singularName="term",W.prototype.pluralName="terms",W.prototype.savedAttributes=[];const G=W;var J=n(9050),K=n(9755);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function ee(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(a,e);var t,n,o,i,s,c=(i=a,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ne(i);if(s){var n=ne(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ee(this,e)});function a(){var e;Y(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=c.call.apply(c,[this].concat(n))).url=e.url.bind(te(e)),e.initialize=e.initialize.bind(te(e)),e.getState=e.getState.bind(te(e)),e.prepareToLoad=e.prepareToLoad.bind(te(e)),e.load=e.load.bind(te(e)),e.fetch=e.fetch.bind(te(e)),e.reload=e.reload.bind(te(e)),e.loadSuccess=e.loadSuccess.bind(te(e)),e.loadFail=e.loadFail.bind(te(e)),e.isLoaded=e.isLoaded.bind(te(e)),e.whenLoaded=e.whenLoaded.bind(te(e)),e.loadAnd=e.loadAnd.bind(te(e)),e.parse=e.parse.bind(te(e)),e.findOrAdd=e.findOrAdd.bind(te(e)),e.setAll=e.setAll.bind(te(e)),e}return t=a,n=[{key:"initialize",value:function(e,t){if(this._state=new r.Model,t){var n=t.p,o=t.pp,i=t.filter;this._state.set({p:n,pp:o,filter:i})}this._state.on("change",J.debounce(this.updateState.bind(this),250)),this.prepareToLoad()}},{key:"getState",value:function(){return this._state}},{key:"updateState",value:function(){this.fetch()}},{key:"setPage",value:function(e){this._state.set("p",e)}},{key:"setPerPage",value:function(e){this._state.set("pp",e)}},{key:"setFilter",value:function(e,t){this._state.get("filter").set(e,t)}},{key:"resetFilter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._state.set("filter",e)}},{key:"setQuery",value:function(e){this.log("setQuery",e),this._state.set("q",e)}},{key:"urlRoot",value:function(){return this._page?[f("api_url"),"pages",this._page.id,this.pluralName].join("/"):[f("api_url"),this.pluralName].join("/")}},{key:"url",value:function(){var e=this,t=this.urlRoot();if(this._state){var n=new URLSearchParams;["p","pp","q"].forEach((function(t){var r=e._state.get(t);r&&n.set(t,r)}));var r=this._state.get("filter");r&&Object.keys(r).forEach((function(e){e&&r[e]&&n.set(encodeURIComponent(e),encodeURIComponent(r[e]))}));var o=n.toString();if(o.length)return"".concat(t,"?").concat(o)}return t}},{key:"prepareToLoad",value:function(){this._loaded&&this._loaded.reject(),this._loaded=K.Deferred(),this._loading=!1}},{key:"load",value:function(){return this._loading||this.isLoaded()||(this._loading=!0,this.fetch({error:this.loadFail}).done(this.loadSuccess)),this._loaded.promise()}},{key:"reload",value:function(){this.prepareToLoad(),this.load()}},{key:"loadSuccess",value:function(e){this._loading=!1,this._loaded.resolve(e)}},{key:"loadFail",value:function(e){this._loaded.reject(e)}},{key:"isLoaded",value:function(){return this._loaded&&"resolved"===this._loaded.state()}},{key:"whenLoaded",value:function(e){this._loaded.done(e)}},{key:"loadAnd",value:function(e){this.whenLoaded(e),this.load()}},{key:"parse",value:function(e){return e.data}},{key:"findOrAdd",value:function(e){var t=this.findWhere(e);return t||(t=this.add(e)).fetch(),t}},{key:"setAll",value:function(e,t){this.each((function(n){return n.set(e,t)}))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];j.apply(void 0,["[".concat(this.pluralName,"]")].concat(t))}}],o=[{key:"key",value:function(){return this.class_key}}],n&&Q(t.prototype,n),o&&Q(t,o),a}(r.Collection);const oe=re;var ie=n(9050),se=n(9755);function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=de(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},le(e,t,n||e)}function fe(e,t){return fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},fe(e,t)}function pe(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=de(o);if(i){var n=de(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return pe(this,e)});function c(){var e;ae(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).initialize=e.initialize.bind(he(e)),e.suggest=e.suggest.bind(he(e)),e.fetch=e.fetch.bind(he(e)),e.url=e.url.bind(he(e)),e.debouncedSuggest=ie.debounce(e.suggest,he(e)),e.moveSelectionNext=e.moveSelectionNext.bind(he(e)),e.moveSelectionLast=e.moveSelectionLast.bind(he(e)),e.moveSelectionPrev=e.moveSelectionPrev.bind(he(e)),e.moveSelectionFirst=e.moveSelectionFirst.bind(he(e)),e.moveSelectionTo=e.moveSelectionTo.bind(he(e)),e.currentSelection=e.currentSelection.bind(he(e)),e}return t=c,n=[{key:"termList",value:function(){return ie.uniq(this.pluck("term")).join(",")}},{key:"resetFromList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var t=ie.uniq(e.split(",")).map((function(e){return{term:e}}));this.reset(t,{silent:!0})}else this.reset([],{silent:!0})}},{key:"suggest",value:function(e){e!==this._q&&(this._q=encodeURIComponent(e),this.fetch())}},{key:"moveSelectionNext",value:function(){var e=this.currentSelection();if(e){var t=this.indexOf(e);this.moveSelectionTo(t+1)}else this.moveSelectionFirst()}},{key:"moveSelectionLast",value:function(){this.moveSelectionTo(this.length-1)}},{key:"moveSelectionPrev",value:function(){var e=this.currentSelection();if(e){var t=this.indexOf(e);this.moveSelectionTo(t-1)}else this.moveSelectionLast()}},{key:"moveSelectionFirst",value:function(){this.moveSelectionTo(0)}},{key:"moveSelectionTo",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=t<0?this.length-1:t>=this.length?0:t,this.each((function(t,n){t.set("selected",n===e)}))}},{key:"currentSelection",value:function(){return this.findWhere({selected:!0})}},{key:"fetch",value:function(){var e=this,t=se.Deferred();if(this._q&&this._q.length>=2){var n,r=c.cachedState(this._q);if(r)return this.reset(r),t.resolve(r).promise();for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=le(de(c.prototype),"fetch",this)).call.apply(n,[this].concat(i)).done((function(){c.suggestionCache[e._q]=e.models,t.resolve(e.models)})),t.promise()}return this.reset(),t.resolve([]).promise()}},{key:"url",value:function(){return f("terms_url")+this._q}}],r=[{key:"cachedState",value:function(e){return c.suggestionCache[e]}}],n&&ue(t.prototype,n),r&&ue(t,r),c}(oe);ye.suggestionCache={},ye.class_key="terms",ye.prototype.model=G,ye.prototype.singularName="term",ye.prototype.pluralName="terms";const ve=ye,me=JSON.parse('{"data":{"id":"2160","type":"page","attributes":{"id":2160,"path":"news/uncovering-the-mechanism-for-neural-progenitor-competence-regulation","slug":"uncovering-the-mechanism-for-neural-progenitor-competence-regulation","style":"heroic","parent_id":null,"page_category_id":2,"page_collection_id":1,"title":"Uncovering the mechanism for neural progenitor competence regulation","masthead":"<div class=\\"images cms-slides\\"><div class=\\"cms-slider\\"><div class=\\"cms-slide-holder\\"><figure class=\\"image cms-slide\\" data-image=\\"838\\"><img class=\'image\' src=\\"https://croucher-public.s3.amazonaws.com/pub/images/images/3773/original/brunet-cells.jpg?1595303356\\"><figcaption></figcaption></figure></div></div></div>","content":"<p>A research team led by Professor Kin-ming Kwan has provided significant new insights for stem cell biology and regeneration of neuronal cells.\\n</p><p><span style=\\"font-size: 1.2rem;\\">Our brain is built up from tens of billions of neurons. These neurons are categorised into different subtypes, each with unique cellular characteristics and a specialised function. Neurons are differentiated from neural stem cells by undergoing temporal transition of fate specification.</span><br></p><p>During central nervous system development, neural stem cells determine which type of neurons to generate according to a pre-set temporal schedule. In the case of the cerebellum, neural progenitors will first differentiate into Purkinje cells. As development proceeds, progenitors gradually lose this potency and switch to generating interneurons. How this occurs was previously unclear.</p><p><span style=\\"font-size: 1.2rem;\\"><a href=\\"https://scholars.croucher.org.hk/scholars/kwan-kin-ming\\">Professor Kin-ming Kwan (Croucher Scholarship 1991)</a> at the Chinese University of Hong Kong</span><span style=\\"font-size: 1.2rem;\\">&nbsp;and his team found the process to be modulated by a signalling factor, bone morphogenetic protein (BMP), with the signalling strength of BMP determining the temporal identity transition of neural progenitors.</span></p><p>Through a mouse model lacking the two essential mediators of BMP signalling, Smad1 and Smad5, the scientists were able to demonstrate that the transition of the progenitor fate specification programme was accelerated, leading to significantly fewer Purkinje cells but notably more interneurons being generated in the cerebellum. </p><p>They also found that the same two mediators can repress downstream gene Gsx1. The expression of this gene is a hallmark for potency restriction. </p><p>To uncover this, the researchers injected the two mediators into the cerebrospinal fluid of mouse embryos, causing a sharp increase of BMP signalling strength in the progenitor pool of the developing cerebellum. The approach was able to stall the restriction of stem cell competence and alter the stoichiometry of specific neuronal subtypes.</p><p>The research was published in <a href=\\"https://www.cell.com/cell-reports/fulltext/S2211-1247(20)30263-1\\">Cell Reports</a>. It could also contribute to the development of novel neurological therapies for diseases such as autism spectrum disorders and hereditary cerebellar ataxia. </p><p>“Our research for the first time shows that, in mammalian brains, the strength of extrinsic signalling factors plays a decisive role in instructing the expression of transcription factors to regulate progenitor fate transition,” Kwan explained. </p><p>“By simply adjusting the strength of certain extrinsic signalling cues, it is already possible to modulate the competence of neural progenitors,” he said. The finding points to the potential in engineering neural progenitors for therapeutic purposes through the manipulation of extrinsic cues. The researchers are now taking a further step to assess this feasibility.</p><p><br></p><p><br></p><p><i>Professor Kin-ming Kwan is Associate Dean (Education), Associate Professor, and Director of the Natural Sciences Programme in the Faculty of Science at the Chinese University of Hong Kong (CUHK). He received undergraduate and doctoral training at the University of Hong Kong, and postdoctoral training at the University of Texas MD Anderson Cancer Center in the United States. He joined CUHK in 2006, where he has been investigating the genetic regulation of neuronal cell development in the cerebellum and its relationship to stem cell renewal and neuronal cell regeneration. He received the CUHK Young Researcher Award in 2008 and CUHK Science Faculty Teaching Award in 2009 and 2013. He was awarded a Croucher Scholarship in 1991. </i></p><p><br></p><p>To view Professor Kwan’s Croucher profile, please click <a href=\\"https://scholars.croucher.org.hk/scholars/kwan-kin-ming\\">here</a>.&nbsp;</p>","byline":null,"summary":"A research team led by Professor Kin-ming Kwan has provided significant new insights for stem cell biology and regeneration of neuronal cells.\\n","excerpt":"A research team led by Professor Kin-ming Kwan has provided significant new insights for stem cell biology and regeneration of neuronal cells.\\nOur brain is built up from tens of billions of neurons. These neurons are categorised into different subtypes, each with unique cellular characteristics and a specialised function. Neurons are differentiated from neural stem cells by undergoing temporal transition of fate specification.During central nervous system development, neural stem cells determine which ty...","terms":null,"home":false,"nav":false,"nav_name":null,"nav_position":718,"created_at":"2020-08-09T18:44:33.000+08:00","updated_at":"2020-08-09T18:44:33.000+08:00","published_at":"2020-07-21T11:48:46.000+08:00","url":"http://pub.croucher.dev/news/uncovering-the-mechanism-for-neural-progenitor-competence-regulation"}}}');var ge=n(9755);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oe(e,t)}function Se(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xe(e)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ke(r);if(o){var n=ke(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Se(this,e)});function s(){var e;we(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).build=e.build.bind(xe(e)),e.publish=e.publish.bind(xe(e)),e.publishSucceeded=e.publishSucceeded.bind(xe(e)),e.publishFailed=e.publishFailed.bind(xe(e)),e.isPublished=e.isPublished.bind(xe(e)),e.setPublicationStatus=e.setPublicationStatus.bind(xe(e)),e.setSlug=e.setSlug.bind(xe(e)),e}return t=s,n=[{key:"build",value:function(){this.terms=new ve,this.on("change:terms",this.getTerms),this.terms.on("add remove reset",this.setTerms.bind(this)),this.on("change:title",this.setSlug.bind(this)),this.on("change:updated_at change:published_at",this.setPublicationStatus.bind(this)),this.on("change:collapsed",this.storeDisplayState.bind(this)),this.setPublicationStatus()}},{key:"load",value:function(){if("sandbox"===this.id){this.log("LOADING SANDBOX PAGE");var e=this.parse(me);this.set(e),this.loaded(e)}else this._loading||this.isLoaded()||(this._loading=!0,this._loader=this.fetch({error:this.notLoaded}).done(this.loaded));return this._loaded.promise()}},{key:"setSlug",value:function(){var e=this.get("title"),t=this.previous("title"),n=this.get("slug");n?t&&n===S(t)&&this.set("slug",S(e)):this.set("slug",S(e))}},{key:"getTerms",value:function(e,t,n){n.localReset||e.terms.resetFromList(t)}},{key:"setTerms",value:function(){var e=this.terms.termList();this.set("terms",e,{localReset:!0})}},{key:"children",value:function(){return this.collection.where({parent_id:this.id})}},{key:"toggleCollapse",value:function(){this.get("collapsed")?this.uncollapse():this.collapse()}},{key:"collapse",value:function(){this.concealChildren(),this.set("collapsed",!0)}},{key:"uncollapse",value:function(){this.revealChildren(),this.set("collapsed",!1)}},{key:"concealChildren",value:function(){this.children().forEach((function(e){return e.conceal()}))}},{key:"revealChildren",value:function(){this.children().forEach((function(e){return e.reveal()}))}},{key:"storeDisplayState",value:function(){var e=this.id.toString(),t=(localStorage.getItem("collapsed_pages")||"").split(","),n=this.get("collapsed"),r=t.indexOf(e);n&&-1===r?t.push(e):!n&&r>-1&&t.splice(r,1),localStorage.setItem("collapsed_pages",t.join(","))}},{key:"publish",value:function(){var e=this.url(),t=ge.ajax({url:"".concat(e,"/publish"),method:"PUT"});return t.done(this.publishSucceeded).fail(this.publishFailed),t}},{key:"publishSucceeded",value:function(e){var t=this.parse(e);this.set(t),w(y("affirmations.page_published"))}},{key:"publishFailed",value:function(e){this.complain("Error ".concat(e.status,": ").concat(e.responseText))}},{key:"isPublished",value:function(){return!this.get("unpublished")}},{key:"setPublicationStatus",value:function(){this.get("published_at")?(this.set("unpublished",!1),this.set("outofdate",this.get("updated_at")>this.get("published_at"))):(this.set("unpublished",!0),this.set("outofdate",!0))}}],n&&_e(t.prototype,n),s}($);je.prototype.singularName="page",je.prototype.pluralName="pages",je.prototype.savedAttributes=["slug","title","masthead","content","byline","summary","style","private","terms","parent_id","page_collection_id","page_category_id","image_id"],je.prototype.defaults={busy:!1,style:"heroic",depth:0,populated:!1,parental:!1,collapsed:!1,concealed:!1};const Ee=je;var Re=n(9050);function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ae(e,t)}function De(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}var Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ne(r);if(o){var n=Ne(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return De(this,e)});function s(){return Te(this,s),i.apply(this,arguments)}return t=s,n=[{key:"rootPage",value:function(){return this.findWhere({home:!0})||this.findWhere({parent_id:null})}},{key:"buildTree",value:function(){var e=this,t={};this.each((function(e){var n=e.get("parent_id")||"none";t[n]||(t[n]=[]),t[n].push(e)}));var n=t.none||[],r=0;n.forEach((function(n){r=e.buildBranch(n,r,0,t)})),this.sort()}},{key:"buildBranch",value:function(e,t,n,r){var o=this,i=t||0,s=n||0;return e.set({position:i,depth:s}),r[e.id]&&Re.sortBy(r[e.id],(function(e){return e.get("title")})).forEach((function(e){i=o.buildBranch(e,i+1,s+1,r)})),i+1}}],n&&Ce(t.prototype,n),s}(oe);Be.class_key="pages",Be.prototype.model=Ee,Be.prototype.singularName="page",Be.prototype.pluralName="pages",Be.prototype.comparator="position";const Ve=Be;function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){return Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Le(e,t)}function $e(e,t){if(t&&("object"===Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=qe(t);if(n){var o=qe(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return $e(this,e)});function o(){return Ie(this,o),r.apply(this,arguments)}return o}($);He.prototype.singularName="page_category",He.prototype.pluralName="page_categories",He.prototype.savedAttributes=[];const Fe=He;function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){return We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},We(e,t)}function Ge(e,t){if(t&&("object"===ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}var Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Je(t);if(n){var o=Je(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Ge(this,e)});function o(){return Ue(this,o),r.apply(this,arguments)}return o}(oe);Ke.class_key="page_categories",Ke.prototype.model=Fe,Ke.prototype.singularName="page_category",Ke.prototype.pluralName="page_categories";const Xe=Ke;function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){return Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ze(e,t)}function et(e,t){if(t&&("object"===Ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=tt(t);if(n){var o=tt(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return et(this,e)});function o(){return Qe(this,o),r.apply(this,arguments)}return o}($);nt.prototype.singularName="page_collection",nt.prototype.pluralName="page_collections",nt.prototype.savedAttributes=[];const rt=nt;function ot(e){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ot(e)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){return st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},st(e,t)}function ct(e,t){if(t&&("object"===ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function at(e){return at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},at(e)}var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=at(t);if(n){var o=at(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return ct(this,e)});function o(){return it(this,o),r.apply(this,arguments)}return o}(oe);ut.class_key="page_collections",ut.prototype.model=rt,ut.prototype.singularName="page_collection",ut.prototype.pluralName="page_collections";const lt=ut;function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dt(e,t)}function yt(e,t){if(t&&("object"===ft(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vt(e)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}var gt=/^https?:\/\/([\w\-_]+\.)+\w*/i,bt=/(jpeg|jpg|gif|png)$/i,wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mt(r);if(o){var n=mt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yt(this,e)});function s(){var e;pt(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).build=e.build.bind(vt(e)),e.resetUploads=e.resetUploads.bind(vt(e)),e.getThumbs=e.getThumbs.bind(vt(e)),e.getAspect=e.getAspect.bind(vt(e)),e.setProgressThumb=e.setProgress.bind(vt(e)),e.isPopulated=e.isPopulated.bind(vt(e)),e.resizeImage=e.resizeImage.bind(vt(e)),e}return t=s,(n=[{key:"build",value:function(){this.on("change:width change:height",this.getAspect),this.getAspect(),this.on("change:file_data",this.getThumbs),this.getThumbs(),this.on("change:progress",this.setProgressThumb),this.checkImportable(),this.on("change:remote_url",this.checkImportable)}},{key:"checkImportable",value:function(){var e=this.get("remote_url");if(!e)return this.set({importable:!1,importmessage:y("validation.url_required")}),!1;if(gt.test(e)){if(bt.test(e)){var t=y("validation.image_url_ok");return this.set({importable:!0,importmessage:'<a href="'.concat(e,'" class="check" target="_blank">').concat(t,"</a>")}),!0}return this.set({importable:!1,importmessage:y("validation.url_not_img")}),!1}return this.set({importable:!1,importmessage:y("validation.url_required")}),!1}},{key:"resetUploads",value:function(){this.unset("file_data")}},{key:"getThumbs",value:function(){var e=this;this.get("file_data")&&(this._preload_img=document.createElement("img"),this._preload_img.onload=function(){e.set({width:e._preload_img.width,height:e._preload_img.height,preload_url:e.resizeImage(32),thumb_url:e.resizeImage(128)})},this._preload_img.src=this.get("file_data"))}},{key:"setProgressThumb",value:function(){if(this.get("progress")&&this.get("width")){var e=256*Math.pow(this.get("progress"),2);this.set({preload_url:this.resizeImage(e)})}else this.unset("preload_url")}},{key:"getAspect",value:function(){var e=this.get("width"),t=this.get("height");e&&t&&this.set({portrait:t>e,aspect_ratio:e/t})}},{key:"isPopulated",value:function(){return this.has("file_url")||this.has("file_data")}},{key:"resizeImage",value:function(e){var t,n=e||48,r=document.createElement("canvas"),o=this._preload_img;if(o){var i=r.getContext("2d");o.height>o.width?t=n*(o.height/o.width):n=(t=n)*(o.width/o.height),r.width=n,r.height=t,i.drawImage(o,0,0,n,t)}return r.toDataURL("image/png")}}])&&ht(t.prototype,n),s}($);wt.prototype.singularName="image",wt.prototype.pluralName="images",wt.prototype.savedAttributes=["title","file_data","file_name","remote_url","width","height"],wt.prototype.uploadProgress=!0,wt.prototype.defaults={asset_type:"image",importable:!1,populated:!1};const _t=wt;function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){return xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xt(e,t)}function kt(e,t){if(t&&("object"===Ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jt(e){return jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jt(e)}var Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=jt(t);if(n){var o=jt(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return kt(this,e)});function o(){return St(this,o),r.apply(this,arguments)}return o}(oe);Et.class_key="images",Et.prototype.model=_t,Et.prototype.singularName="image",Et.prototype.pluralName="images";const Rt=Et;function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t){return At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},At(e,t)}function Dt(e,t){if(t&&("object"===Pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nt(e)}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e){return Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bt(e)}var Vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bt(r);if(o){var n=Bt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Dt(this,e)});function s(){var e;Tt(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).isPopulated=e.isPopulated.bind(Nt(e)),e}return t=s,(n=[{key:"isPopulated",value:function(){return this.has("file_url")||this.has("file_data")}}])&&Ct(t.prototype,n),s}($);Vt.prototype.singularName="document",Vt.prototype.pluralName="documents",Vt.prototype.savedAttributes=["title","caption","file_data","file_name","remote_url"],Vt.prototype.uploadProgress=!0,Vt.prototype.defaults={asset_type:"document",populated:!1};const Mt=Vt;function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){return $t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$t(e,t)}function qt(e,t){if(t&&("object"===It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}var Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Ht(t);if(n){var o=Ht(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return qt(this,e)});function o(){return Lt(this,o),r.apply(this,arguments)}return o}(oe);Ft.class_key="documents",Ft.prototype.model=Mt,Ft.prototype.singularName="document",Ft.prototype.pluralName="documents";const zt=Ft;function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jt(e,t)}function Kt(e,t){if(t&&("object"===Ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xt(e)}function Xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e){return Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yt(e)}var Qt=/^https?:\/\/\w+\.\w*/i,Zt=/(youtube|vimeo|dailymotion|wistia)/i,en=/^[a-zA-Z0-9_-]{11}$/,tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yt(r);if(o){var n=Yt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Kt(this,e)});function s(){var e;Wt(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).isPopulated=e.isPopulated.bind(Xt(e)),e}return t=s,(n=[{key:"build",value:function(){this.checkImportable(),this.on("change:remote_url",this.checkImportable)}},{key:"isPopulated",value:function(){return this.has("file_url")||this.has("remote_url")||this.has("embed")}},{key:"checkImportable",value:function(){var e=this.get("remote_url");if(!e)return this.set({importable:!1,importmessage:y("validation.url_or_yt_required")}),!1;if(Qt.test(e)&&Zt.test(e)){var t=y("validation.video_url_ok");return this.set({importable:!0,importmessage:'<a href="'.concat(e,'" class="check" target="_blank">').concat(t,"</a>")}),!0}if(11===e.length&&en.test(e)){var n=y("validation.yt_ok"),r="https://youtu.be/".concat(e);return this.set({importable:!0,importmessage:"".concat(n,' <a href="').concat(r,'" class="check" target="_blank">').concat(r,"</a>")}),!0}return this.set({importable:!1,importmessage:y("validation.url_or_yt_required")}),!1}}])&&Gt(t.prototype,n),s}($);tn.prototype.singularName="video",tn.prototype.pluralName="videos",tn.prototype.savedAttributes=["title","caption","file_data","file_name","file_type","remote_url"],tn.prototype.uploadProgress=!0,tn.prototype.defaults={asset_type:"video",importable:!1,populated:!1};const nn=tn;function rn(e){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(e)}function on(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sn(e,t){return sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sn(e,t)}function cn(e,t){if(t&&("object"===rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function an(e){return an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},an(e)}var un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sn(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=an(t);if(n){var o=an(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return cn(this,e)});function o(){return on(this,o),r.apply(this,arguments)}return o}(oe);un.class_key="videos",un.prototype.model=nn,un.prototype.singularName="video",un.prototype.pluralName="videos";const ln=un;var fn={};function pn(e){var t=e.key();return fn[t]||(fn[t]=new e,fn[t].isLibraryCollection=!0),fn[t]}function hn(){return pn(lt)}var dn=["[data-cms]",".cms-controls",".cms-embed-controls",".cms-page-controls"],yn=["contenteditable","data-placeholder","data-medium-editor-element","data-medium-editor-editor-index","data-medium-focused","medium-editor-index","role","spellcheck","aria-multiline"],vn=["medium-editor-element","cms-shimmy","animate","cms-page-list"];function mn(e){var t=document.createElement("div");t.append(e.cloneNode(!0));var n=dn.join(", ");t.querySelectorAll(n).forEach((function(e){e.remove()}));var r=yn.map((function(e){return"[".concat(e,"]")})).join(", ");t.querySelectorAll(r).forEach((function(e){yn.forEach((function(t){return e.removeAttribute(t)}))}));var o=vn.map((function(e){return".".concat(e)})).join(", ");return t.querySelectorAll(o).forEach((function(e){vn.forEach((function(t){return e.classList.remove(t)}))})),t.firstChild}function gn(e){return mn(e).outerHTML}function bn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.trim();if(!t)return"";var n=document.createElement("div");return n.innerHTML=t,n.innerText}var wn=n(9050);function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}function On(e,t){return jn(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||xn(e,t)||Sn()}function Sn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xn(e,t){if(e){if("string"==typeof e)return kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(e,t):void 0}}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jn(e){if(Array.isArray(e))return e}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t){return Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pn(e,t)}function Tn(e,t){if(t&&("object"===_n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cn(e)}var An=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Cn(r);if(o){var n=Cn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Tn(this,e)});function s(){return En(this,s),i.apply(this,arguments)}return t=s,n=[{key:"onRender",value:function(){this.model&&this.stickit(),this.triggerMethod("after:render",this)}},{key:"_renderHtml",value:function(e,t){return e?wn.isFunction(e)?e(t):e:""}},{key:"contentChange",value:function(){this.trigger("updated")}},{key:"cleanCopy",value:function(){return mn(this.el)}},{key:"cleanCopyIfPopulated",value:function(){return this.isPopulated()?mn(this.el):null}},{key:"isPopulated",value:function(){return this.model&&this.model.get("populated")}},{key:"cleanContent",value:function(){return gn(this.el)}},{key:"textOnly",value:function(e){return bn(e)}},{key:"untrue",value:function(e){return!e}},{key:"ifAbsent",value:function(e){return!e}},{key:"ifPresent",value:function(e){return!!e}},{key:"thisOrThat",value:function(e){var t=On(e,2),n=t[0],r=t[1];return n||r}},{key:"thisAndThat",value:function(e){var t=On(e,2),n=t[0],r=t[1];return n&&!!r}},{key:"thisButNotThat",value:function(e){var t=On(e,2),n=t[0],r=t[1];return n&&!r}},{key:"thatIfThis",value:function(e){var t=On(e,2),n=t[0],r=t[1];return n&&r}},{key:"allOfThese",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.find((function(e){return!e}))}},{key:"anyOfThese",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e.find((function(e){return e}))}},{key:"noneOfThese",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!e.find((function(e){return e}))}},{key:"thisButNotThose",value:function(e){var t,n=jn(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||xn(t)||Sn(),r=n[0],o=n.slice(1);return r&&!o.find((function(e){return e}))}},{key:"inBytes",value:function(e){if(e){if(e>1048576){var t=Math.floor(e/10485.76)/100;return"".concat(t,"MB")}var n=Math.floor(e/1024);return"".concat(n,"KB")}return""}},{key:"inPixels",value:function(e){return"".concat(e||0,"px")}},{key:"inTime",value:function(e){if(e){var t=parseInt(e,10);if(t>=3600){var n=Math.floor(t/60);return[Math.floor(n/60),n%60,t%60].join(":")}return[Math.floor(t/60),t%60].join(":")}return"0:00"}},{key:"asPercentage",value:function(e){return"".concat(e||0,"%")}},{key:"percentageStyleWidth",value:function(e){var t=Math.round(1e4*e)/100,n=this.asPercentage(t);return"width: ".concat(n)}},{key:"providerClass",value:function(e){return"YouTube"===e?"yt":""}},{key:"justDate",value:function(e){return e&&e.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),null}},{key:"justDateNoYear",value:function(e){return e?e.toLocaleDateString(void 0,{month:"short",day:"numeric"}):null}},{key:"numericalDate",value:function(e){return e?e.toLocaleDateString():null}},{key:"publicationDate",value:function(e){var t=On(e,2),n=t[0],r=t[1],o=n||r;return o?this.justDate(o):null}},{key:"socialSymbolName",value:function(e){return"#".concat(e,"_symbol")}},{key:"visibleWithFade",value:function(e,t){t&&!e.is(":visible")?e.fadeIn():e.is(":visible")&&e.fadeOut()}},{key:"visibleAsBlock",value:function(e,t){t?e.css("display","block"):e.css("display","none")}},{key:"containEvent",value:function(e){e&&(e.stopPropagation(),e.preventDefault())}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];j.apply(void 0,["[".concat(this.constructor.name,"]")].concat(t))}}],n&&Rn(t.prototype,n),s}(p.View);An.prototype.templateContext=d;const Dn=An;function Nn(e){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(e)}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t){return Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Mn(e,t)}function In(e,t){if(t&&("object"===Nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ln(e){return Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ln(e)}var $n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ln(r);if(o){var n=Ln(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return In(this,e)});function s(){return Bn(this,s),i.apply(this,arguments)}return t=s,n=[{key:"onRender",value:function(){this.model&&this.stickit(),this.triggerMethod("after:render",this)}},{key:"cleanContent",value:function(){return this.cleanCopy().outerHTML}},{key:"cleanCopy",value:function(){return mn(this.el)}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];j.apply(void 0,["[".concat(this.constructor.name,"]")].concat(t))}}],n&&Vn(t.prototype,n),s}(p.CollectionView);$n.prototype.templateContext=d,$n.prototype.tagName="ul";const qn=$n;function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Un(e,t){return Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Un(e,t)}function Wn(e,t){if(t&&("object"===Hn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gn(e)}function Gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jn(e){return Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jn(e)}var Kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Jn(r);if(o){var n=Jn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wn(this,e)});function s(){var e;Fn(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).addEmbed=e.addEmbed.bind(Gn(e)),e.removeEmbed=e.removeEmbed.bind(Gn(e)),e.focus=e.focus.bind(Gn(e)),e}return t=s,n=[{key:"addEmbed",value:function(e){e&&e.preventDefault(),this.collection.add({})}},{key:"removeEmbed",value:function(e){this.collection.remove(e),this.render()}},{key:"replaceEmbed",value:function(e,t){var n=this.collection.indexOf(e.model),r=e.model;t.checkChanges(),this.collection.add(t,{at:n}),this.collection.remove(r),this.contentChange()}},{key:"focus",value:function(){}},{key:"contentChange",value:function(){this.trigger("updated")}}],n&&zn(t.prototype,n),s}(qn);Kn.prototype.tagName="div",Kn.prototype.ui={add:"a.add"},Kn.prototype.events={"click @ui.add":"addEmbed"},Kn.prototype.childViewEvents={updated:"contentChange",removed:"removeEmbed","set:model":"replaceEmbed"};const Xn=Kn;var Yn=n(6944),Qn=n.n(Yn),Zn=n(9755);function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.el=t.get(0),this.callbacks=n||{},this.holder=t.find(".cms-slide-holder"),this.slides=t.find(".cms-slide"),this.touchstartx=void 0,this.touchmovex=void 0,this.movex=void 0,this.index=0,this.max=0,this.maxDrag=0,this.longTouch=void 0,this.mode="horizontal",this._goToEndOnUpdate=!1,this.init=this.init.bind(this),this.getSlides=this.getSlides.bind(this),this.movePrev=this.movePrev.bind(this),this.moveNext=this.moveNext.bind(this),this.panTo=this.panTo.bind(this),this.setAspect=this.setAspect.bind(this),new ResizeObserver(this.setAspect).observe(this.container.get(0)),new MutationObserver(this.getSlides).observe(this.holder.get(0),{childList:!0})}var t,n;return t=e,(n=[{key:"init",value:function(){this.holder.on("touchstart",this.touchStart.bind(this)),this.holder.on("touchmove",this.touchMove.bind(this)),this.holder.on("touchend",this.touchEnd.bind(this)),this.setAspect(),this.getSlides()}},{key:"getSlides",value:function(){this.slides=this.container.find(".cms-slide"),this.max=this.slides.length-1,this.slideWidth&&(this.maxDrag=this.max*this.slideWidth),this._goToEndOnUpdate&&(this.panTo(this.max),this._goToEndOnUpdate=!1)}},{key:"setAspect",value:function(){var e=this.el.getBoundingClientRect();e.width/e.height<.4?("vertical"!==this.mode&&j("🎪 slideshow goes vertical"),this.mode="vertical",this.el.parentElement.classList.add("vertical")):"vertical"===this.mode&&(this.mode="horizontal",this.el.parentElement.classList.remove("vertical")),this.slideWidth=e.width,this.maxDrag=this.max*this.slideWidth}},{key:"movePrev",value:function(){this.panTo(this.index-1)}},{key:"moveNext",value:function(){this.panTo(this.index+1)}},{key:"moveToEndWhenUpdated",value:function(){this._goToEndOnUpdate=!0}},{key:"panTo",value:function(e){e>=0&&e<=this.max&&(this.holder.addClass("animate").css("transform","translate3d(-".concat(e*this.slideWidth,"px,0,0)")),this.index=e,this.callbacks.onMove&&this.callbacks.onMove(this.index))}},{key:"revert",value:function(){this.panTo(this.index)}},{key:"reset",value:function(){this.panTo(0)}},{key:"touchStart",value:function(e){var t=this;this.longTouch=!1,setTimeout(function(){t.longTouch=!0}.bind(this),250),this.touchstartx=e.originalEvent.touches[0].pageX,Zn(".bump").removeClass("bump right left"),Zn(".animate").removeClass("animate")}},{key:"touchMove",value:function(e){this.touchmovex=e.originalEvent.touches[0].pageX,this.movex=this.index*this.slideWidth+(this.touchstartx-this.touchmovex),this.movex<0?this.movex=-2*Math.sqrt(Math.abs(this.movex)):this.movex>this.maxDrag&&(this.movex=this.maxDrag+2*Math.sqrt(Math.abs(this.movex-this.maxDrag))),this.holder.css("transform","translate3d(".concat(-this.movex,"px,0,0)"))}},{key:"touchEnd",value:function(){var e,t=Math.abs(this.index*this.slideWidth-this.movex)>this.slideWidth/3||!1===this.longTouch;e=this.movex>this.index*this.slideWidth?"right":this.movex<this.index*this.slideWidth?"left":"unmoved",t&&"right"===e&&this.index<this.max?this.moveNext():t&&"left"===e&&this.index>0?this.movePrev():this.revert()}}])&&er(t.prototype,n),e}();function nr(e){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(e)}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function or(e,t){return or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},or(e,t)}function ir(e,t){if(t&&("object"===nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sr(e){return sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sr(e)}var cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=sr(t);if(n){var o=sr(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return ir(this,e)});function o(){return rr(this,o),r.apply(this,arguments)}return o}($);cr.prototype.singularName="imageResizer",cr.prototype.pluralName="imageResizers",cr.prototype.savedAttributes=[],cr.prototype.defaults={asset_type:"imageResizer",alignment:"center",size:""};const ar=cr;function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pr(e,t)}function hr(e,t){if(t&&("object"===ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dr(e)}function dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yr(e){return yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yr(e)}var vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yr(r);if(o){var n=yr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return hr(this,e)});function s(){var e;lr(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onAfterRender=e.onAfterRender.bind(dr(e)),e.focus=e.focus.bind(dr(e)),e.setModel=e.setModel.bind(dr(e)),e.onSetModel=e.onSetModel.bind(dr(e)),e.isPopulated=e.isPopulated.bind(dr(e)),e}return t=s,n=[{key:"onAfterRender",value:function(){var e=this,t=this.getOption("controlView");t&&(this.controlView=new t({model:this.model}),this.showChildView("controls",this.controlView),this.controlView.on("replaced",(function(t){return e.setModel(t)})),this.controlView.on("removed",(function(){return e.removeModel()})),this.isPopulated()||this.controlView.open())}},{key:"focus",value:function(){}},{key:"setModel",value:function(e){this.model!==e&&this.triggerMethod("set:model",this,e)}},{key:"onSetModel",value:function(e,t){this.model=t,this.controlView&&this.controlView.reset(),this.stickit()}},{key:"removeModel",value:function(){this.trigger("removed",this.model)}},{key:"isSaved",value:function(){return this.model&&!this.model.isNew()}},{key:"cleanContent",value:function(){return this.isPopulated()?this.cleanCopy().outerHTML:""}}],n&&fr(t.prototype,n),s}(Dn);vr.prototype.tagName="figure",vr.prototype.regions={controls:".cms-embed-controls"};const mr=vr;var gr=n(8922),br=n.n(gr);function wr(e){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(e)}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t){return Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Sr(e,t)}function xr(e,t){if(t&&("object"===wr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kr(e)}function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jr(e){return jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jr(e)}var Er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jr(r);if(o){var n=jr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xr(this,e)});function s(){var e;_r(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).initialize=e.initialize.bind(kr(e)),e.place=e.place.bind(kr(e)),e.onAfterRender=e.onAfterRender.bind(kr(e)),e}return t=s,(n=[{key:"onAfterRender",value:function(){var e=this.getOption("contentView");e&&this.showChildView("content",new e({model:this.model}))}},{key:"toggle",value:function(e){e&&e.preventDefault(),this.showing()?this.close():this.open()}},{key:"showing",value:function(){return this.$el.hasClass("open")}},{key:"open",value:function(){this.el.classList.add("open"),window.ub=this.ui.body,this.ui.body.slideDown(),this.triggerMethod("open")}},{key:"close",value:function(){this.$el.removeClass("open"),this.triggerMethod("close")}},{key:"place",value:function(){var e=this.ui.head.position(),t=this.ui.head.width(),n=e.left+t/2,r=e.top+t/2;this.ui.body.css({top:r,left:n})}}])&&Or(t.prototype,n),s}(Dn);Er.prototype.className="div",Er.prototype.className="cms-menu",Er.prototype.regions={content:".cms-menu-content"},Er.prototype.ui={head:".cms-menu-head",body:".cms-menu-body",close:"a.close"},Er.prototype.events={"click @ui.head":"toggle","click @ui.close":"close"};const Rr=Er;var Pr=n(639),Tr=n.n(Pr);function Cr(e){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cr(e)}function Ar(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nr(e,t)}function Br(e,t){if(t&&("object"===Cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vr(e){return Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vr(e)}var Mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nr(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vr(r);if(o){var n=Vr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Br(this,e)});function s(){return Ar(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"onAfterRender",value:function(){var e=this.model.singularName;this.ui.symbol.attr("href","/spritemap.svg#sprite-".concat(e,"_button")),this.ui.icon.addClass(e)}},{key:"styleWidth",value:function(e){return"width: ".concat(100*e,"%")}},{key:"cancelUpload",value:function(e){e&&e.preventDefault(),this.model.cancelSave()}},{key:"progressComplete",value:function(e){return e&&e>=.999}},{key:"progressIncomplete",value:function(e){return e&&e<.999}}])&&Dr(t.prototype,n),s}(Dn);Mr.prototype.template=Tr(),Mr.prototype.tagName="div",Mr.prototype.ui={icon:"svg.file",symbol:"svg.file use"},Mr.prototype.events={"click a.cancel":"cancelUpload"},Mr.prototype.bindings={"span.job_status":"status","span.percentage":"progress","span.file_name":"file_name","span.bar":{attributes:[{name:"style",observe:"progress",onGet:"styleWidth"}]},".uploading":{observe:"progress",visible:"progressIncomplete"},".uploaded":{observe:"progress",visible:"progressComplete"}};const Ir=Mr;function Lr(e,t){if(e){var n=new FileReader;n.onloadend=function(){return t(n.result,e)},n.readAsDataURL(e)}}function $r(e){return $r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(e)}function qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e,t){return Fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fr(e,t)}function zr(e,t){if(t&&("object"===$r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ur(e)}function Ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wr(e){return Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wr(e)}var Gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fr(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wr(r);if(o){var n=Wr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return zr(this,e)});function s(){var e;qr(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).initialize=e.initialize.bind(Ur(e)),e.reset=e.reset.bind(Ur(e)),e.onAfterRender=e.onAfterRender.bind(Ur(e)),e.showImporter=e.showImporter.bind(Ur(e)),e.showReuser=e.showReuser.bind(Ur(e)),e.showActionView=e.showActionView.bind(Ur(e)),e.showOptions=e.showOptions.bind(Ur(e)),e.showResizerInputs=e.showResizerInputs.bind(Ur(e)),e.enableOptions=e.enableOptions.bind(Ur(e)),e.selectedModel=e.selectedModel.bind(Ur(e)),e.createdModel=e.createdModel.bind(Ur(e)),e.replacedModel=e.replacedModel.bind(Ur(e)),e.filePicked=e.filePicked.bind(Ur(e)),e.observeDrops=e.observeDrops.bind(Ur(e)),e.ignoreDrops=e.ignoreDrops.bind(Ur(e)),e.expectDrop=e.expectDrop.bind(Ur(e)),e.stopExpectingDrop=e.stopExpectingDrop.bind(Ur(e)),e.fileDropped=e.fileDropped.bind(Ur(e)),e.buildModel=e.buildModel.bind(Ur(e)),e}return t=s,n=[{key:"initialize",value:function(){this.collection=this.getCollection(),this.collection.on("add remove reset",this.enableOptions.bind(this)),this.collection.load()}},{key:"getCollection",value:function(){}},{key:"reset",value:function(){this.showOptions(),this.close()}},{key:"onAfterRender",value:function(){this.enableOptions(),this.observeDrops()}},{key:"showImporter",value:function(e){e&&e.preventDefault(),this.showActionView(this.importView)}},{key:"showReuser",value:function(e){e&&e.preventDefault(),this.showActionView(this.reuseView)}},{key:"showResizerInputs",value:function(e){e&&e.preventDefault(),console.log("image_chooser > showResizerInputs"),this.showActionView(this.resizerView)}},{key:"showActionView",value:function(e){if(e){var t=new e({collection:this.collection});this.showChildView("action",t),this.ui.options.hide(),this.ui.action.show(),t.on("selected",this.selectedModel),t.on("created",this.createdModel),t.on("replaced",this.replacedModel)}}},{key:"showOptions",value:function(e){e&&e.preventDefault(),this.getRegion("action").reset(),this.getRegion("progress").reset(),this.ui.options.show(),this.ui.action.hide(),this.enableOptions()}},{key:"showProgress",value:function(){this.ui.options.hide(),this.ui.action.hide(),this.showChildView("progress",new Ir({model:this.model}))}},{key:"enableOptions",value:function(){this.isDestroyed()||(this.ui.picker&&(this.collection&&this.collection.length?this.ui.picker.removeClass("unavailable"):this.ui.picker.addClass("unavailable")),this.ui.remover&&(this.isPopulated()?this.ui.remover.removeClass("unavailable"):this.ui.remover.addClass("unavailable")),this.ui.resizer&&(this.isPopulated()?this.ui.resizer.removeClass("unavailable"):this.ui.resizer.addClass("unavailable")))}},{key:"selectedModel",value:function(e){this._original_model=this.model,this.model=e}},{key:"createdModel",value:function(e){this.model=e,this.trigger("replaced",e)}},{key:"replacedModel",value:function(e){this.model=e,this.trigger("replaced",e)}},{key:"focus",value:function(){this.open()}},{key:"onOpen",value:function(){}},{key:"observeDrops",value:function(){this.$el.on("dragenter",this.expectDrop)}},{key:"ignoreDrops",value:function(){this.$el.off("dragenter",this.expectDrop)}},{key:"expectDrop",value:function(){this.$el.addClass("over"),this.$el.on("dragleave",this.stopExpectingDrop),this.$el.on("dragover",this.enhanceDragAndDropStupidLevel),this.$el.on("drop",this.fileDropped)}},{key:"stopExpectingDrop",value:function(){this.$el.removeClass("over"),this.$el.off("dragleave",this.abandonDrop),this.$el.off("dragover",this.enhanceDragAndDropStupidLevel),this.$el.off("drop",this.fileDropped)}},{key:"enhanceDragAndDropStupidLevel",value:function(e){e&&(e.preventDefault(),e.originalEvent&&e.originalEvent.dataTransfer&&(e.originalEvent.dataTransfer.dropEffect="copy"))}},{key:"fileDropped",value:function(e){e&&(e.preventDefault(),e.stopPropagation(),function(e,t){e&&e.dataTransfer&&e.dataTransfer.files.length&&Lr(e.dataTransfer.files[0],t)}(e.originalEvent,this.buildModel)),this.stopExpectingDrop()}},{key:"filePicked",value:function(){var e,t;e=this.ui.file[0],t=this.buildModel,Lr(e.files[0],t)}},{key:"buildModel",value:function(e,t){var n=this,r=this.attributesFromFile(t);r.file_data=e;var o=this.collection.add(r,{at:0});o.isValid()?(this.selectedModel(o),this.showProgress(),this.model.save().done((function(){n.createdModel(o)})).fail((function(){n._original_model&&(n.model=n._original_model),o.discard(),n.showOptions()}))):(o.discard(),_(o.get("invalidity")))}},{key:"attributesFromFile",value:function(e){return{file_name:e.name}}},{key:"removeWithConfirmation",value:function(e){e&&e.preventDefault(),this.trigger("removed")}},{key:"reportClick",value:function(e){this.log("label click",e.target,e.currentTarget)}}],n&&Hr(t.prototype,n),s}(Rr);Gr.prototype.tagName="div",Gr.prototype.className="cms-chooser",Gr.prototype.ui={head:".cms-chooser-head",prompt:".cms-chooser-prompt",body:".cms-chooser-body",close:"a.close",options:".options",importer:"a.import",picker:"a.reuse",remover:"a.remove",resizer:"a.resize",file:"input.upload",action:".action"},Gr.prototype.events={"click label":"reportClick","click @ui.head":"toggle","click @ui.prompt":"open","click @ui.close":"close","click @ui.importer":"showImporter","click @ui.picker":"showReuser","click @ui.remover":"removeWithConfirmation","click @ui.resizer":"showResizerInputs","click a.back":"showOptions","change @ui.file":"filePicked"},Gr.prototype.regions={action:".action",progress:".progress",resizerInputs:".resizerInputs"};const Jr=Gr;var Kr=n(2288),Xr=n.n(Kr);function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function Qr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eo(e,t){return eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},eo(e,t)}function to(e,t){if(t&&("object"===Yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return no(e)}function no(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ro(e){return ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ro(e)}var oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ro(r);if(o){var n=ro(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return to(this,e)});function s(){var e;Qr(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).importModel=e.importModel.bind(no(e)),e.disableForm=e.disableForm.bind(no(e)),e}return t=s,(n=[{key:"onBeforeRender",value:function(){var e=this.modelClass;e&&(this.model=new e)}},{key:"importModel",value:function(){var e=this;this.model.get("importable")&&(this.disableForm(),this.model.save().done((function(){return e.trigger("created",e.model)})))}},{key:"disableForm",value:function(){this.ui.url.attr("disabled",!0),this.ui.button.addClass("waiting")}}])&&Zr(t.prototype,n),s}(Dn);oo.prototype.tagName="div",oo.prototype.className="cms-importer",oo.prototype.ui={url:'input[name="remote_url"]',button:"a.submit",waiter:"p.waiter"},oo.prototype.events={"click @ui.button":"importModel"},oo.prototype.bindings={'input[name="remote_url"]':{observe:"remote_url"},".url_check":{observe:"importmessage",updateMethod:"html"},"a.submit":{classes:{available:"importable"}}};const io=oo;var so=n(3172),co=n.n(so);function ao(e){return ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(e)}function uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lo(e,t){return lo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lo(e,t)}function fo(e,t){if(t&&("object"===ao(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function po(e){return po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},po(e)}var ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lo(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=po(t);if(n){var o=po(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return fo(this,e)});function o(){return uo(this,o),r.apply(this,arguments)}return o}(io);ho.prototype.modelClass=_t,ho.prototype.template=co();const yo=ho;function vo(e){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vo(e)}function mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t){return bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bo(e,t)}function wo(e,t){if(t&&("object"===vo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_o(e)}var Oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bo(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_o(r);if(o){var n=_o(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return wo(this,e)});function s(){return mo(this,s),i.apply(this,arguments)}return t=s,n=[{key:"viewFilter",value:function(e){return e.model&&!e.model.isNew()}},{key:"selectChild",value:function(e){this.trigger("select",e)}}],n&&go(t.prototype,n),s}(qn);Oo.prototype.tagName="ul",Oo.prototype.className="cms-assets",Oo.prototype.childViewEvents={select:"selectChild"};const So=Oo;function xo(e){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(e)}function ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eo(e,t){return Eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Eo(e,t)}function Ro(e,t){if(t&&("object"===xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Po(e)}function Po(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function To(e){return To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},To(e)}var Co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eo(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=To(r);if(o){var n=To(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ro(this,e)});function s(){var e;ko(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onRender=e.onRender.bind(Po(e)),e.unfilterCollection=e.unfilterCollection.bind(Po(e)),e.selectModel=e.selectModel.bind(Po(e)),e}return t=s,n=[{key:"initialize",value:function(){this.model=this.collection.getState()}},{key:"onRender",value:function(){this.stickit();var e=this.getOption("listView");if(e){var t=new e({collection:this.collection});this.showChildView("list",t),t.on("select",this.selectModel.bind(this))}}},{key:"unfilterCollection",value:function(e){e&&e.preventDefault(),this.model.set("q","")}},{key:"selectModel",value:function(e){this.trigger("replaced",e)}}],n&&jo(t.prototype,n),s}(Dn);Co.prototype.tagName="div",Co.prototype.className="cms-picker",Co.prototype.listView=So,Co.prototype.regions={list:".pick"},Co.prototype.ui={q:"input.q",filter:"a.filter",reset:"a.reset",close:"a.close"},Co.prototype.events={"click @ui.filter":"filterCollection","click @ui.reset":"unfilterCollection","click @ui.close":"close"},Co.prototype.bindings={"input.q":"q","a.filter":{observe:"q",visible:"untrue"},"a.reset":{observe:"q",visible:!0}};const Ao=Co;var Do=n(6662),No=n.n(Do);function Bo(e){return Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bo(e)}function Vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t){return Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Io(e,t)}function Lo(e,t){if(t&&("object"===Bo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $o(e)}function $o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qo(e){return qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qo(e)}var Ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qo(r);if(o){var n=qo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lo(this,e)});function s(){var e;Vo(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).deleteModel=e.deleteModel.bind($o(e)),e.selectMe=e.selectMe.bind($o(e)),e.backgroundUrl=e.backgroundUrl.bind($o(e)),e}return t=s,(n=[{key:"deleteModel",value:function(e){null!=e&&e.preventDefault(),this.model.remove()}},{key:"selectMe",value:function(e){e&&e.preventDefault(),this.trigger("select",this.model)}},{key:"backgroundUrl",value:function(e){return e?"background-image: url('".concat(e,"')"):""}}])&&Mo(t.prototype,n),s}(Dn);Ho.prototype.tagName="li",Ho.prototype.className="asset",Ho.prototype.ui={img:"img"},Ho.prototype.events={"click a.delete":"deleteModel","click a.pickme":"selectMe"},Ho.prototype.bindings={"a.preview":{attributes:[{name:"style",observe:"thumb_url",onGet:"backgroundUrl"},{name:"class",observe:"provider",onGet:"providerClass"},{name:"title",observe:"title"}]},".file_size":{observe:"file_size",onGet:"inBytes"},".width":{observe:"width",onGet:"inPixels"},".height":{observe:"height",onGet:"inPixels"},".duration":{observe:"duration",onGet:"inTime"}};const Fo=Ho;var zo=n(6302),Uo=n.n(zo);function Wo(e){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(e)}function Go(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ko(e,t){return Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ko(e,t)}function Xo(e,t){if(t&&("object"===Wo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yo(e){return Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yo(e)}var Qo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ko(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yo(r);if(o){var n=Yo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Xo(this,e)});function s(){return Go(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"styleBackgroundImage",value:function(e){return e?"background-image: url('".concat(e,"')"):""}}])&&Jo(t.prototype,n),s}(Fo);Qo.prototype.template=Uo(),Qo.prototype.tagName="li",Qo.prototype.className="img asset",Qo.prototype.triggers={"click a.pickme":"pick"},Qo.prototype.bindings={"a.thumbnail":{attributes:[{name:"style",observe:"thumb_url",onGet:"styleBackgroundImage"},{name:"title",observe:"title"}]}};const Zo=Qo;var ei=n(275),ti=n.n(ei);function ni(e){return ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ni(e)}function ri(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oi(e,t){return oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oi(e,t)}function ii(e,t){if(t&&("object"===ni(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function si(e){return si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},si(e)}var ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oi(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=si(t);if(n){var o=si(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return ii(this,e)});function o(){return ri(this,o),r.apply(this,arguments)}return o}(p.View);ci.prototype.template=ti(),ci.prototype.templateContext=d,ci.prototype.className="item none";const ai=ci;var ui=n(8461),li=n.n(ui);function fi(e){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(e)}function pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hi(e,t){return hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hi(e,t)}function di(e,t){if(t&&("object"===fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function yi(e){return yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yi(e)}var vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hi(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=yi(t);if(n){var o=yi(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return di(this,e)});function o(){return pi(this,o),r.apply(this,arguments)}return o}(ai);vi.prototype.template=li();const mi=vi;function gi(e){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(e)}function bi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wi(e,t){return wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wi(e,t)}function _i(e,t){if(t&&("object"===gi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Oi(e){return Oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oi(e)}var Si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Oi(t);if(n){var o=Oi(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return _i(this,e)});function o(){return bi(this,o),r.apply(this,arguments)}return o}(mi);const xi=Si;function ki(e){return ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ki(e)}function ji(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ei(e,t){return Ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ei(e,t)}function Ri(e,t){if(t&&("object"===ki(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pi(e){return Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pi(e)}var Ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ei(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Pi(t);if(n){var o=Pi(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Ri(this,e)});function o(){return ji(this,o),r.apply(this,arguments)}return o}(So);Ti.prototype.childView=Zo,Ti.prototype.emptyView=xi;const Ci=Ti;function Ai(e){return Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(e)}function Di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ni(e,t){return Ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ni(e,t)}function Bi(e,t){if(t&&("object"===Ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vi(e){return Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vi(e)}var Mi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ni(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Vi(t);if(n){var o=Vi(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Bi(this,e)});function o(){return Di(this,o),r.apply(this,arguments)}return o}(Ao);Mi.prototype.listView=Ci,Mi.prototype.template=No();const Ii=Mi;function Li(e){return Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Li(e)}function $i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hi(e,t){return Hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hi(e,t)}function Fi(e,t){if(t&&("object"===Li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zi(e){return zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zi(e)}var Ui=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hi(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zi(r);if(o){var n=zi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fi(this,e)});function s(){var e;$i(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).embedImagesEl=document.querySelector(".embed.images"),e}return t=s,(n=[{key:"onBeforeRender",value:function(){}},{key:"resizeImage",value:function(e){var t=e.target.value;console.log("resizeImage",t),document.querySelector(".embed.images").style="--width: ".concat(t,"px")}}])&&qi(t.prototype,n),s}(Dn);Ui.prototype.tagName="section",Ui.prototype.className="resizeInputs",Ui.prototype.ui={width:'input[name="width"]'},Ui.prototype.events={"focusout @ui.width":"resizeImage"},Ui.prototype.bindings={":el":{attributes:[{name:"class",observe:"alignment"}]}};const Wi=Ui;var Gi=n(8356),Ji=n.n(Gi);function Ki(e){return Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(e)}function Xi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yi(e,t){return Yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Yi(e,t)}function Qi(e,t){if(t&&("object"===Ki(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zi(e){return Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Zi(e)}var es=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yi(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Zi(t);if(n){var o=Zi(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Qi(this,e)});function o(){return Xi(this,o),r.apply(this,arguments)}return o}(Wi);es.prototype.modelClass=ar,es.prototype.template=Ji();const ts=es;function ns(e){return ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(e)}function rs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function is(e,t){return is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},is(e,t)}function ss(e,t){if(t&&("object"===ns(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cs(e){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cs(e)}var as=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&is(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=cs(r);if(o){var n=cs(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ss(this,e)});function s(){return rs(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"getCollection",value:function(){return pn(Rt)}}])&&os(t.prototype,n),s}(Jr);as.prototype.importView=yo,as.prototype.reuseView=Ii,as.prototype.resizerView=ts,as.prototype.template=Xr();const us=as;function ls(e){return ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(e)}function fs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hs(e,t){return hs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},hs(e,t)}function ds(e,t){if(t&&("object"===ls(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ys(e)}var vs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hs(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ys(r);if(o){var n=ys(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ds(this,e)});function s(){return fs(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"setWidth",value:function(e){var t=e||100/this.model.collection.size();this.el.style.width="".concat(t,"%")}},{key:"styleOpacity",value:function(e){return e?"opacity: ".concat(e):"opacity: 0"}},{key:"onSetModel",value:function(){}}])&&ps(t.prototype,n),s}(mr);vs.prototype.controlView=us,vs.prototype.template=br(),vs.prototype.tagName="figure",vs.prototype.className="image cms-slide",vs.prototype.bindings={":el":{attributes:[{name:"data-image",observe:"id"}]},"img.image":{attributes:[{name:"src",observe:"file_url"}]},figcaption:{observe:"caption"},"img.preview":{classes:{uploaded:"file_url"},attributes:[{name:"src",observe:"preload_url"},{name:"style",observe:"progress",onGet:"styleOpacity"}]}};const ms=vs;function gs(e){return gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(e)}function bs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ws(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ss(e,t){return Ss=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ss(e,t)}function xs(e,t){if(t&&("object"===gs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ks(e)}function ks(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},js(e)}var Es=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ss(e,t)}(c,e);var t,n,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=js(o);if(i){var n=js(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xs(this,e)});function c(){var e;_s(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).initialize=e.initialize.bind(ks(e)),e.onBeforeRender=e.onBeforeRender.bind(ks(e)),e.onAfterRender=e.onAfterRender.bind(ks(e)),e.setDimensions=e.setDimensions.bind(ks(e)),e.addEmbed=e.addEmbed.bind(ks(e)),e.checkCollection=e.checkCollection.bind(ks(e)),e}return t=c,(n=[{key:"initialize",value:function(){this.collection=new Rt,this.collection.on("add remove reset destroy change:caption change:populated",this.checkCollection.bind(this)),this.collection.on("change:caption",this.contentChange.bind(this)),this.content=this.getOption("content"),this.state=new r.Model({position:0}),this.model=new ar,this.model.on("change",(function(){console.log("umm model is changing")}))}},{key:"onBeforeRender",value:function(){this.captureImages();var e=this.getOption("content");if(e){var t=e.querySelector(".alignments");t&&t.getAttribute("data-align")}}},{key:"captureImages",value:function(){var e=this;this.content&&(this.content.dataset&&this.content.dataset.image&&this.captureImageFrom(this.content),this.content.querySelectorAll("[data-image]").forEach((function(t){return e.captureImageFrom(t)})))}},{key:"captureImageFrom",value:function(e){if(e.dataset&&e.dataset.image){var t={id:e.dataset.image},n=e.querySelector('img:not([src=""])');n&&n.src&&(t.file_url=n.src,t.populated=!0);var r=e.querySelector("figcaption");r&&(t.caption=r.innerHTML),this.collection.add(t)}}},{key:"onRender",value:function(){this.stickit(this.state,{"a.next":{observe:["position","total"],visible:"unlessLast"},"a.prev":{observe:"position",visible:"unlessFirst"},"a.add":{classes:{up:{observe:["position","total","populated"],onGet:"ifLastAndPopulated"}}}}),this.triggerMethod("after:render",this),window.eiv||(window.eiv=this)}},{key:"onAfterRender",value:function(){var e,t;this.checkCollection(),this.setDimensions(),this.collection.on("add remove reset",this.setDimensions),this._slider=(e=this.ui.slider,t={onMove:this.sliderMoved.bind(this)},e.slideshow?e.slideshow.refresh():(e.slideshow=new tr(e,t),e.slideshow.init()),e.slideshow),this.el.classList.add("cms-shimmy"),console.log("embedded_images > onAfterRender > model.attributes ",this.model.attributes)}},{key:"setDimensions",value:function(){var e=this.collection.size();this.state.set("total",e);var t=100*e;this.ui.holder.css("width","".concat(t,"%"))}},{key:"addEmbed",value:function(e){e&&e.preventDefault(),this.collection.add({}),this._slider&&this._slider.moveToEndWhenUpdated()}},{key:"ifLast",value:function(e){var t=bs(e,2);return t[0]===t[1]-1}},{key:"ifLastAndPopulated",value:function(e){var t=bs(e,3),n=t[0],r=t[1];return t[2]&&n===r-1}},{key:"unlessLast",value:function(e){var t=bs(e,2);return t[0]!==t[1]-1}},{key:"ifFirst",value:function(e){return 0===e}},{key:"unlessFirst",value:function(e){return 0!==e}},{key:"moveNext",value:function(e){e&&e.preventDefault(),this._slider&&this._slider.moveNext()}},{key:"movePrev",value:function(e){e&&e.preventDefault(),this._slider&&this._slider.movePrev()}},{key:"sliderMoved",value:function(e){this.state.set("position",e)}},{key:"resetSlider",value:function(){this._slider&&this._slider.reset()}},{key:"checkCollection",value:function(){this.collection.length||(this.collection.add({}),this.state.set({position:0}));var e=this.collection.find({populated:!1});this.state.set({populated:!e})}},{key:"cleanContent",value:function(){var e=this.collection.select((function(e){return e.isPopulated()})).length;if(e){var t=this.cleanCopy();t.querySelectorAll("a.slider-control").forEach((function(e){e.removeAttribute("style")})),t.querySelectorAll("figure.image:not([data-image])").forEach((function(e){e.remove()}));var n=t.querySelector(".cms-slide-holder");return n&&(n.style.transform="",n.style.width="".concat(100*e,"%")),t.outerHTML}return""}},{key:"alignLeft",value:function(){this.updateEmbedAlignments("left")}},{key:"alignCenter",value:function(){this.updateEmbedAlignments("center")}},{key:"alignRight",value:function(){this.updateEmbedAlignments("right")}},{key:"updateEmbedAlignments",value:function(e){document.querySelector(".embed.images").classList.remove("left","center","right"),document.querySelector(".embed.images").classList.add(e)}}])&&Os(t.prototype,n),c}(Xn);Es.prototype.template=Qn(),Es.prototype.tagName="div",Es.prototype.className="images cms-slides",Es.prototype.childView=ms,Es.prototype.childViewContainer=".collection",Es.prototype.ui={add:"a.add",prev:"a.prev",next:"a.next",slider:".cms-slider",holder:".cms-slide-holder",slides:"figure.image",alignLeft:"span.left",alignCenter:"span.center",alignRight:"span.right"},Es.prototype.events={"click a.add":"addEmbed","click a.prev":"movePrev","click a.next":"moveNext","click @ui.alignLeft":"alignLeft","click @ui.alignCenter":"alignCenter","click @ui.alignRight":"alignRight"},Es.prototype.bindings={":el":{attributes:[{name:"data-align",observe:"alignment"}]},".cms-slider":{attributes:[{name:"data-align",observe:"alignment"}]}};const Rs=Es;function Ps(e){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(e)}function Ts(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function As(e,t){return As=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},As(e,t)}function Ds(e,t){if(t&&("object"===Ps(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ns(e){return Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ns(e)}var Bs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&As(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ns(r);if(o){var n=Ns(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ds(this,e)});function s(){return Ts(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"onBeforeRender",value:function(){if(this.model.get("masthead")){var e=document.createElement("template");e.innerHTML=this.model.get("masthead"),this.content=e.content,this.captureImages()}if(!this.model.get("image_id")){var t=this.collection.first();t&&this.model.set("image_id",t.id)}}},{key:"contentChange",value:function(){this.model.set("masthead",this.cleanContent());var e=this.collection.first();e&&this.model.set("image_id",e.id),this.log("🌈 page image_id",this.model.get("image_id"))}}])&&Cs(t.prototype,n),s}(Rs);const Vs=Bs;var Ms=n(3451),Is=n.n(Ms),Ls=n(9793),$s=n.n(Ls);function qs(e){return qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(e)}function Hs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fs(e,t){return Fs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fs(e,t)}function zs(e,t){if(t&&("object"===qs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Us(e){return Us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Us(e)}var Ws=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fs(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Us(t);if(n){var o=Us(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return zs(this,e)});function o(){return Hs(this,o),r.apply(this,arguments)}return o}(Ir);Ws.prototype.template=$s(),Ws.prototype.tagName="li",Ws.prototype.className="progress";const Gs=Ws;function Js(e){return Js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(e)}function Ks(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xs(e,t){return Xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xs(e,t)}function Ys(e,t){if(t&&("object"===Js(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qs(e){return Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qs(e)}var Zs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xs(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Qs(t);if(n){var o=Qs(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Ys(this,e)});function o(){return Ks(this,o),r.apply(this,arguments)}return o}(p.CollectionView);Zs.prototype.childView=Gs,Zs.prototype.tagName="ul",Zs.prototype.className="progresses";const ec=Zs;var tc=n(1997),nc=n.n(tc);function rc(e){return rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(e)}function oc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ic(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sc(e,t){return sc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},sc(e,t)}function cc(e,t){if(t&&("object"===rc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ac(e)}function ac(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uc(e){return uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uc(e)}var lc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sc(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=uc(r);if(o){var n=uc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return cc(this,e)});function s(){var e;oc(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).saveAction=e.saveAction.bind(ac(e)),e.publishAction=e.publishAction.bind(ac(e)),e}return t=s,(n=[{key:"onAfterRender",value:function(){this.showChildView("progress",new ec({collection:E}))}},{key:"saveAction",value:function(e){var t=this;e&&e.preventDefault(),this.ui.save.addClass("waiting"),this.model.save().done((function(){return t.ui.save.removeClass("waiting")}))}},{key:"publishAction",value:function(e){var t=this;e&&e.preventDefault(),this.ui.publish.addClass("waiting"),this.model.publish().done((function(){return t.ui.publish.removeClass("waiting")}))}}])&&ic(t.prototype,n),s}(Dn);lc.prototype.template=nc(),lc.prototype.regions={progress:".progress"},lc.prototype.ui={save:"a.save",publish:"a.publish",view:"a.view"},lc.prototype.events={"click @ui.save":"saveAction","click @ui.publish":"publishAction"},lc.prototype.bindings={"a.save":{classes:{available:{observe:["changed","busy"],onGet:"thisButNotThat"}}},"a.publish":{classes:{available:{observe:["outofdate","changed","busy"],onGet:"thisButNotThose"}}},"a.view":{classes:{available:"url"},attributes:[{name:"href",observe:"url"}]}};const fc=lc;function pc(e){return pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(e)}function hc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dc(e,t){return dc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dc(e,t)}function yc(e,t){if(t&&("object"===pc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vc(e){return vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vc(e)}var mc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dc(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=vc(t);if(n){var o=vc(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return yc(this,e)});function o(){return hc(this,o),r.apply(this,arguments)}return o}(Rr);mc.prototype.className="cms-menu page-control",mc.prototype.template=Is(),mc.prototype.contentView=fc,mc.prototype.bindings={":el":{classes:{busy:"busy",saveable:{observe:["changed","busy"],onGet:"thisButNotThat"},publishable:{observe:["outofdate","changed"],onGet:"thisButNotThat"}}}};const gc=mc;var bc=n(5426),wc=n.n(bc),_c=n(3101),Oc=n.n(_c);function Sc(e){return Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(e)}function xc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jc(e,t){return jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jc(e,t)}function Ec(e,t){if(t&&("object"===Sc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rc(e)}function Rc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pc(e){return Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pc(e)}var Tc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jc(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pc(r);if(o){var n=Pc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ec(this,e)});function s(){var e;xc(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onRender=e.onRender.bind(Rc(e)),e.getApp=e.getApp.bind(Rc(e)),e.getOptionValue=e.getOptionValue.bind(Rc(e)),e.getOptionText=e.getOptionText.bind(Rc(e)),e}return t=s,(n=[{key:"initialize",value:function(){this._holder=this.getOption("holder"),this._attribute=this.getOption("attribute")}},{key:"onRender",value:function(){var e=this.getOptionText(),t=this.getOptionValue();this._holder.get(this._attribute)===t?this.$el.attr("selected","selected"):this._holder.get(this._attribute)||t?this.el.removeAttribute("selected"):this.$el.attr("selected","selected"),this.el.value=t,this.el.innerText=e||""}},{key:"getApp",value:function(){return this._holder.getApp()}},{key:"getOptionValue",value:function(){var e=this.model.get("id");return e?parseInt(e,10):""}},{key:"getOptionText",value:function(){return this.model.get("title")||this.model.get("name")}}])&&kc(t.prototype,n),s}(Dn);Tc.prototype.tagName="option";const Cc=Tc;function Ac(e){return Ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(e)}function Dc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bc(e,t){return Bc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Bc(e,t)}function Vc(e,t){if(t&&("object"===Ac(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mc(e)}function Mc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ic(e){return Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ic(e)}var Lc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bc(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ic(r);if(o){var n=Ic(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Vc(this,e)});function s(){var e;Dc(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onRender=e.onRender.bind(Mc(e)),e}return t=s,(n=[{key:"initialize",value:function(){this._attribute_name=this.getOption("attributeName")}},{key:"onRender",value:function(){this._attribute_name&&this.$el.val("").text("No ".concat(this._attribute_name))}}])&&Nc(t.prototype,n),s}(ai);Lc.prototype.tagName="option";const $c=Lc;function qc(e){return qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(e)}function Hc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zc(e,t){return zc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zc(e,t)}function Uc(e,t){if(t&&("object"===qc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wc(e)}function Wc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gc(e){return Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gc(e)}var Jc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zc(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gc(r);if(o){var n=Gc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Uc(this,e)});function s(){var e;Hc(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).childViewOptions=e.childViewOptions.bind(Wc(e)),e.setSelection=e.setSelection.bind(Wc(e)),e.onAfterRender=e.onAfterRender.bind(Wc(e)),e}return t=s,n=[{key:"initialize",value:function(){this._attribute=this.getOption("attribute"),this._allow_blank=this.getOption("allowBlank")}},{key:"onAfterRender",value:function(){var e=this;this.collection.loadAnd((function(){e._allow_blank&&e.collection.add({title:""},{at:0}),e.model.get(e._attribute)||e.setSelection()}))}},{key:"childViewOptions",value:function(e){return{model:e,holder:this.model,attribute:this._attribute}}},{key:"setSelection",value:function(){var e=this.$el.val();e&&this.model.set(this._attribute,parseInt(e,10)),this._allow_blank?this.model.set(this._attribute,null):this.model.set(this._attribute,this.collection.first())}}],n&&Fc(t.prototype,n),s}(qn);Jc.prototype.tagName="select",Jc.prototype.childView=Cc,Jc.prototype.emptyView=$c,Jc.prototype.events={change:"setSelection"};const Kc=Jc;var Xc=n(7246),Yc=n.n(Xc);function Qc(e){return Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(e)}function Zc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ta(e,t){return ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ta(e,t)}function na(e,t){if(t&&("object"===Qc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ra(e)}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e){return oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oa(e)}var ia=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ta(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oa(r);if(o){var n=oa(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return na(this,e)});function s(){var e;Zc(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).detach=e.detach.bind(ra(e)),e}return t=s,(n=[{key:"detach",value:function(e){e&&e.preventDefault(),this.model.discard()}}])&&ea(t.prototype,n),s}(Dn);ia.prototype.template=Yc(),ia.prototype.tagName="li",ia.prototype.className="term",ia.prototype.events={"click a.detach":"detach"},ia.prototype.bindings={"span.term":"term"};const sa=ia;function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function aa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ua(e,t){return ua=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ua(e,t)}function la(e,t){if(t&&("object"===ca(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fa(e){return fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fa(e)}var pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ua(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=fa(t);if(n){var o=fa(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return la(this,e)});function o(){return aa(this,o),r.apply(this,arguments)}return o}(qn);pa.prototype.childView=sa;const ha=pa;var da=n(4418),ya=n.n(da);function va(e){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(e)}function ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ga(e,t){return ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ga(e,t)}function ba(e,t){if(t&&("object"===va(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wa(e){return wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wa(e)}var _a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ga(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=wa(t);if(n){var o=wa(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return ba(this,e)});function o(){return ma(this,o),r.apply(this,arguments)}return o}(Dn);_a.prototype.tagName="li",_a.prototype.className="suggestion",_a.prototype.template=ya(),_a.prototype.triggers={"click a.pick":"select"},_a.prototype.bindings={"span.term":"term",":el":{classes:{selected:"selected",unavailable:"unavailable"}}};const Oa=_a;var Sa=n(5722),xa=n.n(Sa);function ka(e){return ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ka(e)}function ja(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ea(e,t){return Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ea(e,t)}function Ra(e,t){if(t&&("object"===ka(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pa(e){return Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pa(e)}var Ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Pa(t);if(n){var o=Pa(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Ra(this,e)});function o(){return ja(this,o),r.apply(this,arguments)}return o}(ai);Ta.prototype.template=xa(),Ta.prototype.tagName="li",Ta.prototype.className="note none";const Ca=Ta;function Aa(e){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(e)}function Da(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t){return Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ba(e,t)}function Va(e,t){if(t&&("object"===Aa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ma(e)}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ia(e){return Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ia(e)}var La=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ia(r);if(o){var n=Ia(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Va(this,e)});function s(){var e;Da(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).pickTerm=e.pickTerm.bind(Ma(e)),e.initialize=e.initialize.bind(Ma(e)),e.childViewOptions=e.childViewOptions.bind(Ma(e)),e}return t=s,n=[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.excluded&&(this._exclusions=e.excluded,this._exclusions.on("add remove reset",this.setAvailability.bind(this)),this.collection.on("add remove reset",this.setAvailability.bind(this)),this.setAvailability())}},{key:"pickTerm",value:function(e){var t=e.model;t&&this.trigger("select",t)}},{key:"setAvailability",value:function(){var e=this;this.collection.each((function(t){var n=e._exclusions.findWhere({term:t.get("term")});t.set("unavailable",!!n)}))}},{key:"childViewOptions",value:function(e){var t=e&&!!this._exclusions.findWhere({term:e.get("term")});return{model:e,unavailable:t}}}],n&&Na(t.prototype,n),s}(qn);La.prototype.childView=Oa,La.prototype.emptyView=Ca,La.prototype.childViewEvents={select:"pickTerm"};const $a=La;var qa=n(7711),Ha=n.n(qa);function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fa(e)}function za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t){return Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Wa(e,t)}function Ga(e,t){if(t&&("object"===Fa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ja(e)}function Ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ka(e)}var Xa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wa(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ka(r);if(o){var n=Ka(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ga(this,e)});function s(){var e;za(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).initialize=e.initialize.bind(Ja(e)),e.onAfterRender=e.onAfterRender.bind(Ja(e)),e.interceptNavigation=e.interceptNavigation.bind(Ja(e)),e.getSuggestions=e.getSuggestions.bind(Ja(e)),e.addTerm=e.addTerm.bind(Ja(e)),e.resetPrompt=e.resetPrompt.bind(Ja(e)),e}return t=s,n=[{key:"initialize",value:function(){this.collection=new ve}},{key:"onAfterRender",value:function(){var e=new ha({collection:this.model.terms});this.showChildView("terms",e);var t=new $a({collection:this.collection,excluded:this.model.terms});this.showChildView("suggestions",t),t.on("select",this.addTerm.bind(this)),this.getSuggestions()}},{key:"interceptNavigation",value:function(e){return"ArrowDown"===e.code?(this.collection.moveSelectionNext(),!1):"PageDown"===e.code?(this.collection.moveSelectionLast(),!1):"ArrowUp"===e.code?(this.collection.moveSelectionPrev(),!1):"PageUp"===e.code?(this.collection.moveSelectionFirst(),!1):"Enter"===e.code?(this.addTerm(this.collection.currentSelection()),!1):"Escape"!==e.code||(this.resetPrompt(),!1)}},{key:"getSuggestions",value:function(){var e=this.ui.input.text();e&&e.length?this.ui.reset.show():this.ui.reset.hide(),this.collection.debouncedSuggest(e)}},{key:"addTerm",value:function(e){this.model.terms.add({term:e.get("term")}),this.ui.input.focus()}},{key:"resetPrompt",value:function(e){e&&e.preventDefault(),this.ui.input.text(""),this.getSuggestions(),this.ui.input.focus()}}],n&&Ua(t.prototype,n),s}(Dn);Xa.prototype.template=Ha(),Xa.prototype.ui={input:"span.prompt",reset:"a.reset"},Xa.prototype.regions={terms:"div.terms",suggestions:"div.suggestions"},Xa.prototype.events={"keydown @ui.input":"interceptNavigation","keyup @ui.input":"getSuggestions","click @ui.reset":"resetPrompt"};const Ya=Xa;function Qa(e){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(e)}function Za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tu(e,t){return tu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tu(e,t)}function nu(e,t){if(t&&("object"===Qa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ru(e)}function ru(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ou(e)}var iu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tu(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ou(r);if(o){var n=ou(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return nu(this,e)});function s(){var e;Za(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onAfterRender=e.onAfterRender.bind(ru(e)),e.toggleDetails=e.toggleDetails.bind(ru(e)),e}return t=s,(n=[{key:"onAfterRender",value:function(){this.showChildView("collection",new Kc({model:this.model,attribute:"page_collection_id",collection:new lt})),this.showChildView("category",new Kc({model:this.model,attribute:"page_category_id",collection:new Xe,allowBlank:!0})),this.showChildView("parent",new Kc({model:this.model,attribute:"parent_id",collection:new Ve,allowBlank:!0})),this.showChildView("terms",new Ya({model:this.model}))}},{key:"toggleDetails",value:function(e){e&&e.preventDefault(),this.ui.toggle.hasClass("open")?(this.ui.details.slideUp("fast"),this.ui.toggle.removeClass("open")):(this.ui.toggle.addClass("open"),this.ui.details.slideDown("fast"))}}])&&eu(t.prototype,n),s}(Dn);iu.prototype.template=Oc(),iu.prototype.regions={style:"div.page_style",collection:".page_collection",category:".page_category",parent:".page_parent",terms:".page_terms"},iu.prototype.ui={toggle:"a.toggle",details:".details"},iu.prototype.events={"click @ui.toggle":"toggleDetails"},iu.prototype.bindings={'input[name="slug"]':"slug",'input[name="private"]':"private",'input[name="style"]':"style",'input[name="byline"]':"byline",'textarea[name="summary"]':"summary"};const su=iu;function cu(e){return cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(e)}function au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uu(e,t){return uu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uu(e,t)}function lu(e,t){if(t&&("object"===cu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fu(e){return fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fu(e)}var pu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uu(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=fu(t);if(n){var o=fu(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return lu(this,e)});function o(){return au(this,o),r.apply(this,arguments)}return o}(Rr);pu.prototype.className="cms-menu page-config",pu.prototype.template=wc(),pu.prototype.contentView=su;const hu=pu;var du=n(8817),yu=n.n(du),vu=n(1085),mu=n.n(vu),gu=n(325),bu=n.n(gu),wu=n(7706),_u=n.n(wu),Ou=n(9050);function Su(e){return Su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(e)}function xu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ju(e,t){return ju=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ju(e,t)}function Eu(e,t){if(t&&("object"===Su(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ru(e){return Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ru(e)}var Pu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ju(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ru(r);if(o){var n=Ru(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Eu(this,e)});function s(){return xu(this,s),i.apply(this,arguments)}return t=s,n=[{key:"onAfterRender",value:function(){var e=this;this.model.isNew()&&(this.ui.editor.show(),this.ui.edit_title&&this.ui.edit_title.length&&Ou.defer((function(){e.log("focussing on",e.ui.edit_title),e.ui.edit_title.focus()})))}},{key:"indentStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"width: ".concat(32*e,"px")}},{key:"truncatedTitle",value:function(e){return x(bn(e),42)}},{key:"styleSymbol",value:function(e){return"/spritemap.svg#sprite-page-".concat(e||"heroic")}},{key:"savePage",value:function(e){var t=this;e&&e.preventDefault(),this.model.save().done((function(){w(y("affirmations.page_saved")),t.$el.removeClass("confirmed").addClass("confirmed")}))}},{key:"selectPage",value:function(e){e&&e.preventDefault(),this.trigger("select",this.model)}},{key:"discardPage",value:function(){this.model.discard()}},{key:"interceptControlKey",value:function(e){return"Enter"===e.code?(this.savePage(),!1):"Escape"!==e.code||(this.discardPage(),!1)}},{key:"textOnly",value:function(e){return bn(e)}}],n&&ku(t.prototype,n),s}(Fo);Pu.prototype.template=_u(),Pu.prototype.tagName="li",Pu.prototype.className="page",Pu.prototype.events={"click a.page":"selectPage","click a.save":"savePage","click a.remove":"discardPage","keydown .edit_title":"interceptControlKey"},Pu.prototype.ui={editor:"span.unsaved",edit_title:"span.edit_title"},Pu.prototype.bindings={":el":{classes:{unpublished:{observe:"published_at",onGet:"untrue"},unsaved:{observe:"created_at",onGet:"untrue"}},attributes:[{name:"data-page",observe:"id"}]},"a.toggle":{observe:"parental",visible:!0},"use.content":{attributes:[{name:"href",observe:"style",onGet:"styleSymbol"}]},".saved":{observe:"created_at",visible:!0},".unsaved":{observe:"created_at",visible:"untrue"},"a.save":{observe:"changed",visible:!0},".edit_title":{observe:"title",onSet:"textOnly",onGet:"textOnly"},".title":{observe:"title",onGet:"truncatedTitle"},".collection":{observe:"collectionName",onGet:"truncatedTitle"},".date":{observe:"published_at",onGet:"justDate"},".indent":{attributes:[{name:"style",observe:"depth",onGet:"indentStyle"}]}};const Tu=Pu;function Cu(e){return Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(e)}function Au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nu(e,t){return Nu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Nu(e,t)}function Bu(e,t){if(t&&("object"===Cu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vu(e){return Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vu(e)}var Mu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nu(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Vu(r);if(o){var n=Vu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Bu(this,e)});function s(){return Au(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"toggleCollapse",value:function(e){e&&e.preventDefault(),this.model.toggleCollapse()}}])&&Du(t.prototype,n),s}(Tu);Mu.prototype.template=bu(),Mu.prototype.events={"click a.toggle":"toggleCollapse","click a.page":"selectPage","click a.save":"savePage"},Mu.prototype.triggers={"click a.page":"selected"};const Iu=Mu;function Lu(e){return Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(e)}function $u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hu(e,t){return Hu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Hu(e,t)}function Fu(e,t){if(t&&("object"===Lu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zu(e)}function zu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Uu(e)}var Wu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hu(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Uu(r);if(o){var n=Uu(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Fu(this,e)});function s(){var e;$u(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onBeforeRender=e.onBeforeRender.bind(zu(e)),e.onAfterRender=e.onAfterRender.bind(zu(e)),e}return t=s,(n=[{key:"onBeforeRender",value:function(){this.collection.buildTree()}},{key:"onAfterRender",value:function(){}}])&&qu(t.prototype,n),s}(qn);Wu.prototype.childView=Iu,Wu.prototype.tagName="ul",Wu.prototype.className="page_tree",Wu.prototype.childViewTriggers={selected:"selected"};const Gu=Wu;var Ju=n(9392),Ku=n.n(Ju);function Xu(e){return Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(e)}function Yu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zu(e,t){return Zu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Zu(e,t)}function el(e,t){if(t&&("object"===Xu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tl(e){return tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tl(e)}var nl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zu(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=tl(r);if(o){var n=tl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return el(this,e)});function s(){return Yu(this,s),i.apply(this,arguments)}return t=s,n=[{key:"onAfterRender",value:function(){this.collection=new Ve([],{p:1,pp:"all",filter:{page_collection_id:this.model.id}}),this.treeView=new Gu({collection:this.collection}),this.showChildView("tree",this.treeView),this.treeView.on("selected",this.selectedView.bind(this)),this.hideTree()}},{key:"toggleTree",value:function(){this.ui.toggled.is(":visible")?this.hideTree():this.showTree()}},{key:"showTree",value:function(){var e=this;this.ui.toggle.addClass("waiting"),this.collection.loadAnd((function(){e.ui.toggle.removeClass("waiting"),e.ui.toggled.slideDown(),e.ui.toggle.addClass("open"),e.trigger("opened")}))}},{key:"hideTree",value:function(){this.ui.toggled.slideUp(),this.ui.toggle.removeClass("open")}},{key:"selectedView",value:function(e){this.trigger("selected",e.model)}},{key:"createCollectionPage",value:function(e){e&&e.preventDefault(),window.np=this.collection.add({page_collection_id:this.model.id,style:"texty"},{at:0})}}],n&&Qu(t.prototype,n),s}(Dn);nl.prototype.template=Ku(),nl.prototype.className="page_collection_tree",nl.prototype.events={"click a.toggle":"toggleTree","click a.add":"createCollectionPage"},nl.prototype.ui={toggled:"div.toggled",toggle:"a.toggle"},nl.prototype.regions={tree:"div.tree"},nl.prototype.bindings={".title":"short_title"};const rl=nl;function ol(e){return ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(e)}function il(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cl(e,t){return cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cl(e,t)}function al(e,t){if(t&&("object"===ol(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ul(e){return ul=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ul(e)}var ll=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cl(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ul(r);if(o){var n=ul(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return al(this,e)});function s(){return il(this,s),i.apply(this,arguments)}return t=s,n=[{key:"initialize",value:function(){this.collection=hn()}},{key:"jumpToPage",value:function(e){this.$el.trigger("navigate",e)}},{key:"leaveEditor",value:function(){this.$el.trigger("exit")}}],n&&sl(t.prototype,n),s}(qn);ll.prototype.template=mu(),ll.prototype.childView=rl,ll.prototype.tagName="div",ll.prototype.childViewContainer="div.page_collections",ll.prototype.events={"click a.exit":"leaveEditor"},ll.prototype.childViewEvents={selected:"jumpToPage"};const fl=ll;function pl(e){return pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(e)}function hl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dl(e,t){return dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dl(e,t)}function yl(e,t){if(t&&("object"===pl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vl(e){return vl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vl(e)}var ml=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dl(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=vl(t);if(n){var o=vl(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return yl(this,e)});function o(){return hl(this,o),r.apply(this,arguments)}return o}(Rr);ml.prototype.className="cms-menu site",ml.prototype.template=yu(),ml.prototype.contentView=fl;const gl=ml;var bl=n(2550),wl=n.n(bl),_l=n(2139),Ol=n.n(_l);function Sl(e){return Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(e)}function xl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kl(e,t){return kl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kl(e,t)}function jl(e,t){if(t&&("object"===Sl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function El(e){return El=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},El(e)}var Rl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kl(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=El(t);if(n){var o=El(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return jl(this,e)});function o(){return xl(this,o),r.apply(this,arguments)}return o}(Dn);Rl.prototype.template=Ol(),Rl.prototype.ui={title:"h1"},Rl.prototype.bindings={"span.name":{observe:"title"}};const Pl=Rl;var Tl=n(6076),Cl=n.n(Tl),Al=n(9099),Dl=n.n(Al),Nl=n(4770),Bl=n.n(Nl);function Vl(e){return Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(e)}function Ml(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Il(e,t){return Il=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Il(e,t)}function Ll(e,t){if(t&&("object"===Vl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $l(e){return $l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$l(e)}var ql=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Il(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=$l(t);if(n){var o=$l(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Ll(this,e)});function o(){return Ml(this,o),r.apply(this,arguments)}return o}(io);ql.prototype.modelClass=nn,ql.prototype.template=Bl();const Hl=ql;var Fl=n(1476),zl=n.n(Fl);function Ul(e){return Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(e)}function Wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jl(e,t){return Jl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jl(e,t)}function Kl(e,t){if(t&&("object"===Ul(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xl(e){return Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xl(e)}var Yl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jl(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xl(r);if(o){var n=Xl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Kl(this,e)});function s(){return Wl(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"styleBackgroundImage",value:function(e){return e?"background-image: url('".concat(e,"')"):""}}])&&Gl(t.prototype,n),s}(Fo);Yl.prototype.template=Uo(),Yl.prototype.tagName="li",Yl.prototype.className="video asset",Yl.prototype.triggers={"click a.pickme":"pick"},Yl.prototype.bindings={"a.thumbnail":{attributes:[{name:"style",observe:"thumb_url",onGet:"styleBackgroundImage"},{name:"title",observe:"title"}]}};const Ql=Yl;function Zl(e){return Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(e)}function ef(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tf(e,t){return tf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tf(e,t)}function nf(e,t){if(t&&("object"===Zl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rf(e)}var of=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tf(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=rf(t);if(n){var o=rf(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return nf(this,e)});function o(){return ef(this,o),r.apply(this,arguments)}return o}(mi);const sf=of;function cf(e){return cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(e)}function af(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uf(e,t){return uf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},uf(e,t)}function lf(e,t){if(t&&("object"===cf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ff(e){return ff=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ff(e)}var pf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uf(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ff(t);if(n){var o=ff(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return lf(this,e)});function o(){return af(this,o),r.apply(this,arguments)}return o}(So);pf.prototype.childView=Ql,pf.prototype.emptyView=sf;const hf=pf;function df(e){return df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(e)}function yf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vf(e,t){return vf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vf(e,t)}function mf(e,t){if(t&&("object"===df(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function gf(e){return gf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gf(e)}var bf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vf(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=gf(t);if(n){var o=gf(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return mf(this,e)});function o(){return yf(this,o),r.apply(this,arguments)}return o}(Ao);bf.prototype.listView=hf,bf.prototype.template=zl();const wf=bf;function _f(e){return _f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(e)}function Of(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xf(e,t){return xf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xf(e,t)}function kf(e,t){if(t&&("object"===_f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jf(e)}var Ef=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xf(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=jf(r);if(o){var n=jf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return kf(this,e)});function s(){return Of(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"getCollection",value:function(){return pn(ln)}}])&&Sf(t.prototype,n),s}(Jr);Ef.prototype.importView=Hl,Ef.prototype.reuseView=wf,Ef.prototype.template=Dl();const Rf=Ef;function Pf(e){return Pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(e)}function Tf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Af(e,t){return Af=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Af(e,t)}function Df(e,t){if(t&&("object"===Pf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nf(e)}function Nf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bf(e)}var Vf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Af(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bf(r);if(o){var n=Bf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Df(this,e)});function s(){var e;Tf(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onBeforeRender=e.onBeforeRender.bind(Nf(e)),e.videoId=e.videoId.bind(Nf(e)),e}return t=s,(n=[{key:"onBeforeRender",value:function(){this.model=new nn({})}},{key:"videoId",value:function(e){return"video_".concat(e)}}])&&Cf(t.prototype,n),s}(mr);Vf.prototype.controlView=Rf,Vf.prototype.template=Cl(),Vf.prototype.className="video",Vf.prototype.bindings={":el":{attributes:[{name:"data-video",observe:"id"}]},".player":{observe:"embed_code",updateMethod:"html",classes:{unnecessary:"mp4_url"}},video:{observe:["file_url","embed_code"],visible:"thisButNotThat",attributes:[{name:"id",observe:"id",onGet:"videoId"},{name:"poster",observe:"hero_url"}]},img:{attributes:[{name:"src",observe:"hero_url"}]},source:{attributes:[{name:"src",observe:"mp4_url"}]}};const Mf=Vf;var If=n(8060),Lf=n.n(If),$f=n(6672),qf=n.n($f);function Hf(e){return Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(e)}function Ff(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uf(e,t){return Uf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Uf(e,t)}function Wf(e,t){if(t&&("object"===Hf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Gf(e){return Gf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gf(e)}var Jf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uf(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gf(r);if(o){var n=Gf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wf(this,e)});function s(){return Ff(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"onBeforeRender",value:function(){this.el.dataset.cms=!0}},{key:"truncatedTitle",value:function(e){return x(e,256)}},{key:"discardPage",value:function(e){e&&e.preventDefault(),this.trigger("deselect",this.model)}}])&&zf(t.prototype,n),s}(Tu);Jf.prototype.template=qf();const Kf=Jf;var Xf=n(1317),Yf=n.n(Xf);function Qf(e){return Qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(e)}function Zf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ep(e,t){return ep=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ep(e,t)}function tp(e,t){if(t&&("object"===Qf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},np(e)}var rp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ep(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=np(t);if(n){var o=np(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return tp(this,e)});function o(){return Zf(this,o),r.apply(this,arguments)}return o}(So);rp.prototype.childView=Tu;const op=rp;function ip(e){return ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(e)}function sp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ap(e,t){return ap=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ap(e,t)}function up(e,t){if(t&&("object"===ip(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lp(e)}var fp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ap(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=lp(r);if(o){var n=lp(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return up(this,e)});function s(){return sp(this,s),i.apply(this,arguments)}return t=s,n=[{key:"selectModel",value:function(e){this.trigger("selected",e)}}],n&&cp(t.prototype,n),s}(Ao);fp.prototype.listView=op,fp.prototype.template=Yf();const pp=fp;var hp=n(3469),dp=n.n(hp);function yp(e){return yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(e)}function vp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gp(e,t){return gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gp(e,t)}function bp(e,t){if(t&&("object"===yp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wp(e)}function wp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _p(e){return _p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_p(e)}var Op=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gp(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_p(r);if(o){var n=_p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bp(this,e)});function s(){var e;vp(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).showChildPages=e.showChildPages.bind(wp(e)),e.showSimilarPages=e.showSimilarPages.bind(wp(e)),e.showSelectedPages=e.showSelectedPages.bind(wp(e)),e.selectedModel=e.selectedModel.bind(wp(e)),e}return t=s,n=[{key:"getCollection",value:function(){return pn(Ve)}},{key:"showChildPages",value:function(){this.trigger("mode","children"),this.close()}},{key:"showSimilarPages",value:function(){this.trigger("mode","similar"),this.close()}},{key:"showSelectedPages",value:function(){this.trigger("mode","list"),this.choosePage()}},{key:"choosePage",value:function(){this.showActionView(this.reuseView)}},{key:"selectedModel",value:function(e){this.trigger("select",e),this.close()}}],n&&mp(t.prototype,n),s}(Jr);Op.prototype.reuseView=pp,Op.prototype.template=dp(),Op.prototype.ui={head:".cms-chooser-head",prompt:".cms-chooser-prompt",body:".cms-chooser-body",close:"a.close",options:".options",children:"a.children",similar:"a.similar",selected:"a.selected",action:".action"},Op.prototype.events={"click @ui.head":"toggle","click @ui.prompt":"open","click @ui.close":"close","click @ui.children":"showChildPages","click @ui.similar":"showSimilarPages","click @ui.selected":"showSelectedPages","click a.back":"showOptions"};const Sp=Op;var xp=n(6782),kp=n.n(xp);function jp(e){return jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(e)}function Ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rp(e,t){return Rp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rp(e,t)}function Pp(e,t){if(t&&("object"===jp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tp(e)}var Cp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rp(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Tp(t);if(n){var o=Tp(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Pp(this,e)});function o(){return Ep(this,o),r.apply(this,arguments)}return o}(mi);Cp.prototype.tagName="li",Cp.prototype.className="page none",Cp.prototype.template=kp();const Ap=Cp;function Dp(e){return Dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(e)}function Np(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vp(e,t){return Vp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Vp(e,t)}function Mp(e,t){if(t&&("object"===Dp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ip(e)}function Ip(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Lp(e)}var $p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vp(e,t)}(c,e);var t,n,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lp(o);if(i){var n=Lp(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Mp(this,e)});function c(){var e;Np(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).page=e.getOption("page"),e.initialize=e.initialize.bind(Ip(e)),e.onBeforeRender=e.onBeforeRender.bind(Ip(e)),e.showPageList=e.showPageList.bind(Ip(e)),e}return t=c,n=[{key:"initialize",value:function(){this.collection=new Ve,this.state=new r.Model({content:"list",heading:"",pages:[]})}},{key:"onBeforeRender",value:function(){var e=this.getOption("content");if(e){var t=e.querySelector(".toc_title");t&&this.state.set("heading",t.innerText);var n=e.dataset.content;if("children"===n)this.state.set("content","children");else if("similar"===n)this.state.set("content","similar");else if("list"===n){this.state.set("content","list");var r=e.dataset.pages;r&&this.state.set("pages",r.split(","))}}this.state.on("change:content change:pages",this.updateCollection.bind(this)),this.state.on("change:heading",this.contentChange.bind(this))}},{key:"onRender",value:function(){this.stickit(this.state,{".toc_title":{observe:"heading"},"a.pick":{observe:"content",visible:"ifList"},"a.add":{observe:"content",visible:"ifChildren"}}),this.controlView=new Sp({model:this.model}),this.controlView.$el.appendTo(this.ui.controls),this.controlView.render(),this.controlView.on("mode",this.setMode.bind(this)),this.controlView.on("select",this.addEmbed.bind(this)),this.controlView.on("remove",this.removeEmbed.bind(this)),this.state.has("content")||this.controlView.open(),this.setContent()}},{key:"updateCollection",value:function(){this.setContent(),this.contentChange()}},{key:"setContent",value:function(){var e=this.state.get("content");if(this.el.dataset.content=e,"list"===e){var t=this.state.get("pages")||[];delete this.el.dataset.page,this.el.dataset.pages=t.join(",")}else delete this.el.dataset.pages,this.el.dataset.page=this.page.id;this.showPageList()}},{key:"ifList",value:function(e){return"list"===e}},{key:"ifChildren",value:function(e){return"children"===e}},{key:"showPageList",value:function(){var e=this.state.get("content");if("children"===e)this.collection.resetFilter({parent_id:this.page.id});else if("similar"===e)this.collection.resetFilter({similar:this.page.id});else if("list"===e){var t=this.state.get("pages")||[];t.length?this.collection.resetFilter({ids:t.join(",")}):this.collection.reset()}}},{key:"showControls",value:function(){this.controlView&&this.controlView.open()}},{key:"hideControls",value:function(){this.controlView&&this.controlView.close()}},{key:"setMode",value:function(e){this.content!==e&&(this.state.set("content",e),this.showPageList())}},{key:"showPicker",value:function(e){e&&e.preventDefault(),this.controlView.open(),this.controlView.choosePage()}},{key:"createChildPage",value:function(e){e&&e.preventDefault(),this.collection.add({parent_id:this.page.id,page_collection_id:this.page.get("page_collection_id"),style:"illustrated"})}},{key:"addEmbed",value:function(e){var t=this.state.get("pages");-1===t.indexOf(e.id)&&t.push(e.id),this.state.trigger("change:pages",this.state,t),this.showPageList()}},{key:"removeEmbed",value:function(e){var t=this.state.get("pages"),n=t.indexOf(e.id);n>-1&&t.splice(n,1),this.state.trigger("change:pages",this.state,t),this.showPageList()}},{key:"focus",value:function(){this.isPopulated()||this.controlView.open()}},{key:"isPopulated",value:function(){var e=this.state.get("content"),t=this.state.get("pages");return e&&("list"!==e||t.length)}},{key:"selectModel",value:function(e){this.$el.trigger("navigate",e)}},{key:"cleanContent",value:function(){return this.collection.select((function(e){return e.isPopulated()})).length?this.cleanCopy().outerHTML:""}}],n&&Bp(t.prototype,n),c}(Xn);$p.prototype.controlView=Sp,$p.prototype.template=Lf(),$p.prototype.childView=Kf,$p.prototype.emptyView=Ap,$p.prototype.childViewContainer=".collection",$p.prototype.childViewEvents={select:"selectModel",deselect:"removeEmbed"},$p.prototype.tagName="div",$p.prototype.className="pages",$p.prototype.content=null,$p.prototype.events={"click a.add":"createChildPage","click a.pick":"showPicker"},$p.prototype.ui={controls:".cms-embed-controls",heading:"h2"};const qp=$p;var Hp=n(7304),Fp=n.n(Hp),zp=n(5614),Up=n.n(zp),Wp=n(4974),Gp=n.n(Wp),Jp=n(7360),Kp=n.n(Jp);function Xp(e){return Xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(e)}function Yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eh(e,t){return eh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},eh(e,t)}function th(e,t){if(t&&("object"===Xp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nh(e){return nh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nh(e)}var rh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eh(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nh(r);if(o){var n=nh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return th(this,e)});function s(){return Qp(this,s),i.apply(this,arguments)}return t=s,n=[{key:"fileSymbol",value:function(e){if(e){var t=this.fileExtension(e);return"xlsx"===t&&(t="xls"),"docx"===t&&(t="doc"),["pdf","doc","ppt","xls"].includes(t)||(t="file"),"/spritemap.svg#sprite-".concat(t)}return"/spritemap.svg#sprite-file"}},{key:"fileExtension",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(".").pop()}},{key:"truncatedTitle",value:function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Yp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yp(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return x(o||i||y("missing.document.title"),32)}},{key:"readableFileSize",value:function(){}}],n&&Zp(t.prototype,n),s}(Fo);rh.prototype.template=Kp(),rh.prototype.tagName="li",rh.prototype.className="document",rh.prototype.events={"click a.delete":"deleteModel","click a.document":"selectMe"},rh.prototype.bindings={":el":{attributes:[{name:"data-document",observe:"id"}]},"a.preview":{attributes:[{name:"href",observe:"file_url"}]},"a.document":{attributes:[{name:"class",observe:"file_name",onGet:"fileExtension"}]},"use.file_type":{attributes:[{name:"href",observe:"file_name",onGet:"fileSymbol"}]},"span.label":{observe:["title","file_name"],onGet:"truncatedTitle"},"span.size":{observe:"file_size",onGet:"readableFileSize"}};const oh=rh;function ih(e){return ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(e)}function sh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ch(e,t){return ch=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ch(e,t)}function ah(e,t){if(t&&("object"===ih(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uh(e)}var lh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ch(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=uh(t);if(n){var o=uh(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return ah(this,e)});function o(){return sh(this,o),r.apply(this,arguments)}return o}(ai);const fh=lh;function ph(e){return ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(e)}function hh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dh(e,t){return dh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dh(e,t)}function yh(e,t){if(t&&("object"===ph(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vh(e){return vh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vh(e)}var mh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dh(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=vh(t);if(n){var o=vh(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return yh(this,e)});function o(){return hh(this,o),r.apply(this,arguments)}return o}(So);mh.prototype.childView=oh,mh.prototype.emptyView=fh;const gh=mh;function bh(e){return bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(e)}function wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _h(e,t){return _h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_h(e,t)}function Oh(e,t){if(t&&("object"===bh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Sh(e){return Sh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sh(e)}var xh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_h(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Sh(t);if(n){var o=Sh(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Oh(this,e)});function o(){return wh(this,o),r.apply(this,arguments)}return o}(Ao);xh.prototype.listView=gh,xh.prototype.template=Gp();const kh=xh;function jh(e){return jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(e)}function Eh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ph(e,t){return Ph=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ph(e,t)}function Th(e,t){if(t&&("object"===jh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ch(e){return Ch=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ch(e)}var Ah=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ph(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ch(r);if(o){var n=Ch(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Th(this,e)});function s(){return Eh(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"getCollection",value:function(){return pn(zt)}}])&&Rh(t.prototype,n),s}(Jr);Ah.prototype.reuseView=kh,Ah.prototype.template=Up();const Dh=Ah;function Nh(e){return Nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(e)}function Bh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ih(e,t){return Ih=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ih(e,t)}function Lh(e,t){if(t&&("object"===Nh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $h(e){return $h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$h(e)}var qh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ih(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$h(r);if(o){var n=$h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lh(this,e)});function s(){return Vh(this,s),i.apply(this,arguments)}return t=s,n=[{key:"onBeforeRender",value:function(){var e={id:this.el.dataset.document},t=this.el.querySelector("a.document");t&&(e.file_url=t.href);var n=this.el.querySelector("span.label");n&&(e.title=n.innerText),this.model=new Mt(e)}},{key:"fileExtension",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(".").pop()}},{key:"documentId",value:function(e){return"document_".concat(e)}},{key:"titleOrPrompt",value:function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Bh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bh(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];return o||i}},{key:"fileSymbol",value:function(e){if(e){var t=this.fileExtension(e);return"xlsx"===t&&(t="xls"),"docx"===t&&(t="doc"),["pdf","doc","ppt","xls"].includes(t)||(t="file"),"/spritemap.svg#sprite-".concat(t)}return"/spritemap.svg#sprite-file"}},{key:"allowEdit",value:function(e){e&&e.preventDefault()}}],n&&Mh(t.prototype,n),s}(mr);qh.prototype.controlView=Dh,qh.prototype.template=Fp(),qh.prototype.className="document",qh.prototype.events={"click span.label":"allowEdit"},qh.prototype.bindings={":el":{attributes:[{name:"data-document",observe:"id"}]},"a.document":{attributes:[{name:"href",observe:"file_url"},{name:"class",observe:"file_name",onGet:"fileExtension"}]},"use.file_type":{attributes:[{name:"href",observe:"file_name",onGet:"fileSymbol"}]},"span.filename":{observe:["title","file_name"],onGet:"titleOrPrompt"}};const Hh=qh;var Fh=n(8596),zh=n.n(Fh);function Uh(e){return Uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(e)}function Wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jh(e,t){return Jh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jh(e,t)}function Kh(e,t){if(t&&("object"===Uh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xh(e){return Xh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xh(e)}var Yh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jh(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Xh(r);if(o){var n=Xh(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Kh(this,e)});function s(){return Wh(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"isPopulated",value:function(){return!!this.get("utterance").trim()}}])&&Gh(t.prototype,n),s}($);Yh.prototype.singularName="quote",Yh.prototype.pluralName="quotes",Yh.prototype.savedAttributes=[],Yh.prototype.defaults={asset_type:"quote",utterance:"",caption:""};const Qh=Yh;function Zh(e){return Zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(e)}function ed(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nd(e,t){return nd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},nd(e,t)}function rd(e,t){if(t&&("object"===Zh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return od(e)}function od(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function id(e){return id=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},id(e)}var sd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nd(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=id(r);if(o){var n=id(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return rd(this,e)});function s(){var e;ed(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onBeforeRender=e.onBeforeRender.bind(od(e)),e.focus=e.focus.bind(od(e)),e}return t=s,n=[{key:"onBeforeRender",value:function(){var e={},t=this.getOption("content");if(t){var n=t.querySelector("blockquote");n&&(e.utterance=n.innerText);var r=t.querySelector("figcaption");r&&(e.caption=r.innerText)}this.model=new Qh(e),this.model.on("change",this.contentChange.bind(this))}},{key:"focus",value:function(){this.ui.quote.focus()}},{key:"classFromLength",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/&nbsp;/g," ").trim().length;return t<24?"veryshort":t<48?"short":t<96?"shortish":""}}],n&&td(t.prototype,n),s}(mr);sd.prototype.template=zh(),sd.prototype.className="quote",sd.prototype.ui={quote:"blockquote",caption:"figcaption"},sd.prototype.bindings={":el":{attributes:[{name:"class",observe:"utterance",onGet:"classFromLength"}]},blockquote:{observe:"utterance"},figcaption:{observe:"caption"}};const cd=sd;var ad=n(6408),ud=n.n(ad);function ld(e){return ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(e)}function fd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pd(e,t){return pd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pd(e,t)}function hd(e,t){if(t&&("object"===ld(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dd(e)}var yd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pd(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=dd(t);if(n){var o=dd(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return hd(this,e)});function o(){return fd(this,o),r.apply(this,arguments)}return o}($);yd.prototype.singularName="note",yd.prototype.pluralName="notes",yd.prototype.savedAttributes=[],yd.prototype.defaults={asset_type:"note",text:""};const vd=yd;function md(e){return md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(e)}function gd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wd(e,t){return wd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wd(e,t)}function _d(e,t){if(t&&("object"===md(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Od(e)}function Od(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sd(e)}var xd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wd(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Sd(r);if(o){var n=Sd(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _d(this,e)});function s(){var e;gd(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onBeforeRender=e.onBeforeRender.bind(Od(e)),e.focus=e.focus.bind(Od(e)),e}return t=s,n=[{key:"onBeforeRender",value:function(){var e={},t=this.getOption("content");if(t){var n=t.querySelector("p");n&&(e.text=n.innerText)}this.model=new vd(e),this.model.on("change",this.contentChange.bind(this))}},{key:"focus",value:function(){return this.ui.note.focus()}},{key:"classFromLength",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/&nbsp;/g," ").trim().length;return t<24?"veryshort":t<48?"short":t<96?"shortish":""}}],n&&bd(t.prototype,n),s}(mr);xd.prototype.template=ud(),xd.prototype.className="note",xd.prototype.ui={note:"p"},xd.prototype.bindings={":el":{attributes:[{name:"class",observe:"text",onGet:"classFromLength"}]},p:{observe:"text"}};const kd=xd;var jd=n(9901),Ed=n.n(jd);function Rd(e){return Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(e)}function Pd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cd(e,t){return Cd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Cd(e,t)}function Ad(e,t){if(t&&("object"===Rd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dd(e)}var Nd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cd(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Dd(r);if(o){var n=Dd(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ad(this,e)});function s(){return Pd(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"isPopulated",value:function(){return!!this.get("customTestContent").trim()}}])&&Td(t.prototype,n),s}($);Nd.prototype.singularName="customTest",Nd.prototype.pluralName="customTests",Nd.prototype.savedAttributes=[],Nd.prototype.defaults={asset_type:"customTest",customTestContent:""};const Bd=Nd;function Vd(e){return Vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(e)}function Md(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Id(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ld(e,t){return Ld=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ld(e,t)}function $d(e,t){if(t&&("object"===Vd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qd(e)}function qd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hd(e)}var Fd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ld(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Hd(r);if(o){var n=Hd(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $d(this,e)});function s(){var e;Md(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onBeforeRender=e.onBeforeRender.bind(qd(e)),e.focus=e.focus.bind(qd(e)),e}return t=s,n=[{key:"onBeforeRender",value:function(){var e={},t=this.getOption("content");if(t){var n=t.querySelector("div");n&&(e.customTestContent=n.innerText)}this.model=new Bd(e),this.model.on("change",this.contentChange.bind(this))}},{key:"focus",value:function(){this.ui.customTest.focus()}},{key:"classFromLength",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/&nbsp;/g," ").trim().length;return t<24?"veryshort":t<48?"short":t<96?"shortish":""}}],n&&Id(t.prototype,n),s}(mr);Fd.prototype.template=Ed(),Fd.prototype.className="customTest",Fd.prototype.ui={customTest:".customTestContent"},Fd.prototype.bindings={":el":{attributes:[{name:"class",observe:"customTestContent",onGet:"classFromLength"}]},div:{observe:"customTestContent"}};const zd=[{label:"images",selector:"div.embed.images",migrate_selector:"figure.image",content_view:Rs},{label:"video",selector:"div.embed.video",migrate_selector:"figure.video",content_view:Mf},{label:"pages",selector:"div.embed.pages",migrate_selector:"div.pages",content_view:qp},{label:"documents",selector:"div.embed.document",migrate_selector:"figure.document",content_view:Hh},{label:"quote",selector:"div.embed.quote",migrate_selector:"figure.quote",content_view:cd},{label:"note",selector:"div.embed.note",migrate_selector:"figure.note",content_view:kd},{label:"customTest",selector:"div.embed.customTest",migrate_selector:"figure.customTest",content_view:Fd}];var Ud=n(7998),Wd=n.n(Ud);function Gd(e){return Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(e)}function Jd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kd(e,t){return Kd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Kd(e,t)}function Xd(e,t){if(t&&("object"===Gd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yd(e){return Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yd(e)}var Qd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kd(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Yd(t);if(n){var o=Yd(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Xd(this,e)});function o(){return Jd(this,o),r.apply(this,arguments)}return o}(Dn);Qd.prototype.template=Wd(),Qd.prototype.tagName="a",Qd.prototype.className="cms-button delete",Qd.prototype.triggers={click:"delete"};const Zd=Qd;var ey=n(9062),ty=n.n(ey);function ny(e){return ny="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(e)}function ry(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function iy(e,t){return iy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},iy(e,t)}function sy(e,t){if(t&&("object"===ny(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cy(e)}function cy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ay(e)}var uy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iy(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ay(r);if(o){var n=ay(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return sy(this,e)});function s(){var e;ry(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).render=e.render.bind(cy(e)),e.initialize=e.initialize.bind(cy(e)),e.onBeforeRender=e.onBeforeRender.bind(cy(e)),e.onAfterRender=e.onAfterRender.bind(cy(e)),e.focus=e.focus.bind(cy(e)),e}return t=s,(n=[{key:"initialize",value:function(){this.page=this.getOption("page"),this.migrateNode=this.getOption("migrate"),this.el.embedHelper=this,this.el.classList.add(this.getOption("label"))}},{key:"onBeforeRender",value:function(){if(this.migrateNode)this.wrappedEl=this.migrateNode;else{var e=this.el.querySelector(".embedded");this.wrappedEl=e?e.firstChild:this.el.firstChild}}},{key:"onAfterRender",value:function(){if(!this.contentView){var e=this.getOption("contentView");this.contentView=new e({content:this.wrappedEl,page:this.page}),this.showChildView("content",this.contentView),this.contentView.on("updated",this.contentChange.bind(this))}this.detacher||(this.detacher=new Zd,this.detacher.on("delete",this.remove.bind(this)),this.showChildView("controls",this.detacher))}},{key:"focus",value:function(){this.contentView&&this.contentView.focus()}},{key:"remove",value:function(){var e=this;return this.$el.slideUp("fast",(function(){return e.$el.remove()}))}},{key:"contentChange",value:function(){this.trigger("updated")}},{key:"listenForChanges",value:function(){this._listening=!0}},{key:"cleanContent",value:function(){if(this.contentView){var e=this.contentView.cleanContent();if(e){var t=document.createElement(this.tagName);return t.classList.add(this.className),t.classList.add(this.getOption("label")),t.innerHTML=e,this.log("🦋 embed cleanContent",t.outerHTML),t.outerHTML}}return""}}])&&oy(t.prototype,n),s}(Dn);uy.prototype.template=ty(),uy.prototype.tagName="div",uy.prototype.className="embed",uy.prototype.regions={content:".embedded",controls:".cms-controls"};const ly=uy;var fy=n(3379),py=n.n(fy),hy=n(3855),dy=n.n(hy);function yy(e){return yy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(e)}function vy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function my(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gy(e,t){return gy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},gy(e,t)}function by(e,t){if(t&&("object"===yy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wy(e)}function wy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_y(e)}var Oy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gy(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_y(r);if(o){var n=_y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return by(this,e)});function s(){var e;vy(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onRender=e.onRender.bind(wy(e)),e.toggleButtons=e.toggleButtons.bind(wy(e)),e.addImages=e.addImages.bind(wy(e)),e.addVideo=e.addVideo.bind(wy(e)),e.addPages=e.addPages.bind(wy(e)),e.addDocument=e.addDocument.bind(wy(e)),e.addQuote=e.addQuote.bind(wy(e)),e.addNote=e.addNote.bind(wy(e)),e.embed=e.embed.bind(wy(e)),e.addCustomTest=e.addCustomTest.bind(wy(e)),e}return t=s,(n=[{key:"initialize",value:function(e){var t=e.helped;this.helped_el=t,document.body.append(this.el)}},{key:"setTarget",value:function(e){this.target=e,this.hideButtons()}},{key:"toggleButtons",value:function(e){this.containEvent(e),this.$el.hasClass("showing")?this.hideButtons():this.showButtons()}},{key:"showButtons",value:function(){this.trigger("expand"),this.$el.addClass("showing")}},{key:"hideButtons",value:function(){this.trigger("contract"),this.$el.removeClass("showing")}},{key:"addImages",value:function(e){this.containEvent(e),this.embed("images")}},{key:"addVideo",value:function(e){this.containEvent(e),this.embed("video")}},{key:"addPages",value:function(e){this.containEvent(e),this.embed("pages")}},{key:"addDocument",value:function(e){this.containEvent(e),this.embed("document")}},{key:"addQuote",value:function(e){this.containEvent(e),this.embed("quote")}},{key:"addNote",value:function(e){this.containEvent(e),this.embed("note")}},{key:"embed",value:function(e){var t=document.createElement("div");t.classList.add("embed"),t.classList.add(e),this.trigger("insert",t,this.target),this.hideButtons()}},{key:"addCustomTest",value:function(e){this.containEvent(e),console.log("custom test",e),this.embed("customTest")}},{key:"place",value:function(e){var t=e.getBoundingClientRect();this.$el.css({top:t.top+window.scrollY,left:t.left+window.scrollX})}}])&&my(t.prototype,n),s}(Dn);Oy.prototype.template=dy(),Oy.prototype.tagName="div",Oy.prototype.className="cms-helper-tool cms-inserter",Oy.prototype.events={"click a.show":"toggleButtons","click a.image":"addImages","click a.video":"addVideo","click a.page":"addPages","click a.document":"addDocument","click a.linkbutton":"addButton","click a.quote":"addQuote","click a.note":"addNote","click a.customTest":"addCustomTest"};const Sy=Oy;var xy=n(4811),ky=n.n(xy);function jy(e){return jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(e)}function Ey(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ry(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Py(e,t){return Py=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Py(e,t)}function Ty(e,t){if(t&&("object"===jy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cy(e)}function Cy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ay(e)}var Dy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Py(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ay(r);if(o){var n=Ay(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ty(this,e)});function s(){var e;Ey(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onRender=e.onRender.bind(Cy(e)),e.toggleButtons=e.toggleButtons.bind(Cy(e)),e.replaceTagWith=e.replaceTagWith.bind(Cy(e)),e}return t=s,(n=[{key:"initialize",value:function(e){var t=e.helped;this.helped_el=t}},{key:"setTarget",value:function(e){this.target=e,this.showCurrentTagName(),this.hideButtons()}},{key:"showCurrentTagName",value:function(){if(this.el.querySelectorAll("a[data-tagname]").forEach((function(e){return e.classList.remove("selected")})),this.target&&this.target.tagName){var e=this.target.tagName.toLowerCase(),t=this.el.querySelector("a[data-tagname='".concat(e,"']"));t&&t.classList.add("selected");var n=this.el.querySelector("a.show use");n&&n.setAttribute("href","/spritemap.svg#sprite-".concat(e))}}},{key:"toggleButtons",value:function(e){this.containEvent(e),this.$el.hasClass("showing")?this.hideButtons():this.showButtons()}},{key:"showButtons",value:function(){this.trigger("expand"),this.$el.addClass("showing")}},{key:"hideButtons",value:function(){this.trigger("contract"),this.$el.removeClass("showing")}},{key:"changeTag",value:function(e){e&&e.preventDefault();var t=e.currentTarget;if(t){var n=t.dataset.tagname;this.replaceTagWith(n)}}},{key:"replaceTagWith",value:function(e){var t,n,r;if(e&&this.target){var o=this.target,i={pre:"code",ol:"li",ul:"li"},s=i[o.tagName.toLowerCase()];if(s){var c=o.querySelectorAll(s);t=Array.from(c)}t&&t.length||(t=[o]),i[e]?(r=i[e],n=document.createElement(e)):t.length>1?(r=e,n=document.createDocumentFragment()):n=document.createElement(e),i[e]||t.length>1?t.forEach((function(e){var t=document.createElement(r);t.innerHTML=e.innerHTML,n.append(t)})):n.innerHTML=t[0].innerHTML,this.log("Placing",n,"over",o),o.replaceWith(n),this.trigger("modify",n),this.log("Leaves us with",n),this.setTarget(n)}}}])&&Ry(t.prototype,n),s}(Dn);Dy.prototype.template=ky(),Dy.prototype.tagName="div",Dy.prototype.className="cms-helper-tool cms-modifier",Dy.prototype.events={"click a.hide":"toggleButtons","click a.show":"toggleButtons","click a[data-tagname]":"changeTag"};const Ny=Dy;function By(e){return By="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(e)}function Vy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function My(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iy(e,t){return Iy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Iy(e,t)}function Ly(e,t){if(t&&("object"===By(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $y(e)}function $y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qy(e)}var Hy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iy(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qy(r);if(o){var n=qy(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ly(this,e)});function s(){var e;Vy(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onRender=e.onRender.bind($y(e)),e.place=e.place.bind($y(e)),e.show=e.show.bind($y(e)),e.hide=e.hide.bind($y(e)),e}return t=s,n=[{key:"initialize",value:function(e){var t=e.helped,n=e.callbacks;this.helped_el=t,this.callbacks=n||{},document.body.appendChild(this.el)}},{key:"onRender",value:function(){this.helped_el&&(this.assetInserter=new Sy({helped:this.helped_el}),this.showChildView("inserter",this.assetInserter),this.assetInserter.on("insert",this.assetInserted.bind(this)),this.blockModifier=new Ny({helped:this.helped_el}),this.showChildView("modifier",this.blockModifier),this.blockModifier.on("modify",this.blockModified.bind(this))),this.hide()}},{key:"blockModified",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.log("blockModified",t),this.trigger.apply(this,["modify"].concat(t))}},{key:"assetInserted",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.log("assetInserted",t),this.trigger.apply(this,["insert"].concat(t))}},{key:"help",value:function(e){this.placeOn(e)}},{key:"placeOn",value:function(e){var t="p, h2, h3, ol, ul, pre",n=e;e.nodeType===Node.TEXT_NODE&&(n=n.parentNode),n&&!n.matches(t)&&(n=n.closest(t)),n?(n.innerText.trim()?this.prepareToModify(n):this.prepareToInsertAt(n),this.place(n),this.show()):(this.ui.modifier.hide(),this.ui.inserter.show(),this.hide())}},{key:"prepareToModify",value:function(e){this.blockModifier.setTarget(e),this.ui.inserter.hide(),this.ui.modifier.show()}},{key:"prepareToInsertAt",value:function(e){this.assetInserter.setTarget(e),this.ui.modifier.hide(),this.ui.inserter.show()}},{key:"place",value:function(e){var t=e.getBoundingClientRect();this.$el.css({top:t.top+window.scrollY-6,left:t.left+window.scrollX-34}),this.show()}},{key:"show",value:function(){this.$el.show()}},{key:"hide",value:function(){this.$el.hide()}}],n&&My(t.prototype,n),s}(Dn);Hy.prototype.tagName="div",Hy.prototype.className="cms-helper",Hy.prototype.template=py(),Hy.prototype.regions={modifier:"div.cms-modifier",inserter:"div.cms-inserter"},Hy.prototype.ui={modifier:"div.cms-modifier",inserter:"div.cms-inserter"};const Fy=Hy;var zy=n(9128),Uy=n.n(zy),Wy=n(8350),Gy=n.n(Wy);function Jy(e){return Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(e)}function Ky(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xy(e,t){return Xy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xy(e,t)}function Yy(e,t){if(t&&("object"===Jy(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qy(e){return Qy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qy(e)}var Zy=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xy(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Qy(t);if(n){var o=Qy(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Yy(this,e)});function o(){return Ky(this,o),r.apply(this,arguments)}return o}(Tu);Zy.prototype.template=Gy();const ev=Zy;function tv(e){return tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(e)}function nv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rv(e,t){return rv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rv(e,t)}function ov(e,t){if(t&&("object"===tv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function iv(e){return iv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},iv(e)}var sv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rv(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=iv(t);if(n){var o=iv(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return ov(this,e)});function o(){return nv(this,o),r.apply(this,arguments)}return o}(op);sv.prototype.childView=ev;const cv=sv;var av=n(9327),uv=n.n(av),lv=n(9050);function fv(e){return fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(e)}function pv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dv(e,t){return dv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},dv(e,t)}function yv(e,t){if(t&&("object"===fv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vv(e)}function vv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mv(e){return mv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mv(e)}var gv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dv(e,t)}(c,e);var t,n,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mv(o);if(i){var n=mv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return yv(this,e)});function c(){var e;pv(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).onRender=e.onRender.bind(vv(e)),e.place=e.place.bind(vv(e)),e.show=e.show.bind(vv(e)),e.hide=e.hide.bind(vv(e)),e}return t=c,n=[{key:"initialize",value:function(){this.collection=new Ve([]),this.model=new r.Model,document.body.appendChild(this.el)}},{key:"help",value:function(e){var t=e.node,n=e.range;this.log("help",t,n),this.releaseNode(),this.bindNode(t),this._range=n,this.render(),this.place(),this.show(),this.model.on("change",this.updateViews.bind(this)),this.collection.on("add remove reset",lv.debounce(this.setSuggestionVisibility.bind(this),200)),this.setSuggestionVisibility()}},{key:"bindNode",value:function(e){e&&3!==e.nodeType&&(this.helped_el=e,this.model.set({href:e.href,title:e.title,cssclass:e.className,pops:"_blank"===e.target}),e.classList.add("composing"))}},{key:"releaseNode",value:function(){this.helped_el&&(this.helped_el.classList.remove("composing"),this.helped_el=null)}},{key:"onRender",value:function(){this.stickit(),this._suggestions_list=new cv({collection:this.collection}),this.showChildView("suggestions",this._suggestions_list),this._suggestions_list.on("select",this.applySuggestion.bind(this)),this.makeSuggestions(),this.ui.href.focus()}},{key:"updateViews",value:function(){if(this.helped_el){var e=this.model.get("href");e?this.helped_el.href=e:this.helped_el.removeAttribute("href");var t=this.model.get("title");t?this.helped_el.title=t:this.helped_el.removeAttribute("title");var n=this.model.get("cssclass");this.helped_el.className=n||"",this.model.get("pops")?this.helped_el.target="_blank":this.helped_el.removeAttribute("target"),this.makeSuggestions(e)}}},{key:"makeSuggestions",value:function(e){e?this.collection.setQuery(e):this.collection.reset(),this.setSuggestionVisibility()}},{key:"setSuggestionVisibility",value:function(){var e=this,t=this.collection.models;this.model.get("path")&&(t=t.filter((function(t){return t.get("path")!==e.model.get("path")}))),this.log("setSuggestionVisibility",t.length),t.length?this.ui.suggestions_holder.show():this.ui.suggestions_holder.hide()}},{key:"applySuggestion",value:function(e){var t=e.get("path"),n=e.get("title");if(t){var r="/".concat(t);this.model.set({href:r,path:t,title:n})}this.log("applySuggestion",e,"=>",lv.clone(this.model.attributes)),this.close()}},{key:"placeOn",value:function(e){this.log("placeOn",e),e&&this.place(e.getBoundingClientRect)}},{key:"place",value:function(){var e;if(this.helped_el?e=this.helped_el.getBoundingClientRect():this._range&&(e=this._range.getBoundingClientRect()),e){var t=e.bottom+window.scrollY+6,n=e.left+window.scrollX+e.width/2;this.el.style.top="".concat(t,"px"),this.el.style.left="".concat(n,"px")}this.offsetIntoView(),this.el.scrollIntoViewIfNeeded()}},{key:"offsetIntoView",value:function(){var e=this.el.getBoundingClientRect(),t=e.left+e.width+10-window.innerWidth,n=this.el.querySelector(".cms-bg");this.log("floater overshoot",t),n.style.transform=t>0?"translate(".concat(-t,"px, 0)"):"translate(0, 0)"}},{key:"show",value:function(){this.el.classList.add("showing")}},{key:"hide",value:function(){this.releaseNode(),this.el.classList.remove("showing")}},{key:"close",value:function(e){e&&e.preventDefault(),this.hide(),this.trigger("close")}},{key:"removeNode",value:function(e){e&&e.preventDefault(),this.hide(),this.trigger("remove")}},{key:"toggleDetails",value:function(e){e&&e.preventDefault(),this.ui.details_holder.hasClass("open")?(this.ui.toggle.removeClass("open"),this.ui.details_holder.removeClass("open")):(this.ui.toggle.addClass("open"),this.ui.details_holder.addClass("open"))}}],n&&hv(t.prototype,n),c}(Dn);gv.prototype.tagName="div",gv.prototype.className="cms-floater cms-linker",gv.prototype.template=uv(),gv.prototype.ui={body:".cms-bg",suggestions_holder:"div.suggestions",details_holder:"div.details",href:'input[name="href"]',cssclass:'input[name="class"]',title:'input[name="title"]',close:"a.close",toggle:"a.detail",remove:"a.remove"},gv.prototype.events={"click @ui.set":"setLink","click @ui.toggle":"toggleDetails","click @ui.close":"close","click @ui.remove":"removeNode"},gv.prototype.regions={suggestions:"div.suggested_page_list"},gv.prototype.bindings={'input[name="href"]':"href",'input[name="title"]':"title",'input[name="pops"]':"pops"};const bv=gv;function wv(e){return wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(e)}function _v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ov(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ov(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ov(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kv(e,t){return kv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kv(e,t)}function jv(e,t){if(t&&("object"===wv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ev(e)}function Ev(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rv(e){return Rv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Rv(e)}var Pv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kv(e,t)}(c,e);var t,n,r,o,i,s=(o=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Rv(o);if(i){var n=Rv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return jv(this,e)});function c(){var e;Sv(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).onRender=e.onRender.bind(Ev(e)),e.place=e.place.bind(Ev(e)),e.show=e.show.bind(Ev(e)),e.hide=e.hide.bind(Ev(e)),e}return t=c,r=[{key:"tagFor",value:function(e){switch(e){case"strong":case"bold":return"strong";case"em":case"italic":return"em";case"s":case"strikethrough":return"s";case"u":case"underline":return"u";case"a":case"anchor":return"a";case"code":return"code";default:return"span"}}},{key:"tagsMatching",value:function(e){switch(e){case"bold":return["strong","b"];case"italic":return["em","i"];case"strikethrough":return["s","del"];case"underline":return["u"];case"anchor":return["a"];case"code":return["code"];default:return[]}}}],(n=[{key:"initialize",value:function(e){var t=e.helped;this.helped_el=t,document.body.appendChild(this.el)}},{key:"help",value:function(e){this._range=e.getRangeAt(0).cloneRange(),this.placeOnSelection(),this.showCurrentFormat(),this.show()}},{key:"placeOnSelection",value:function(){if(this._range){var e=this._range.getBoundingClientRect();this.place(e)}}},{key:"showCurrentFormat",value:function(){var e=this;this.el.querySelectorAll("[data-cms-format]").forEach((function(t){var n=t.dataset.cmsFormat,r=_v(e.formattingState(n),1)[0];!n||"inside"!==r&&"contiguous"!==r?!n||"starting"!==r&&"ending"!==r?(t.classList.remove("selected"),t.classList.remove("partly")):(t.classList.add("partly"),t.classList.remove("selected")):(t.classList.add("selected"),t.classList.remove("partly"))}))}},{key:"formatButtonAction",value:function(e){var t=e.currentTarget;if(t){var n=t.dataset.cmsFormat;"anchor"===n?this.anchorHelper():n&&(this.applyFormat(n),this.reselectRange())}}},{key:"applyFormat",value:function(e,t){var n=t||this._range,r=n.startContainer,o=n.endContainer;if(this.log("applyFormat",r,o),r===o)return this.applyFormatToRange(e,n);if(3===r.nodeType&&3===o.nodeType){if(r.parentNode===o.parentNode)return this.applyFormatToRange(e,n);if(o.parentNode.contains(r)||r.parentNode.contains(o))return this.applyFormatToRange(e,n)}return this.applyFormatToNodes(e,n)}},{key:"applyFormatToRange",value:function(e,t){var n,r=this,o=t||this._range,i=_v(this.formattingState(e,o),2),s=i[0],a=i[1],u=c.tagFor(e);if(this.log("applyFormatToRange",s,a),"contiguous"===s){var l=this.unwrapNode(a);return o.setStartBefore(l[0]),void o.setEndAfter(l[l.length-1])}if("inside"===s){var f=o.startContainer,p=f.splitText(o.endOffset),h=f.splitText(o.startOffset);if(a.after(h),p.textContent.trim()){var d=document.createElement(u);d.append(p),h.after(d)}return this.log("beforeNode.textContent",f,f.textContent),void(a.innerText.trim()||a.remove())}if("starting"===s){var y=o.startContainer.splitText(o.startOffset);return a.after(y),void o.setStartBefore(y)}if("ending"===s){var v=o.startContainer.splitText(o.startOffset);return a.prepend(v),void o.setEndAfter(v)}try{n=this.wrapRange(u,o)}catch(t){this.applyFormatToNodes(e,o)}if(n){var m=c.tagsMatching(e);n.querySelectorAll(m.join(", ")).forEach((function(e){r.unwrapNode(e)})),o.selectNodeContents(n)}}},{key:"wrapRange",value:function(e,t){var n=document.createElement(e);return t.surroundContents(n),n.normalize(),n}},{key:"applyFormatToNodes",value:function(e,t){var n,r,o=this,i=t||this._range,s=i.startContainer,c=this._range.endContainer,a=i.extractContents();Array.from(a.childNodes).forEach((function(t){var n=o.applyFormatToNode(t,e);o.log("replacinng",t),o.log("with",n),t.replaceWith(n)}));var u=a.firstChild,l=s;3===l.nodeType&&(l=l.parentNode),l.contains(c)?s.after(u):3===u.nodeType?l.append(u):(Array.from(u.childNodes).forEach((function(e){n||(n=e),l.append(e)})),u.remove());var f=a.lastChild,p=c;3===p.nodeType&&(p=p.parentNode),p.contains(s)?c.before(f):3===f.nodeType?p.prepend(f):(Array.from(f.childNodes).reverse().forEach((function(e){r||(r=e),p.prepend(e)})),f.remove()),p.before(a),n&&i.setStartBefore(n),r&&i.setEndAfter(r)}},{key:"applyFormatToNode",value:function(e,t){this.log("applyFormatToNode",e,t);var n=c.tagFor(t),r=c.tagsMatching(t);if(3===e.nodeType)return this.wrapText(n,e);var o=e.querySelector(r.join(", "));return o?(this.unwrapNode(o),e):this.wrapNode(n,e)}},{key:"wrapText",value:function(e,t){var n=document.createElement(e);return n.append(t.cloneNode()),n}},{key:"wrapNode",value:function(e,t){if(t.innerText.trim().length){var n=document.createElement(e);n.innerHTML=t.innerHTML,t.innerHTML=n.outerHTML}return t}},{key:"unwrapNode",value:function(e){var t=this,n=Array.from(e.childNodes);return n.forEach((function(n){e.before(n),t.log("unwrapped",n)})),e.remove(),n}},{key:"formattingState",value:function(e,t){var n=t||this._range,r=c.tagsMatching(e),o=n.commonAncestorContainer;if(o&&(o.tagName||(o=o.parentNode),o=o.closest(r.join(","))))return n.cloneContents().textContent===o.innerText?["contiguous",o]:["inside",o];var i=n.startContainer;if(i.tagName||(i=i.parentNode),r.includes(i.tagName.toLowerCase()))return["starting",i];var s=n.endContainer;if(s.tagName||(s=s.parentNode),r.includes(s.tagName.toLowerCase()))return["ending",s];var a=n.cloneContents(),u=a.querySelector(r.join(","));return u?(u.remove(),a.childNodes.length?["outside",null]:(n.deleteContents(),n.insertNode(u),n.selectNodeContents(u),["contiguous",u])):["none",null]}},{key:"place",value:function(e){var t=e.top+window.scrollY-40,n=e.left+window.scrollX+e.width/2;this.el.style.top="".concat(t,"px"),this.el.style.left="".concat(n,"px"),this.offsetIntoView()}},{key:"offsetIntoView",value:function(){var e=this.el.getBoundingClientRect(),t=e.left+e.width+10-window.innerWidth,n=this.el.querySelector(".cms-bg");this.log("floater overshoot",t),n.style.transform=t>0?"translate(".concat(-t,"px, 0)"):"translate(0, 0)"}},{key:"show",value:function(){this.releaseAnchor(),this.el.classList.add("showing")}},{key:"hide",value:function(){this.el.classList.remove("showing")}},{key:"close",value:function(){this.releaseAnchor(),this.hide()}},{key:"checkAnchorAndReselect",value:function(){this._active_anchor&&(this._active_anchor.href?(this._range.selectNodeContents(this._active_anchor),this._active_anchor=void 0,this.reselectRange()):this.deleteAnchor())}},{key:"deleteAnchor",value:function(){this._active_anchor&&this.unwrapNode(this._active_anchor),this._active_anchor=void 0}},{key:"anchorHelper",value:function(){var e=_v(this.formattingState("anchor"),2),t=e[0],n=e[1];t||(t="none"),n||(n=this.wrapRange("a",this._range)),this._range.selectNodeContents(n),this._anchor_helper||(this._anchor_helper=new bv,this._anchor_helper.on("close",this.checkAnchorAndReselect.bind(this)),this._anchor_helper.on("remove",this.deleteAnchor.bind(this))),this._anchor_helper.help({node:n,range:this._range}),this._active_anchor=n,this.hide()}},{key:"resumeHelping",value:function(){this.releaseAnchor(),this.show(),this.reselectRange()}},{key:"releaseAnchor",value:function(){this._active_anchor&&this._anchor_helper&&this._anchor_helper.close()}},{key:"reselectRange",value:function(e){var t=e||this._range,n=window.getSelection();n.removeAllRanges(),n.addRange(t),this.showCurrentFormat()}}])&&xv(t.prototype,n),r&&xv(t,r),c}(Dn);Pv.prototype.tagName="div",Pv.prototype.className="cms-floater cms-toolbar",Pv.prototype.template=Uy(),Pv.prototype.events={"click a[data-cms-format]":"formatButtonAction"},Pv.prototype.ui={formatters:"[data-cms-format]"};const Tv=Pv;var Cv=new Set(["p","ul","ol","li","h2","h3","strong","em","u","s","a","code","img","table","thead","tbody","tr","th","td","span"]),Av=new Set(["span","b","i","u","strong","em","s"]),Dv=new Set(["src","href","target","title","role"]),Nv=["https://","http://","data://"],Bv={i:"em",b:"strong",h1:"h2",h4:"h3",h5:"h3",form:"div",fieldset:"div"};function Vv(e){var t=e.tagName.toLowerCase();return Bv[t]}function Mv(e){return Dv.has(e.toLowerCase())}function Iv(e){if(3===e.nodeType)return e.cloneNode(!0);if(function(e){return Av.has(e.tagName.toLowerCase())&&""===e.innerText.trim()}(e))return"";if(!function(e){return Cv.has(e.tagName.toLowerCase())}(e)&&!Vv(e))return"";var t=Vv(e)||e.tagName,n=document.createElement(t);return Array.from(e.attributes).forEach((function(e){var t,r;"style)"===e.name?(t=!1,r=""):"src"===e.name||"href"===e.name?(t=Mv(e.name)&&function(e){return Nv.find((function(t){return e.slice(0,t.length)===t}))}(e.value),r=e.value):(t=Mv(e.name),r=e.value),t&&n.setAttribute(e.name,r)})),Array.from(e.childNodes).forEach((function(e){var t=Iv(e);t&&n.append(t)})),n}function Lv(e){return Iv(e)}var $v=n(9050);function qv(e){return qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(e)}function Hv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zv(e,t,n){return zv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jv(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},zv(e,t,n||e)}function Uv(e,t){return Uv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Uv(e,t)}function Wv(e,t){if(t&&("object"===qv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gv(e)}function Gv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Jv(e)}var Kv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uv(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Jv(r);if(o){var n=Jv(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Wv(this,e)});function s(){var e;Hv(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).render=e.render.bind(Gv(e)),e}return t=s,(n=[{key:"initialize",value:function(){zv(Jv(s.prototype),"initialize",this).call(this),this.log("🌼 blocksHelper init",this.el.cloneNode(!0))}},{key:"render",value:function(){var e,t,n;if(e=this.el,Array.from(e.childNodes).forEach((function(e){var t=Iv(e);e.replaceWith(t)})),this.el.contentEditable=!0,this.el.classList.add("cms-blocks"),this.el.dataset.placeholder=y("placeholders.page.blocks"),0===this.el.childElementCount){var r=document.createElement("p");r.dataset.placeholder=this.el.dataset.placeholder,this.el.appendChild(r)}this.block_helper=(t=this.el,(n=new Fy({helped:t,callbacks:undefined})).render(),n),this.block_helper.on("insert",this.insertedAsset.bind(this)),this.block_helper.on("modify",this.modifiedBlock.bind(this)),this.format_helper=function(e,t){var n=new Tv({helped:e,callbacks:void 0});return n.render(),n}(this.el),this.format_helper.on("change",this.changedFormat.bind(this)),this.content_observer=new MutationObserver($v.debounce(this.contentChange.bind(this)),500),this.content_observer.observe(this.el,{characterData:!0,childList:!0,subtree:!0}),this.el.addEventListener("paste",this.paste.bind(this))}},{key:"insertedAsset",value:function(e,t){this.log("insertedAsset",e,t);var n=document.createElement("div");if(n.classList.add("cms-blocks"),t&&t.nextSibling)for(;t.nextSibling;)n.append(t.nextSibling);else n.append(document.createElement("P"));t.remove(),this.el.after(e,n),this.block_helper.hide()}},{key:"modifiedBlock",value:function(e){this.log("modifiedBlock",e)}},{key:"changedFormat",value:function(){this.log("changedFormat")}},{key:"focus",value:function(){this.el.focus()}},{key:"handleSelection",value:function(e,t){e.isCollapsed?(this.block_helper.help(t),this.format_helper.close()):this.format_helper.help(e)}},{key:"releaseSelection",value:function(){this.format_helper.hide()}},{key:"subsume",value:function(e){var t=this,n=e.tagName.toLowerCase()===this.tagName.toLowerCase(),r=e.classList.contains(this.className);if(n&&r)Array.from(e.children).forEach((function(e){return t.el.append(e)}));else{var o=Lv(e);this.el.append(o)}e.cmsHelper&&e.cmsHelper.destroy(),e.remove()}},{key:"paste",value:function(e){e.preventDefault();var t=e.clipboardData||window.clipboardData;if(t){var n=window.getSelection();if(n.rangeCount){n.deleteFromDocument();var r=n.getRangeAt(0),o=t.getData("text/html")||t.getData("text"),i=r.createContextualFragment(o);Array.from(i.childNodes).forEach((function(e){var t=Lv(e);t&&(r.insertNode(t),r.setStartAfter(t))})),r.collapse(),n.removeAllRanges(),n.addRange(r)}}}},{key:"onBeforeDestroy",value:function(){this._toolbar&&this._toolbar.destroy(),this._inserter&&this._inserter.destroy(),this.content_observer&&this.content_observer.disconnect()}},{key:"contentChange",value:function(){this.trigger("updated")}},{key:"cleanContent",value:function(){return gn(this.el)}},{key:"placeHelper",value:function(e){this.block_helper.help(e.currentTarget)}}])&&Fv(t.prototype,n),s}(Dn);Kv.prototype.tagName="div",Kv.prototype.className="cms-blocks",Kv.prototype.label="blocks",Kv.prototype.events={"mouseover p":"placeHelper","mouseover h2":"placeHelper","mouseover h3":"placeHelper","mouseover ol":"placeHelper","mouseover ul":"placeHelper","mouseover pre":"placeHelper"};const Xv=Kv;var Yv=n(9050);function Qv(e){return Qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(e)}function Zv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function em(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tm(e,t){return tm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tm(e,t)}function nm(e,t){if(t&&("object"===Qv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rm(e){return rm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rm(e)}var om=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tm(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rm(r);if(o){var n=rm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return nm(this,e)});function s(){return Zv(this,s),i.apply(this,arguments)}return t=s,n=[{key:"onRender",value:function(){var e=this.model.get("content");e&&e.trim()?this.el.innerHTML=e:this.el.innerHTML='<div class="blocks"></div>',this.list_observer=new MutationObserver(this.elementsChange.bind(this)),this.list_observer.observe(this.el,{childList:!0}),document.onselectionchange=Yv.debounce(this.selectionChange.bind(this),100),this.setHelpers()}},{key:"elementsChange",value:function(){this.setHelpers()}},{key:"contentChange",value:function(){this.model.set("content",this.cleanContent()),this.model.set("excerpt",this.extractExcerpt())}},{key:"selectionChange",value:function(){var e=document.getSelection();if(e.rangeCount){var t=e.getRangeAt(0).commonAncestorContainer;if(1!==t.nodeType&&(t=t.parentNode),this.el.contains(t)){Array.from(this.el.children).forEach((function(e){e.cmsHelper&&e.cmsHelper.releaseSelection&&e.cmsHelper.releaseSelection()}));var n=t.closest(".cms-blocks");n&&n.cmsHelper&&n.cmsHelper.handleSelection(e,t)}}}},{key:"onDestroy",value:function(){this.list_observer&&this.list_observer.disconnect(),Array.from(this.el.children).forEach((function(e){e.cmsHelper&&e.cmsHelper.destroy()}))}},{key:"setHelpers",value:function(){var e=this;Array.from(this.el.children).every((function(t){var n=zd.find((function(e){return t.matches(e.selector)}));if(n)return e.assetHelper(t,n);var r=zd.find((function(e){return t.matches(e.migrate_selector)}));return r?e.assetImport(t,r):e.blocksHelper(t)}))}},{key:"assetHelper",value:function(e,t){var n=e;if(!n.cmsHelper){var r=t.content_view,o=t.label,i=this.model,s=new ly({el:n,page:i,label:o,contentView:r});n.cmsHelper=s,s.render(),s.on("updated",this.contentChange.bind(this)),s.focus()}return!0}},{key:"assetImport",value:function(e,t){var n=t.content_view,r=this.model,o=t.label,i=new ly({page:r,label:o,contentView:n,migrate:e.cloneNode(!0)});return i.render(),this.el.insertBefore(i.el,e),e.remove(),!1}},{key:"blocksHelper",value:function(e){var t=e;if(t.previousElementSibling&&t.previousElementSibling.cmsBlocks)return t.previousElementSibling.cmsHelper.subsume(t),!1;if("DIV"!==t.tagName||!t.classList.contains("cms-blocks")){var n=document.createElement("DIV");return n.classList.add("cms-blocks"),t.parentNode.insertBefore(n,t),n.appendChild(t),!1}if(!t.cmsHelper){var r=this.model,o=new Xv({el:t,page:r});o.render(),o.on("updated",this.contentChange.bind(this)),t.cmsHelper=o,t.cmsBlocks=!0}return!0}},{key:"cleanContent",value:function(){var e=[];return Array.from(this.el.children).forEach((function(t){if(t.cmsHelper){var n=t.cmsHelper.cleanContent();e.push(n)}})),e.join("\n")}},{key:"extractExcerpt",value:function(){return x(mn(this.el).innerText.trim(),512)}}],n&&em(t.prototype,n),s}(Dn);om.prototype.tagName="div",om.prototype.className="content";const im=om;function sm(e){return sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(e)}function cm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function um(e,t){return um=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},um(e,t)}function lm(e,t){if(t&&("object"===sm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fm(e)}function fm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pm(e){return pm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pm(e)}var hm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&um(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pm(r);if(o){var n=pm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return lm(this,e)});function s(){var e;cm(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onAfterRender=e.onAfterRender.bind(fm(e)),e.closeMenusOtherThan=e.closeMenusOtherThan.bind(fm(e)),e}return t=s,n=[{key:"onAfterRender",value:function(){var e=this;this.showChildView("title",new Pl({model:this.model})),this.showChildView("content",new im({model:this.model})),this.showChildView("masthead",new Vs({model:this.model})),this.siteView=new gl({model:this.model}),this.showChildView("site",this.siteView),this.siteView.on("open",(function(){return e.closeMenusOtherThan(e.siteView)})),this.configView=new hu({model:this.model}),this.showChildView("config",this.configView),this.configView.on("open",(function(){return e.closeMenusOtherThan(e.configView)})),this.controlView=new gc({model:this.model}),this.showChildView("control",this.controlView),this.controlView.on("open",(function(){return e.closeMenusOtherThan(e.controlView)}))}},{key:"closeMenusOtherThan",value:function(e){e!==this.siteView&&this.siteView.close(),e!==this.configView&&this.configView.close(),e!==this.controlView&&this.controlView.close()}}],n&&am(t.prototype,n),s}(Dn);hm.prototype.template=wl(),hm.prototype.tagName="main",hm.prototype.regions={masthead:"#cms_illustration",title:"#cms_title",content:"#cms_content",config:".page_config",control:".page_control",site:".site"};const dm=hm;var ym=n(3673),vm=n.n(ym),mm=n(9050);function gm(e){return gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(e)}function bm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _m(e,t){return _m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_m(e,t)}function Om(e,t){if(t&&("object"===gm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sm(e)}function Sm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xm(e){return xm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xm(e)}var km=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_m(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xm(r);if(o){var n=xm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Om(this,e)});function s(){var e;bm(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).onRender=e.onRender.bind(Sm(e)),e.fadeOut=e.fadeOut.bind(Sm(e)),e.close=e.close.bind(Sm(e)),e}return t=s,(n=[{key:"onRender",value:function(){this.stickit(),mm.delay(this.fadeOut.bind(this),this.model.get("duration")||4e3)}},{key:"fadeOut",value:function(){this.$el.fadeOut(500,this.close.bind(this))}},{key:"close",value:function(e){e&&e.preventDefault(),this.$el.stop(!0,!1).hide(),this.model.collection&&this.model.collection.remove(this.model)}}])&&wm(t.prototype,n),s}(p.View);km.prototype.template=vm(),km.prototype.tagName="li",km.prototype.events={click:"fadeOut"},km.prototype.bindings={".message":{observe:"message",updateMethod:"html"},":el":{attributes:[{name:"class",observe:"type"}]}};const jm=km;function Em(e){return Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(e)}function Rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pm(e,t){return Pm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pm(e,t)}function Tm(e,t){if(t&&("object"===Em(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cm(e){return Cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cm(e)}var Am=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pm(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=Cm(t);if(n){var o=Cm(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Tm(this,e)});function o(){return Rm(this,o),r.apply(this,arguments)}return o}(p.CollectionView);Am.prototype.childView=jm,Am.prototype.tagName="ul",Am.prototype.className="notices";const Dm=Am;var Nm=n(5637),Bm=n.n(Nm);function Vm(e){return Vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(e)}function Mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lm(e,t){return Lm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Lm(e,t)}function $m(e,t){if(t&&("object"===Vm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qm(e){return qm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qm(e)}var Hm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lm(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qm(r);if(o){var n=qm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return $m(this,e)});function s(){return Mm(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"onRender",value:function(){this.ui.message.html(this.getOption("message")),this.ui.notes.html(this.getOption("notes"))}}])&&Im(t.prototype,n),s}(Dn);Hm.prototype.template=Bm(),Hm.prototype.tagName="div",Hm.prototype.className="mask",Hm.prototype.ui={message:"p.message",notes:"p.notes"},Hm.prototype.triggers={"click a.accept":"accept","click a.reject":"reject","click a.close":"reject","click a.cancel":"reject"};const Fm=Hm;var zm=n(6037),Um=n.n(zm),Wm=n(9755);function Gm(e){return Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(e)}function Jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xm(e,t){return Xm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xm(e,t)}function Ym(e,t){if(t&&("object"===Gm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qm(e){return Qm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qm(e)}var Zm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xm(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qm(r);if(o){var n=Qm(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ym(this,e)});function s(){return Jm(this,s),i.apply(this,arguments)}return t=s,n=[{key:"onBeforeRender",value:function(){var e=this.el.dataset.cmsPage;this.model=new Ee({id:e}),console.log("⚛️ rendering UI in",this.el)}},{key:"onRender",value:function(){this.$el.addClass("waiting"),this.showChildView("notices",new Dm({collection:g})),this.showPageEditor(),this.$el.on("navigate",this.navigateIfSafe.bind(this)),this.$el.on("exit",this.departWithConfirmation.bind(this))}},{key:"showPageEditor",value:function(){var e=this;!function(e){window.p=e,E.on("add remove reset change:progress",(function(){var t=E.length>0;if(e.set("busy",t),t){var n=E.reduce((function(e,t){return e+(t.get("progress")||0)}),0);e.set("progress",n/E.length)}else e.unset("progress")}))}(this.model),this.getRegion("page").reset(),this.model.loadAnd((function(){e.stickit(),e.showChildView("page",new dm({model:e.model})),e.$el.removeClass("waiting")}))}},{key:"setModel",value:function(e){e!==this.model&&(this.model=e,this.showPageEditor())}},{key:"layoutClass",value:function(e){return"layout_".concat(e)}},{key:"navigateIfSafe",value:function(e,t){var n=this;this.log("⛑ navigateIfSafe",e,t),e&&e.preventDefault(),this.model?this.requestNavigationTo(t).done((function(){n.setModel(t)})):this.setModel(t)}},{key:"departWithConfirmation",value:function(e){this.log("⛑ departWithConfirmation"),e&&e.preventDefault(),this.requestNavigationAway().done((function(){window.location.href=f("exit_url")}))}},{key:"requestNavigationTo",value:function(e){var t=y("confirmations.page_jump"),n=e.get("title"),r="".concat(t," '").concat(n,"'?"),o=this.pageStatusNotes();return this.requestConfirmation(r,o)}},{key:"requestNavigationAway",value:function(){var e=y("confirmations.leave_editor"),t=this.pageStatusNotes();return this.requestConfirmation(e,t)}},{key:"pageStatusNotes",value:function(){var e="";return this.model.get("changed")?(e+=y("confirmations.page_unsaved"),this.model.get("busy")&&(e+=y("confirmations.and_work_in_progress"))):this.model.get("busy")&&(e+=y("confirmations.work_in_progress")),e}},{key:"requestConfirmation",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Wm.Deferred(),o=new Fm({message:e,notes:n});return this.showChildView("warning",o),o.on("accept",(function(){t.clearWarning(),r.resolve()})),o.on("reject",(function(){t.clearWarning(),r.reject()})),r.promise()}},{key:"clearWarning",value:function(){this.getRegion("warning").reset()}}],n&&Km(t.prototype,n),s}(Dn);Zm.prototype.template=Um(),Zm.prototype.regions={notices:"#notices",warning:"#warning",page:"#cms_page"},Zm.prototype.bindings={"#cms_page":{attributes:[{name:"class",observe:"style",onGet:"layoutClass"}]}};const eg=Zm;function tg(e){return tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(e)}function ng(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function og(e,t){return og=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},og(e,t)}function ig(e,t){if(t&&("object"===tg(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sg(e){return sg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sg(e)}var cg=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&og(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sg(r);if(o){var n=sg(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ig(this,e)});function s(){return ng(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"initialize",value:function(e,t){return t&&l(t),window.onerror=O,this.page_el=e,pn(Xe).load(),hn().load(),this}},{key:"onStart",value:function(){this.ui=new eg({el:this.page_el}),this.ui.render()}}])&&rg(t.prototype,n),s}(p.Application);const ag=cg,ug=function(e,t){return new ag(e,t).start()}},5205:(e,t,n)=>{"use strict";n.r(t);const r=JSON.parse('{"api_url":"https://pub.croucher.dev/api","logging":true,"report_errors":true,"trap_errors":false,"terms_url":"https://db.croucher.org.hk/api/tags/search.json?q=","exit_url":"https://pub.croucher.dev/dashboard"}');var o=n(7508);document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("[data-cms-page]");(0,o.default)(e,r)}))},3574:function(e,t,n){!function(e,t,n,r){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r;var o="4.1.3",i=function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e.apply(t,r)}},s=t.Model.extend,c=function(e){var t=this;if(e)return n.reduce(e,(function(e,r,o){return n.isFunction(r)||(r=t[r]),r&&(e[o]=r),e}),{})},a=["description","fileName","lineNumber","name","message","number","url"],u=s.call(Error,{urlRoot:"http://marionettejs.com/docs/v".concat(o,"/"),url:"",constructor:function(e){var t=Error.call(this,e.message);n.extend(this,n.pick(t,a),n.pick(e,a)),Error.captureStackTrace&&this.captureStackTrace(),this.url=this.urlRoot+this.url},captureStackTrace:function(){Error.captureStackTrace(this,u)},toString:function(){return"".concat(this.name,": ").concat(this.message," See: ").concat(this.url)}});function l(e,t){if(!n.isObject(t))throw new u({message:"Bindings must be an object.",url:"common.html#bindevents"});return c.call(e,t)}function f(e,t){return e&&t?(this.listenTo(e,l(this,t)),this):this}function p(e,t){return e?t?(this.stopListening(e,l(this,t)),this):(this.stopListening(e),this):this}function h(e,t){if(!n.isObject(t))throw new u({message:"Bindings must be an object.",url:"common.html#bindrequests"});return c.call(e,t)}function d(e,t){return e&&t?(e.reply(h(this,t),this),this):this}function y(e,t){return e?t?(e.stopReplying(h(this,t),this),this):(e.stopReplying(null,null,this),this):this}var v=function(e){if(e)return this.options&&void 0!==this.options[e]?this.options[e]:this[e]},m=function(e,t){var r=this;e&&n.each(t,(function(t){var n=e[t];void 0!==n&&(r[t]=n)}))};function g(e,t,r){e._getImmediateChildren&&n.each(e._getImmediateChildren(),(function(e){r(e)&&e.triggerMethod(t,e)}))}function b(e){return!e._isAttached}function w(e){return!!b(e)&&(e._isAttached=!0,!0)}function _(e){return e._isAttached}function O(e){return e._isAttached=!1,!0}function S(e){e._isAttached&&e._isRendered&&e.triggerMethod("dom:refresh",e)}function x(e){e._isAttached&&e._isRendered&&e.triggerMethod("dom:remove",e)}function k(){g(this,"before:attach",b)}function j(){g(this,"attach",w),S(this)}function E(){g(this,"before:detach",_),x(this)}function R(){g(this,"detach",O)}function P(){x(this)}function T(){S(this)}function C(e){e._areViewEventsMonitored||!1===e.monitorViewEvents||(e._areViewEventsMonitored=!0,e.on({"before:attach":k,attach:j,"before:detach":E,detach:R,"before:render":P,render:T}))}var A=/(^|:)(\w)/gi,D={};function N(e,t,n){return n.toUpperCase()}var B=function(e){return D[e]||(D[e]="on"+e.replace(A,N)),D[e]};function V(e){var t,r=B(e),o=v.call(this,r);return n.isFunction(o)&&(t=o.apply(this,n.drop(arguments))),this.trigger.apply(this,arguments),t}var M={triggerMethod:V},I={normalizeMethods:c,_setOptions:function(e,t){this.options=n.extend({},n.result(this,"options"),e),this.mergeOptions(e,t)},mergeOptions:m,getOption:v,bindEvents:f,unbindEvents:p,bindRequests:d,unbindRequests:y,triggerMethod:V};n.extend(I,t.Events);var L={_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},destroy:function(e){return this._isDestroyed||(this.triggerMethod("before:destroy",this,e),this._isDestroyed=!0,this.triggerMethod("destroy",this,e),this.stopListening()),this}},$={_initRadio:function(){var e=n.result(this,"channelName");if(e){if(!r)throw new u({message:'The dependency "backbone.radio" is missing.',url:"backbone.radio.html#marionette-integration"});var t=this._channel=r.channel(e),o=n.result(this,"radioEvents");this.bindEvents(t,o);var i=n.result(this,"radioRequests");this.bindRequests(t,i),this.on("destroy",this._destroyRadio)}},_destroyRadio:function(){this._channel.stopReplying(null,null,this)},getChannel:function(){return this._channel}},q=["channelName","radioEvents","radioRequests"],H=function(e){this._setOptions(e,q),this.cid=n.uniqueId(this.cidPrefix),this._initRadio(),this.initialize.apply(this,arguments)};H.extend=s,n.extend(H.prototype,I,L,$,{cidPrefix:"mno",initialize:function(){}});var F=n.invokeMap||n.invoke;function z(e,t,r){return n.reduce(t,(function(t,r){var o=function(e){if(e.behaviorClass)return{BehaviorClass:e.behaviorClass,options:e};if(n.isFunction(e))return{BehaviorClass:e,options:{}};throw new u({message:"Unable to get behavior class. A Behavior constructor should be passed directly or as behaviorClass property of options",url:"marionette.behavior.html#defining-and-attaching-behaviors"})}(r),i=new(0,o.BehaviorClass)(o.options,e);return t.push(i),z(e,n.result(i,"behaviors"),t)}),r)}var U={_initBehaviors:function(){this._behaviors=z(this,n.result(this,"behaviors"),[])},_getBehaviorTriggers:function(){var e=F(this._behaviors,"_getTriggers");return n.reduce(e,(function(e,t){return n.extend(e,t)}),{})},_getBehaviorEvents:function(){var e=F(this._behaviors,"_getEvents");return n.reduce(e,(function(e,t){return n.extend(e,t)}),{})},_proxyBehaviorViewProperties:function(){F(this._behaviors,"proxyViewProperties")},_delegateBehaviorEntityEvents:function(){F(this._behaviors,"delegateEntityEvents")},_undelegateBehaviorEntityEvents:function(){F(this._behaviors,"undelegateEntityEvents")},_destroyBehaviors:function(e){F(this._behaviors,"destroy",e)},_removeBehavior:function(e){this._isDestroyed||(this.undelegate(".trig".concat(e.cid," .").concat(e.cid)),this._behaviors=n.without(this._behaviors,e))},_bindBehaviorUIElements:function(){F(this._behaviors,"bindUIElements")},_unbindBehaviorUIElements:function(){F(this._behaviors,"unbindUIElements")},_triggerEventOnBehaviors:function(e,t,n){F(this._behaviors,"triggerMethod",e,t,n)}},W={_delegateEntityEvents:function(e,t){e&&(this._modelEvents=n.result(this,"modelEvents"),this.bindEvents(e,this._modelEvents)),t&&(this._collectionEvents=n.result(this,"collectionEvents"),this.bindEvents(t,this._collectionEvents))},_undelegateEntityEvents:function(e,t){this._modelEvents&&(this.unbindEvents(e,this._modelEvents),delete this._modelEvents),this._collectionEvents&&(this.unbindEvents(t,this._collectionEvents),delete this._collectionEvents)},_deleteEntityEventHandlers:function(){delete this._modelEvents,delete this._collectionEvents}},G={_renderTemplate:function(e){var t=this.mixinTemplateContext(this.serializeData())||{},n=this._renderHtml(e,t);void 0!==n&&this.attachElContent(n)},getTemplate:function(){return this.template},mixinTemplateContext:function(e){var t=n.result(this,"templateContext");return t?e?n.extend({},e,t):t:e},serializeData:function(){return this.model?this.serializeModel():this.collection?{items:this.serializeCollection()}:void 0},serializeModel:function(){return this.model.attributes},serializeCollection:function(){return n.map(this.collection.models,(function(e){return e.attributes}))},_renderHtml:function(e,t){return e(t)},attachElContent:function(e){this.Dom.setContents(this.el,e,this.$el)}},J=/^(\S+)\s*(.*)$/,K=function(e,t){var n=e.match(J);return"".concat(n[1],".").concat(t," ").concat(n[2])},X={childViewEventPrefix:!1,triggersStopPropagation:!0,triggersPreventDefault:!0,DEV_MODE:!1};function Y(e){return!!X[e]}function Q(e,t){return X[e]=t}var Z={_getViewTriggers:function(e,t){var r=this;return n.reduce(t,(function(t,o,i){return t[i=K(i,"trig".concat(r.cid))]=function(e,t){n.isString(t)&&(t={event:t});var r=t.event,o=!!t.preventDefault;Y("triggersPreventDefault")&&(o=!1!==t.preventDefault);var i=!!t.stopPropagation;return Y("triggersStopPropagation")&&(i=!1!==t.stopPropagation),function(t){o&&t.preventDefault(),i&&t.stopPropagation();for(var n=arguments.length,s=new Array(n>1?n-1:0),c=1;c<n;c++)s[c-1]=arguments[c];e.triggerMethod.apply(e,[r,e,t].concat(s))}}(e,o),t}),{})}},ee=/@ui\.[a-zA-Z-_$0-9]*/g,te=function(e,t){return e.replace(ee,(function(e){return t[e.slice(4)]}))},ne={normalizeUIKeys:function(e){return function(e,t){return n.reduce(e,(function(e,n,r){return e[te(r,t)]=n,e}),{})}(e,this._getUIBindings())},normalizeUIString:function(e){var t=this._getUIBindings();return te(e,t)},normalizeUIValues:function(e,t){return function(e,t,r){return n.each(e,(function(o,i){if(n.isString(o))e[i]=te(o,t);else if(o){var s=o[r];n.isString(s)&&(o[r]=te(s,t))}})),e}(e,this._getUIBindings(),t)},_getUIBindings:function(){return n.result(this,"_uiBindings")||n.result(this,"ui")},_bindUIElements:function(){var e=this;if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=n.result(this,"_uiBindings");this._ui={},n.each(t,(function(t,n){e._ui[n]=e.$(t)})),this.ui=this._ui}},_unbindUIElements:function(){var e=this;this.ui&&this._uiBindings&&(n.each(this.ui,(function(t,n){delete e.ui[n]})),this.ui=this._uiBindings,delete this._uiBindings,delete this._ui)},_getUI:function(e){return this._ui[e]}};function re(e){return e instanceof t.$?e:t.$(e)}function oe(e){return this.prototype.Dom=n.extend({},this.prototype.Dom,e),this}var ie={createBuffer:function(){return document.createDocumentFragment()},getDocumentEl:function(e){return e.ownerDocument.documentElement},getEl:function(e){return re(e)},findEl:function(e,t){return re(e).find(t)},hasEl:function(e,t){return e.contains(t&&t.parentNode)},detachEl:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:re(e)).detach()},replaceEl:function(e,t){if(e!==t){var n=t.parentNode;n&&n.replaceChild(e,t)}},swapEl:function(e,t){if(e!==t){var n=e.parentNode,r=t.parentNode;if(n&&r){var o=e.nextSibling,i=t.nextSibling;n.insertBefore(t,o),r.insertBefore(e,i)}}},setContents:function(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:re(e)).html(t)},appendContents:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n._$el,o=void 0===r?re(e):r,i=n._$contents,s=void 0===i?re(t):i;o.append(s)},hasContents:function(e){return!!e&&e.hasChildNodes()},detachContents:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:re(e)).contents().detach()}},se={Dom:ie,_isElAttached:function(){return!!this.el&&this.Dom.hasEl(this.Dom.getDocumentEl(this.el),this.el)},supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,_isDestroyed:!1,isDestroyed:function(){return!!this._isDestroyed},_isRendered:!1,isRendered:function(){return!!this._isRendered},_isAttached:!1,isAttached:function(){return!!this._isAttached},delegateEvents:function(e){this._proxyBehaviorViewProperties(),this._buildEventProxies();var r=n.extend({},this._getBehaviorEvents(),this._getEvents(e),this._getBehaviorTriggers(),this._getTriggers());return t.View.prototype.delegateEvents.call(this,r),this},_getEvents:function(e){return e?this.normalizeUIKeys(e):this.events?this.normalizeUIKeys(n.result(this,"events")):void 0},_getTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(n.result(this,"triggers"));return this._getViewTriggers(this,e)}},delegateEntityEvents:function(){return this._delegateEntityEvents(this.model,this.collection),this._delegateBehaviorEntityEvents(),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.model,this.collection),this._undelegateBehaviorEntityEvents(),this},destroy:function(e){if(this._isDestroyed||this._isDestroying)return this;this._isDestroying=!0;var t=this._isAttached&&!this._disableDetachEvents;return this.triggerMethod("before:destroy",this,e),t&&this.triggerMethod("before:detach",this),this.unbindUIElements(),this._removeElement(),t&&(this._isAttached=!1,this.triggerMethod("detach",this)),this._removeChildren(),this._isDestroyed=!0,this._isRendered=!1,this._destroyBehaviors(e),this._deleteEntityEventHandlers(),this.triggerMethod("destroy",this,e),this._triggerEventOnBehaviors("destroy",this,e),this.stopListening(),this},_removeElement:function(){this.$el.off().removeData(),this.Dom.detachEl(this.el,this.$el)},bindUIElements:function(){return this._bindUIElements(),this._bindBehaviorUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this._unbindBehaviorUIElements(),this},getUI:function(e){return this._getUI(e)},_buildEventProxies:function(){this._childViewEvents=this.normalizeMethods(n.result(this,"childViewEvents")),this._childViewTriggers=n.result(this,"childViewTriggers"),this._eventPrefix=this._getEventPrefix()},_getEventPrefix:function(){var e=!!Y("childViewEventPrefix")&&"childview",t=n.result(this,"childViewEventPrefix",e);return!1===t?t:t+":"},_proxyChildViewEvents:function(e){(this._childViewEvents||this._childViewTriggers||this._eventPrefix)&&this.listenTo(e,"all",this._childViewEventHandler)},_childViewEventHandler:function(e){for(var t=this._childViewEvents,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t[e]&&t[e].apply(this,r);var i=this._childViewTriggers;i&&i[e]&&this.triggerMethod.apply(this,[i[e]].concat(r)),this._eventPrefix&&this.triggerMethod.apply(this,[this._eventPrefix+e].concat(r))}};function ce(e){e._isRendered||(e.supportsRenderLifecycle||e.triggerMethod("before:render",e),e.render(),e._isRendered=!0,e.supportsRenderLifecycle||e.triggerMethod("render",e))}function ae(e,t){if(e.destroy)return e._disableDetachEvents=t,void e.destroy();e.supportsDestroyLifecycle||e.triggerMethod("before:destroy",e);var n=e._isAttached&&!t;n&&e.triggerMethod("before:detach",e),e.remove(),n&&(e._isAttached=!1,e.triggerMethod("detach",e)),e._isDestroyed=!0,e.supportsDestroyLifecycle||e.triggerMethod("destroy",e)}n.extend(se,U,I,W,G,Z,ne);var ue="RegionError",le=["allowMissingEl","parentEl","replaceElement"],fe=function(e){this._setOptions(e,le),this.cid=n.uniqueId(this.cidPrefix),this._initEl=this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,this.$el=this._getEl(this.el),this.initialize.apply(this,arguments)};function pe(e,t){if(e instanceof fe)return e;if(n.isString(e))return he(t,{el:e});if(n.isFunction(e))return he(t,{regionClass:e});if(n.isObject(e))return he(t,e);throw new u({message:"Improper region configuration type.",url:"marionette.region.html#defining-regions"})}function he(e,t){var r=n.extend({},e,t),o=r.regionClass;return delete r.regionClass,new o(r)}fe.extend=s,fe.setDomApi=oe,n.extend(fe.prototype,I,{Dom:ie,cidPrefix:"mnr",replaceElement:!1,_isReplaced:!1,_isSwappingView:!1,initialize:function(){},show:function(e,t){if(this._ensureElement(t)){if((e=this._getView(e,t))===this.currentView)return this;if(e._isShown)throw new u({name:ue,message:"View is already shown in a Region or CollectionView",url:"marionette.region.html#showing-a-view"});return this._isSwappingView=!!this.currentView,this.triggerMethod("before:show",this,e,t),!this.currentView&&e._isAttached||this.empty(t),this._setupChildView(e),this.currentView=e,ce(e),this._attachView(e,t),this.triggerMethod("show",this,e,t),this._isSwappingView=!1,this}},_getEl:function(e){if(!e)throw new u({name:ue,message:'An "el" must be specified for a region.',url:"marionette.region.html#additional-options"});return this.getEl(e)},_setEl:function(){this.$el=this._getEl(this.el),this.$el.length&&(this.el=this.$el[0]),this.$el.length>1&&(this.$el=this.Dom.getEl(this.el))},_setElement:function(e){if(e===this.el)return this;var t=this._isReplaced;if(this._restoreEl(),this.el=e,this._setEl(),this.currentView){var n=this.currentView;t?this._replaceEl(n):this.attachHtml(n)}return this},_setupChildView:function(e){C(e),this._proxyChildViewEvents(e),e.on("destroy",this._empty,this)},_proxyChildViewEvents:function(e){var t=this._parentView;t&&t._proxyChildViewEvents(e)},_shouldDisableMonitoring:function(){return this._parentView&&!1===this._parentView.monitorViewEvents},_isElAttached:function(){return this.Dom.hasEl(this.Dom.getDocumentEl(this.el),this.el)},_attachView:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).replaceElement,r=!e._isAttached&&this._isElAttached()&&!this._shouldDisableMonitoring(),o=void 0===t?!!n.result(this,"replaceElement"):!!t;r&&e.triggerMethod("before:attach",e),o?this._replaceEl(e):this.attachHtml(e),r&&(e._isAttached=!0,e.triggerMethod("attach",e)),e._isShown=!0},_ensureElement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n.isObject(this.el)||this._setEl(),!this.$el||0===this.$el.length){if(void 0===e.allowMissingEl?n.result(this,"allowMissingEl"):e.allowMissingEl)return!1;throw new u({name:ue,message:'An "el" must exist in DOM for this region '.concat(this.cid),url:"marionette.region.html#additional-options"})}return!0},_getView:function(e){if(!e)throw new u({name:ue,message:"The view passed is undefined and therefore invalid. You must pass a view instance to show.",url:"marionette.region.html#showing-a-view"});if(e._isDestroyed)throw new u({name:ue,message:'View (cid: "'.concat(e.cid,'") has already been destroyed and cannot be used.'),url:"marionette.region.html#showing-a-view"});if(e instanceof t.View)return e;var n=this._getViewOptions(e);return new ge(n)},_getViewOptions:function(e){return n.isFunction(e)?{template:e}:n.isObject(e)?e:{template:function(){return e}}},getEl:function(e){var t=n.result(this,"parentEl");return t&&n.isString(e)?this.Dom.findEl(t,e):this.Dom.getEl(e)},_replaceEl:function(e){this._restoreEl(),e.on("before:destroy",this._restoreEl,this),this.Dom.replaceEl(e.el,this.el),this._isReplaced=!0},_restoreEl:function(){if(this._isReplaced){var e=this.currentView;e&&(this._detachView(e),this._isReplaced=!1)}},isReplaced:function(){return!!this._isReplaced},isSwappingView:function(){return!!this._isSwappingView},attachHtml:function(e){this.Dom.appendContents(this.el,e.el,{_$el:this.$el,_$contents:e.$el})},empty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowMissingEl:!0},t=this.currentView;return t?(this._empty(t,!0),this):(this._ensureElement(e)&&this.detachHtml(),this)},_empty:function(e,t){e.off("destroy",this._empty,this),this.triggerMethod("before:empty",this,e),this._restoreEl(),delete this.currentView,e._isDestroyed||(t?this.removeView(e):this._detachView(e),e._isShown=!1,this._stopChildViewEvents(e)),this.triggerMethod("empty",this,e)},_stopChildViewEvents:function(e){this._parentView&&this._parentView.stopListening(e)},destroyView:function(e){return e._isDestroyed||ae(e,this._shouldDisableMonitoring()),e},removeView:function(e){this.destroyView(e)},detachView:function(){var e=this.currentView;if(e)return this._empty(e),e},_detachView:function(e){var t=e._isAttached&&!this._shouldDisableMonitoring(),n=this._isReplaced;t&&e.triggerMethod("before:detach",e),n?this.Dom.replaceEl(this.el,e.el):this.detachHtml(),t&&(e._isAttached=!1,e.triggerMethod("detach",e))},detachHtml:function(){this.Dom.detachContents(this.el,this.$el)},hasView:function(){return!!this.currentView},reset:function(e){return this.empty(e),this.el=this._initEl,delete this.$el,this},_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},destroy:function(e){return this._isDestroyed||(this.triggerMethod("before:destroy",this,e),this._isDestroyed=!0,this.reset(e),this._name&&this._parentView._removeReferences(this._name),delete this._parentView,delete this._name,this.triggerMethod("destroy",this,e),this.stopListening()),this}});var de={regionClass:fe,_initRegions:function(){this.regions=this.regions||{},this._regions={},this.addRegions(n.result(this,"regions"))},_reInitRegions:function(){F(this._regions,"reset")},addRegion:function(e,t){var n={};return n[e]=t,this.addRegions(n)[e]},addRegions:function(e){if(!n.isEmpty(e))return e=this.normalizeUIValues(e,"el"),this.regions=n.extend({},this.regions,e),this._addRegions(e)},_addRegions:function(e){var t=this,r={regionClass:this.regionClass,parentEl:n.partial(n.result,this,"el")};return n.reduce(e,(function(e,n,o){return e[o]=pe(n,r),t._addRegion(e[o],o),e}),{})},_addRegion:function(e,t){this.triggerMethod("before:add:region",this,t,e),e._parentView=this,e._name=t,this._regions[t]=e,this.triggerMethod("add:region",this,t,e)},removeRegion:function(e){var t=this._regions[e];return this._removeRegion(t,e),t},removeRegions:function(){var e=this._getRegions();return n.each(this._regions,this._removeRegion.bind(this)),e},_removeRegion:function(e,t){this.triggerMethod("before:remove:region",this,t,e),e.destroy(),this.triggerMethod("remove:region",this,t,e)},_removeReferences:function(e){delete this.regions[e],delete this._regions[e]},emptyRegions:function(){var e=this.getRegions();return F(e,"empty"),e},hasRegion:function(e){return!!this.getRegion(e)},getRegion:function(e){return this._isRendered||this.render(),this._regions[e]},_getRegions:function(){return n.clone(this._regions)},getRegions:function(){return this._isRendered||this.render(),this._getRegions()},showChildView:function(e,t,n){return this.getRegion(e).show(t,n),t},detachChildView:function(e){return this.getRegion(e).detachView()},getChildView:function(e){return this.getRegion(e).currentView}};function ye(e){return this.prototype._renderHtml=e,this}var ve=["behaviors","childViewEventPrefix","childViewEvents","childViewTriggers","collectionEvents","events","modelEvents","regionClass","regions","template","templateContext","triggers","ui"];function me(e,t){return t.currentView&&e.push(t.currentView),e}var ge=t.View.extend({constructor:function(e){this._setOptions(e,ve),C(this),this._initBehaviors(),this._initRegions(),t.View.prototype.constructor.apply(this,arguments),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this,e)},setElement:function(){return t.View.prototype.setElement.apply(this,arguments),this._isRendered=this.Dom.hasContents(this.el),this._isAttached=this._isElAttached(),this._isRendered&&this.bindUIElements(),this},render:function(){var e=this.getTemplate();return!1===e||this._isDestroyed||(this.triggerMethod("before:render",this),this._isRendered&&this._reInitRegions(),this._renderTemplate(e),this.bindUIElements(),this._isRendered=!0,this.triggerMethod("render",this)),this},_removeChildren:function(){this.removeRegions()},_getImmediateChildren:function(){return n.reduce(this._regions,me,[])}},{setRenderer:ye,setDomApi:oe});n.extend(ge.prototype,se,de);var be=function(){this._init()};function we(e,t){return t.model&&t.model.get(e)}n.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce","partition"],(function(e){be.prototype[e]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n[e].apply(n,[this._views].concat(r))}})),n.extend(be.prototype,{_init:function(){this._views=[],this._viewsByCid={},this._indexByModel={},this._updateLength()},_add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._views.length;this._addViewIndexes(e),this._views.splice(t,0,e),this._updateLength()},_addViewIndexes:function(e){this._viewsByCid[e.cid]=e,e.model&&(this._indexByModel[e.model.cid]=e)},_sort:function(e,t){return"string"==typeof e?(e=n.partial(we,e),this._sortBy(e)):1===e.length?this._sortBy(e.bind(t)):this._views.sort(e.bind(t))},_sortBy:function(e){var t=n.sortBy(this._views,e);return this._set(t),t},_set:function(e,t){this._views.length=0,this._views.push.apply(this._views,e.slice(0)),t&&(this._viewsByCid={},this._indexByModel={},n.each(e,this._addViewIndexes.bind(this)),this._updateLength())},_swap:function(e,t){var n=this.findIndexByView(e),r=this.findIndexByView(t);if(-1!==n&&-1!==r){var o=this._views[n];this._views[n]=this._views[r],this._views[r]=o}},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){return this._indexByModel[e]},findByIndex:function(e){return this._views[e]},findIndexByView:function(e){return this._views.indexOf(e)},findByCid:function(e){return this._viewsByCid[e]},hasView:function(e){return!!this.findByCid(e.cid)},_remove:function(e){if(this._viewsByCid[e.cid]){e.model&&delete this._indexByModel[e.model.cid],delete this._viewsByCid[e.cid];var t=this.findIndexByView(e);this._views.splice(t,1),this._updateLength()}},_updateLength:function(){this.length=this._views.length}});var _e="CollectionViewError",Oe=["behaviors","childView","childViewContainer","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","emptyView","emptyViewOptions","events","modelEvents","sortWithCollection","template","templateContext","triggers","ui","viewComparator","viewFilter"],Se=t.View.extend({sortWithCollection:!0,constructor:function(e){this._setOptions(e,Oe),C(this),this._initChildViewStorage(),this._initBehaviors(),t.View.prototype.constructor.apply(this,arguments),this.getEmptyRegion(),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this,e)},_initChildViewStorage:function(){this._children=new be,this.children=new be},getEmptyRegion:function(){var e=this.$container||this.$el;return this._emptyRegion&&!this._emptyRegion.isDestroyed()?(this._emptyRegion._setElement(e[0]),this._emptyRegion):(this._emptyRegion=new fe({el:e[0],replaceElement:!1}),this._emptyRegion._parentView=this,this._emptyRegion)},_initialEvents:function(){this._isRendered||this.listenTo(this.collection,{sort:this._onCollectionSort,reset:this._onCollectionReset,update:this._onCollectionUpdate})},_onCollectionSort:function(e,t){var n=t.add,r=t.merge,o=t.remove;this.sortWithCollection&&!1!==this.viewComparator&&(n||o||r||this.sort())},_onCollectionReset:function(){this._destroyChildren(),this._addChildModels(this.collection.models),this.sort()},_onCollectionUpdate:function(e,t){var n=t.changes,r=n.removed.length&&this._removeChildModels(n.removed);this._addedViews=n.added.length&&this._addChildModels(n.added),this._detachChildren(r),this.sort(),this._removeChildViews(r)},_removeChildModels:function(e){var t=this;return n.reduce(e,(function(e,n){var r=t._removeChildModel(n);return r&&e.push(r),e}),[])},_removeChildModel:function(e){var t=this._children.findByModel(e);return t&&this._removeChild(t),t},_removeChild:function(e){this.triggerMethod("before:remove:child",this,e),this.children._remove(e),this._children._remove(e),this.triggerMethod("remove:child",this,e)},_addChildModels:function(e){return n.map(e,this._addChildModel.bind(this))},_addChildModel:function(e){var t=this._createChildView(e);return this._addChild(t),t},_createChildView:function(e){var t=this._getChildView(e),n=this._getChildViewOptions(e);return this.buildChildView(e,t,n)},_addChild:function(e,t){this.triggerMethod("before:add:child",this,e),this._setupChildView(e),this._children._add(e,t),this.children._add(e,t),this.triggerMethod("add:child",this,e)},_getChildView:function(e){var t=this.childView;if(!t)throw new u({name:_e,message:'A "childView" must be specified',url:"marionette.collectionview.html#collectionviews-childview"});if(!(t=this._getView(t,e)))throw new u({name:_e,message:'"childView" must be a view class or a function that returns a view class',url:"marionette.collectionview.html#collectionviews-childview"});return t},_getView:function(e,r){return e.prototype instanceof t.View||e===t.View?e:n.isFunction(e)?e.call(this,r):void 0},_getChildViewOptions:function(e){return n.isFunction(this.childViewOptions)?this.childViewOptions(e):this.childViewOptions},buildChildView:function(e,t,r){return new t(n.extend({model:e},r))},_setupChildView:function(e){C(e),e.on("destroy",this.removeChildView,this),this._proxyChildViewEvents(e)},_getImmediateChildren:function(){return this.children._views},setElement:function(){return t.View.prototype.setElement.apply(this,arguments),this._isAttached=this._isElAttached(),this},render:function(){if(this._isDestroyed)return this;this.triggerMethod("before:render",this),this._destroyChildren(),this.collection&&(this._addChildModels(this.collection.models),this._initialEvents());var e=this.getTemplate();return e&&(this._renderTemplate(e),this.bindUIElements()),this._getChildViewContainer(),this.sort(),this._isRendered=!0,this.triggerMethod("render",this),this},_getChildViewContainer:function(){var e=n.result(this,"childViewContainer");if(this.$container=e?this.$(e):this.$el,!this.$container.length)throw new u({name:_e,message:'The specified "childViewContainer" was not found: '.concat(e),url:"marionette.collectionview.html#defining-the-childviewcontainer"})},sort:function(){return this._sortChildren(),this.filter(),this},_sortChildren:function(){if(this._children.length){var e=this.getComparator();e&&(delete this._addedViews,this.triggerMethod("before:sort",this),this._children._sort(e,this),this.triggerMethod("sort",this))}},setComparator:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).preventRender,n=this.viewComparator!==e&&!t;return this.viewComparator=e,n&&this.sort(),this},removeComparator:function(e){return this.setComparator(null,e)},getComparator:function(){return this.viewComparator?this.viewComparator:!(!this.sortWithCollection||!1===this.viewComparator||!this.collection)&&this._viewComparator},_viewComparator:function(e){return this.collection.indexOf(e.model)},filter:function(){return this._isDestroyed||(this._filterChildren(),this._renderChildren()),this},_filterChildren:function(){var e=this;if(this._children.length){var t=this._getFilter();if(t){delete this._addedViews,this.triggerMethod("before:filter",this);var r=[],o=[];n.each(this._children._views,(function(n,i,s){(t.call(e,n,i,s)?r:o).push(n)})),this._detachChildren(o),this.children._set(r,!0),this.triggerMethod("filter",this,r,o)}else{var i=this.children.length!==this._children.length;this.children._set(this._children._views,i)}}},_getFilter:function(){var e=this.getFilter();if(!e)return!1;if(n.isFunction(e))return e;if(n.isObject(e)){var t=n.matches(e);return function(e){return t(e.model&&e.model.attributes)}}if(n.isString(e))return function(t){return t.model&&t.model.get(e)};throw new u({name:_e,message:'"viewFilter" must be a function, predicate object literal, a string indicating a model attribute, or falsy',url:"marionette.collectionview.html#defining-the-viewfilter"})},getFilter:function(){return this.viewFilter},setFilter:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).preventRender,n=this.viewFilter!==e&&!t;return this.viewFilter=e,n&&this.filter(),this},removeFilter:function(e){return this.setFilter(null,e)},_detachChildren:function(e){n.each(e,this._detachChildView.bind(this))},_detachChildView:function(e){var t=e._isAttached&&!1!==this.monitorViewEvents;t&&e.triggerMethod("before:detach",e),this.detachHtml(e),t&&(e._isAttached=!1,e.triggerMethod("detach",e)),e._isShown=!1},detachHtml:function(e){this.Dom.detachEl(e.el,e.$el)},_renderChildren:function(){this._hasUnrenderedViews&&(delete this._addedViews,delete this._hasUnrenderedViews);var e=this._addedViews||this.children._views;if(this.triggerMethod("before:render:children",this,e),this.isEmpty())this._showEmptyView();else{this._destroyEmptyView();var t=this._getBuffer(e);this._attachChildren(t,e)}delete this._addedViews,this.triggerMethod("render:children",this,e)},_getBuffer:function(e){var t=this,r=this.Dom.createBuffer();return n.each(e,(function(e){ce(e),e._isShown=!0,t.Dom.appendContents(r,e.el,{_$contents:e.$el})})),r},_attachChildren:function(e,t){t=this._isAttached&&!1!==this.monitorViewEvents?t:[],n.each(t,(function(e){e._isAttached||e.triggerMethod("before:attach",e)})),this.attachHtml(e,this.$container),n.each(t,(function(e){e._isAttached||(e._isAttached=!0,e.triggerMethod("attach",e))}))},attachHtml:function(e,t){this.Dom.appendContents(t[0],e,{_$el:t})},isEmpty:function(){return!this.children.length},_showEmptyView:function(){var e=this._getEmptyView();if(e){var t=this._getEmptyViewOptions();this.getEmptyRegion().show(new e(t))}},_getEmptyView:function(){var e=this.emptyView;if(e)return this._getView(e)},_destroyEmptyView:function(){var e=this.getEmptyRegion();e.hasView()&&e.empty()},_getEmptyViewOptions:function(){var e=this.emptyViewOptions||this.childViewOptions;return n.isFunction(e)?e.call(this):e},swapChildViews:function(e,t){if(!this._children.hasView(e)||!this._children.hasView(t))throw new u({name:_e,message:"Both views must be children of the collection view to swap.",url:"marionette.collectionview.html#swapping-child-views"});return this._children._swap(e,t),this.Dom.swapEl(e.el,t.el),this.children.hasView(e)!==this.children.hasView(t)?this.filter():this.children._swap(e,t),this},addChildView:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e._isDestroyed)return e;if(e._isShown)throw new u({name:_e,message:"View is already shown in a Region or CollectionView",url:"marionette.region.html#showing-a-view"});if(n.isObject(t)&&(r=t),null!=r.index&&(t=r.index),this._isRendered||this.render(),this._addChild(e,t),r.preventRender)return this._hasUnrenderedViews=!0,e;var o=void 0!==t;return(!o||t>=this._children.length)&&!this._hasUnrenderedViews&&(this._addedViews=[e]),o?this._renderChildren():this.sort(),e},detachChildView:function(e){return this.removeChildView(e,{shouldDetach:!0}),e},removeChildView:function(e,t){return e?(this._removeChildView(e,t),this._removeChild(e),this.isEmpty()&&this._showEmptyView(),e):e},_removeChildViews:function(e){n.each(e,this._removeChildView.bind(this))},_removeChildView:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).shouldDetach;e.off("destroy",this.removeChildView,this),t?this._detachChildView(e):this._destroyChildView(e),this.stopListening(e)},_destroyChildView:function(e){e._isDestroyed||ae(e,!1===this.monitorViewEvents)},_removeChildren:function(){this._destroyChildren(),this.getEmptyRegion().destroy(),delete this._addedViews},_destroyChildren:function(){this._children.length&&(this.triggerMethod("before:destroy:children",this),!1===this.monitorViewEvents&&this.Dom.detachContents(this.el,this.$el),this._removeChildViews(this._children._views),this._children._init(),this.children._init(),this.triggerMethod("destroy:children",this))}},{setDomApi:oe,setRenderer:ye});n.extend(Se.prototype,se);var xe=["collectionEvents","events","modelEvents","triggers","ui"],ke=function(e,t){this.view=t,this._setOptions(e,xe),this.cid=n.uniqueId(this.cidPrefix),this.ui=n.extend({},n.result(this,"ui"),n.result(t,"ui")),this.listenTo(t,"all",this.triggerMethod),this.initialize.apply(this,arguments)};ke.extend=s,n.extend(ke.prototype,I,W,Z,ne,{cidPrefix:"mnb",initialize:function(){},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this.view._removeBehavior(this),this._deleteEntityEventHandlers(),this},proxyViewProperties:function(){return this.$el=this.view.$el,this.el=this.view.el,this},bindUIElements:function(){return this._bindUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this},getUI:function(e){return this._getUI(e)},delegateEntityEvents:function(){return this._delegateEntityEvents(this.view.model,this.view.collection),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.view.model,this.view.collection),this},_getEvents:function(){var e=this;if(this.events){var t=this.normalizeUIKeys(n.result(this,"events"));return n.reduce(t,(function(t,r,o){return n.isFunction(r)||(r=e[r]),r?(t[o=K(o,e.cid)]=r.bind(e),t):t}),{})}},_getTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(n.result(this,"triggers"));return this._getViewTriggers(this.view,e)}}});var je=["channelName","radioEvents","radioRequests","region","regionClass"],Ee=function(e){this._setOptions(e,je),this.cid=n.uniqueId(this.cidPrefix),this._initRegion(),this._initRadio(),this.initialize.apply(this,arguments)};Ee.extend=s,n.extend(Ee.prototype,I,L,$,{cidPrefix:"mna",initialize:function(){},start:function(e){return this.triggerMethod("before:start",this,e),this.triggerMethod("start",this,e),this},regionClass:fe,_initRegion:function(){var e=this.region;if(e){var t={regionClass:this.regionClass};this._region=pe(e,t)}},getRegion:function(){return this._region},showView:function(e){for(var t=this.getRegion(),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.show.apply(t,[e].concat(r)),e},getView:function(){return this.getRegion().currentView}});var Re=i(f),Pe=i(p),Te=i(d),Ce=i(y),Ae=i(m),De=i(v),Ne=i(c),Be=i(V),Ve={View:ge,CollectionView:Se,MnObject:H,Object:H,Region:fe,Behavior:ke,Application:Ee,isEnabled:Y,setEnabled:Q,monitorViewEvents:C,Events:M,extend:s,DomApi:ie,VERSION:o};e.Application=Ee,e.Behavior=ke,e.CollectionView=Se,e.DomApi=ie,e.Events=M,e.MnObject=H,e.Region=fe,e.VERSION=o,e.View=ge,e.bindEvents=Re,e.bindRequests=Te,e.default=Ve,e.extend=s,e.getOption=De,e.isEnabled=Y,e.mergeOptions=Ae,e.monitorViewEvents=C,e.normalizeMethods=Ne,e.setDomApi=function(e){Se.setDomApi(e),fe.setDomApi(e),ge.setDomApi(e)},e.setEnabled=Q,e.setRenderer=function(e){Se.setRenderer(e),ge.setRenderer(e)},e.triggerMethod=Be,e.unbindEvents=Pe,e.unbindRequests=Ce,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2316),n(6419),n(9653)),this&&this.Marionette&&(this.Mn=this.Marionette)},9653:function(e,t,n){e.exports=function(e,t){"use strict";e="default"in e?e.default:e,t="default"in t?t.default:t;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=t.Radio,o=t.Radio={};o.VERSION="2.0.0",o.noConflict=function(){return t.Radio=r,this},o.DEBUG=!1,o._debugText=function(e,t,n){return e+(n?" on the "+n+" channel":"")+': "'+t+'"'},o.debugLog=function(e,t,n){o.DEBUG&&console&&console.warn&&console.warn(o._debugText(e,t,n))};var i=/\s+/;function s(e,t,n,r){var o=e[t];if(!(n&&n!==o.callback&&n!==o.callback._callback||r&&r!==o.context))return delete e[t],!0}o._eventsApi=function(t,r,o,s){if(!o)return!1;var c={};if("object"===(void 0===o?"undefined":n(o))){for(var a in o){var u=t[r].apply(t,[a,o[a]].concat(s));i.test(a)?e.extend(c,u):c[a]=u}return c}if(i.test(o)){for(var l=o.split(i),f=0,p=l.length;f<p;f++)c[l[f]]=t[r].apply(t,[l[f]].concat(s));return c}return!1},o._callHandler=function(e,t,n){var r=n[0],o=n[1],i=n[2];switch(n.length){case 0:return e.call(t);case 1:return e.call(t,r);case 2:return e.call(t,r,o);case 3:return e.call(t,r,o,i);default:return e.apply(t,n)}};var c,a,u={};function l(t){return u[t]||(u[t]=e.bind(o.log,o,t))}function f(t){return e.isFunction(t)?t:function(){return t}}e.extend(o,{log:function(t,n){if("undefined"!=typeof console){var r=e.toArray(arguments).slice(2);console.log("["+t+'] "'+n+'"',r)}},tuneIn:function(e){var t=o.channel(e);return t._tunedIn=!0,t.on("all",l(e)),this},tuneOut:function(e){var t=o.channel(e);return t._tunedIn=!1,t.off("all",l(e)),delete u[e],this}}),o.Requests={request:function(t){var n=e.toArray(arguments).slice(1),r=o._eventsApi(this,"request",t,n);if(r)return r;var i=this.channelName,s=this._requests;if(i&&this._tunedIn&&o.log.apply(this,[i,t].concat(n)),s&&(s[t]||s.default)){var c=s[t]||s.default;return n=s[t]?n:arguments,o._callHandler(c.callback,c.context,n)}o.debugLog("An unhandled request was fired",t,i)},reply:function(e,t,n){return o._eventsApi(this,"reply",e,[t,n])||(this._requests||(this._requests={}),this._requests[e]&&o.debugLog("A request was overwritten",e,this.channelName),this._requests[e]={callback:f(t),context:n||this}),this},replyOnce:function(t,n,r){if(o._eventsApi(this,"replyOnce",t,[n,r]))return this;var i=this,s=e.once((function(){return i.stopReplying(t),f(n).apply(this,arguments)}));return this.reply(t,s,r)},stopReplying:function(t,n,r){return o._eventsApi(this,"stopReplying",t)||(t||n||r?function(t,n,r,o){t||(t={});for(var i=n?[n]:e.keys(t),c=!1,a=0,u=i.length;a<u;a++)t[n=i[a]]&&s(t,n,r,o)&&(c=!0);return c}(this._requests,t,n,r)||o.debugLog("Attempted to remove the unregistered request",t,this.channelName):delete this._requests),this}},o._channels={},o.channel=function(e){if(!e)throw new Error("You must provide a name for the channel.");return o._channels[e]?o._channels[e]:o._channels[e]=new o.Channel(e)},o.Channel=function(e){this.channelName=e},e.extend(o.Channel.prototype,t.Events,o.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var p=[t.Events,o.Requests];return e.each(p,(function(t){e.each(t,(function(t,n){o[n]=function(t){return a=e.toArray(arguments).slice(1),(c=this.channel(t))[n].apply(c,a)}}))})),o.reset=function(t){var n=t?[this._channels[t]]:this._channels;e.each(n,(function(e){e.reset()}))},o}(n(6419),n(2316))},989:(e,t,n)=>{var r,o,i;o=[n(6419),n(2316),t],r=function(e,t,n){t.Stickit=n,n._handlers=[],n.addHandler=function(t){t=e.map(e.flatten([t]),(function(t){return e.defaults({},t,{updateModel:!0,updateView:!0,updateMethod:"text"})})),this._handlers=this._handlers.concat(t)},n.ViewMixin={_modelBindings:null,unstickit:function(t,n){if(e.isObject(n))e.each(n,(function(e,n){this.unstickit(t,n)}),this);else{var r=[],o=[];this._modelBindings=e.reject(this._modelBindings,(function(e){if(!(t&&e.model!==t||n&&e.config.selector!=n))return e.model.off(e.event,e.fn),o.push(e.config._destroy),r.push(e.model),!0})),e.invoke(e.uniq(r),"trigger","stickit:unstuck",this.cid),e.each(e.uniq(o),(function(e){e.call(this)}),this),this.$el.off(".stickit"+(t?"."+t.cid:""),n)}},stickit:function(t,n){var r=t||this.model,o=n||e.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.addBinding(r,o);var i=this.remove;return i.stickitWrapped||(this.remove=function(){var e=this;return this.unstickit(),i&&(e=i.apply(this,arguments)),e}),this.remove.stickitWrapped=!0,this},addBinding:function(t,n,o){var y=t||this.model,v=".stickit."+y.cid;if(o=o||{},e.isObject(n)){var m=n;e.each(m,(function(e,t){this.addBinding(y,t,e)}),this)}else{var g=":el"===n?this.$el:this.$(n);if(this.unstickit(y,n),g.length){e.isString(o)&&(o={observe:o}),e.isFunction(o.observe)&&(o.observe=o.observe.call(this));var b=l(g,o),w=b.observe;b.selector=n,b.view=this;var _=b.bindId=e.uniqueId(),O=e.extend({stickitChange:b},b.setOptions);if(b._destroy=function(){i.call(this,b.destroy,g,y,b)},f(g,b,y,w),h(g,b,y,w),p(g,b,y,w),w){e.each(b.events,(function(t){var o=t+v,c=":el"===n?"":n;this.$el.on(o,c,e.bind((function(e){var t=i.call(this,b.getVal,g,e,b,r.call(arguments,1));s(b.updateModel,t,e,b)&&a(y,w,t,O,b)}),this))}),this),e.each(e.flatten([w]),(function(e){c(y,"change:"+e,b,(function(e,t,n){if((n&&n.stickitChange&&n.stickitChange.bindId)!==_){var r=u(y,w,b);d(g,b,r,y)}}))}));var S=u(y,w,b);d(g,b,S,y,!0)}i.call(this,b.initialize,g,y,b)}}}},e.extend(t.View.prototype,n.ViewMixin);var r=[].slice,o=function(t,n){var r=(n||"").split("."),o=e.reduce(r,(function(e,t){return e[t]}),t);return null==o?t:o},i=function(t){if(t=e.isString(t)?o(this,t):t)return t.apply(this,r.call(arguments,1))},s=function(t,n,r){if(e.isBoolean(t))return t;if(e.isFunction(t)||e.isString(t)){var o=e.last(arguments).view;return i.apply(o,arguments)}return!1},c=function(e,t,n,r){var o=n.view;e.on(t,r,o),o._modelBindings.push({model:e,event:t,fn:r,config:n})},a=function(t,n,r,o,s){var c={},a=s.view;s.onSet&&(r=i.call(a,s.onSet,r,s)),s.set?i.call(a,s.set,n,r,o,s):(c[n]=r,e.isArray(n)&&e.isArray(r)&&(c=e.reduce(n,(function(t,n,o){return t[n]=e.has(r,o)?r[o]:null,t}),{})),t.set(c,o))},u=function(t,n,r){var o=r.view,s=function(e){return t[r.escape?"escape":"get"](e)},c=function(e){return null==e?"":e},a=e.isArray(n)?e.map(n,s):s(n);return r.onGet&&(a=i.call(o,r.onGet,a,r)),e.isArray(a)?e.map(a,c):c(a)},l=n.getConfiguration=function(t,r){var o=[{updateModel:!1,updateMethod:"text",update:function(e,t,n,r){e[r.updateMethod]&&e[r.updateMethod](t)},getVal:function(e,t,n){return e[n.updateMethod]()}}];(o=o.concat(e.filter(n._handlers,(function(e){return t.is(e.selector)})))).push(r);var i=e.extend.apply(e,o);return e.has(i,"updateView")||(i.updateView=!i.visible),i},f=function(t,n,r,o){var i=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"],s=n.view;e.each(n.attributes||[],(function(a){(a=e.clone(a)).view=s;var l="",f=a.observe||(a.observe=o),p=function(){var n=e.contains(i,a.name)?"prop":"attr",o=u(r,f,a);"class"===a.name?(t.removeClass(l).addClass(o),l=o):t[n](a.name,o)};e.each(e.flatten([f]),(function(e){c(r,"change:"+e,n,p)})),p()}))},p=function(t,n,r,o){e.each(n.classes||[],(function(o,i){e.isString(o)&&(o={observe:o}),o.view=n.view;var s=o.observe,a=function(){var e=u(r,s,o);t.toggleClass(i,!!e)};e.each(e.flatten([s]),(function(e){c(r,"change:"+e,n,a)})),a()}))},h=function(t,n,r,o){if(null!=n.visible){var s=n.view,a=function(){var c=n.visible,a=n.visibleFn,l=u(r,o,n),f=!!l;(e.isFunction(c)||e.isString(c))&&(f=!!i.call(s,c,l,n)),a?i.call(s,a,t,f,n):t.toggle(f)};e.each(e.flatten([o]),(function(e){c(r,"change:"+e,n,a)})),a()}},d=function(e,t,n,r,o){var c=t.view;s(t.updateView,n,t)&&(i.call(c,t.update,e,n,r,t),o||i.call(c,t.afterUpdate,e,n,t))};return n.addHandler([{selector:"[contenteditable]",updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(e,t){e.val(t)},getVal:function(e){return e.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(e,t){e.val(t)},getVal:function(e){return e.val()}},{selector:'input[type="radio"]',events:["change"],update:function(e,t){e.filter('[value="'+t+'"]').prop("checked",!0)},getVal:function(e){return e.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(n,r,o,i){if(n.length>1)r||(r=[]),n.each((function(n,o){var i=t.$(o),s=e.contains(r,i.val());i.prop("checked",s)}));else{var s=e.isBoolean(r)?r:r===n.val();n.prop("checked",s)}},getVal:function(n){var r;if(n.length>1)r=e.reduce(n,(function(e,n){var r=t.$(n);return r.prop("checked")&&e.push(r.val()),e}),[]);else{r=n.prop("checked");var o=n.val();"on"!==o&&null!=o&&(r=r?n.val():null)}return r}},{selector:"select",events:["change"],update:function(n,r,s,c){var a,l=c.selectOptions,f=l&&l.collection||void 0,p=n.prop("multiple");if(!l){l={};var h=function(e){return e.map((function(e,n){var r=t.$(n).data("stickit-bind-val");return{value:void 0!==r?r:n.value,label:n.text}})).get()};n.find("optgroup").length?(f={opt_labels:[]},n.find("> option").length&&(f.opt_labels.push(void 0),e.each(n.find("> option"),(function(e){f[void 0]=h(t.$(e))}))),e.each(n.find("optgroup"),(function(e){var n=t.$(e).attr("label");f.opt_labels.push(n),f[n]=h(t.$(e).find("option"))}))):f=h(n.find("option"))}l.valuePath=l.valuePath||"value",l.labelPath=l.labelPath||"label",l.disabledPath=l.disabledPath||"disabled";var d=function(n,r,i){e.each(n,(function(n){var s,c,a,u=t.$("<option/>"),f=n;"__default__"===n?(s=i.label,c=i.value,a=i.disabled):(s=o(n,l.labelPath),c=o(n,l.valuePath),a=o(n,l.disabledPath)),function(t,n,r){u.text(t),f=n,u.data("stickit-bind-val",f),e.isArray(f)||e.isObject(f)||u.val(f),!0===r&&u.prop("disabled","disabled")}(s,c,a),!p&&null!=f&&null!=i&&f===i||e.isObject(i)&&e.isEqual(f,i)?u.prop("selected",!0):p&&e.isArray(i)&&e.each(i,(function(t){e.isObject(t)&&(t=o(t,l.valuePath)),(t===f||e.isObject(t)&&e.isEqual(f,t))&&u.prop("selected",!0)})),r.append(u)}))};if(n.find("*").remove(),e.isString(f)){var y=window;0===f.indexOf("this.")&&(y=this),f=f.replace(/^[a-z]*\.(.+)$/,"$1"),a=o(y,f)}else a=e.isFunction(f)?i.call(this,f,n,c):f;if(a instanceof t.Collection){var v=a,m=function(){var e=u(s,c.observe,c);i.call(this,c.update,n,e,s,c)},g=function(){v.off("add remove reset sort",m)},b=function(){g(),v.off("stickit:selectRefresh"),s.off("stickit:selectRefresh")};v.trigger("stickit:selectRefresh"),v.once("stickit:selectRefresh",g,this),v.on("add remove reset sort",m,this),s.trigger("stickit:selectRefresh"),s.once("stickit:selectRefresh",(function(){s.off("stickit:unstuck",b)})),s.once("stickit:unstuck",b,this),a=a.toJSON()}if(l.defaultOption){var w=e.isFunction(l.defaultOption)?l.defaultOption.call(this,n,c):l.defaultOption;d(["__default__"],n,w)}if(e.isArray(a))d(a,n,r);else if(a.opt_labels)e.each(a.opt_labels,(function(e){var o=t.$("<optgroup/>").attr("label",e);d(a[e],o,r),n.append(o)}));else{var _,O=[];for(var S in a)(_={})[l.valuePath]=S,_[l.labelPath]=a[S],O.push(_);O=e.sortBy(O,l.comparator||l.labelPath),d(O,n,r)}},getVal:function(n){var r=n.find("option:selected");return n.prop("multiple")?e.map(r,(function(e){return t.$(e).data("stickit-bind-val")})):r.data("stickit-bind-val")}}]),n},void 0===(i=r.apply(t,o))||(e.exports=i)},2316:(e,t,n)=>{var r,o,i;i="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g,r=[n(6419),n(9755),t],o=function(e,t,n){i.Backbone=function(e,t,n,r){var o=e.Backbone,i=Array.prototype.slice;t.VERSION="1.4.0",t.$=r,t.noConflict=function(){return e.Backbone=o,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s,c=t.Events={},a=/\s+/,u=function(e,t,r,o,i){var s,c=0;if(r&&"object"==typeof r){void 0!==o&&"context"in i&&void 0===i.context&&(i.context=o);for(s=n.keys(r);c<s.length;c++)t=u(e,t,s[c],r[s[c]],i)}else if(r&&a.test(r))for(s=r.split(a);c<s.length;c++)t=e(t,s[c],o,i);else t=e(t,r,o,i);return t};c.on=function(e,t,n){return this._events=u(l,this._events||{},e,t,{context:n,ctx:this,listening:s}),s&&((this._listeners||(this._listeners={}))[s.id]=s,s.interop=!1),this},c.listenTo=function(e,t,r){if(!e)return this;var o=e._listenId||(e._listenId=n.uniqueId("l")),i=this._listeningTo||(this._listeningTo={}),c=s=i[o];c||(this._listenId||(this._listenId=n.uniqueId("l")),c=s=i[o]=new v(this,e));var a=f(e,t,r,this);if(s=void 0,a)throw a;return c.interop&&c.on(t,r),this};var l=function(e,t,n,r){if(n){var o=e[t]||(e[t]=[]),i=r.context,s=r.ctx,c=r.listening;c&&c.count++,o.push({callback:n,context:i,ctx:i||s,listening:c})}return e},f=function(e,t,n,r){try{e.on(t,n,r)}catch(e){return e}};c.off=function(e,t,n){return this._events?(this._events=u(p,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,r){var o=this._listeningTo;if(!o)return this;for(var i=e?[e._listenId]:n.keys(o),s=0;s<i.length;s++){var c=o[i[s]];if(!c)break;c.obj.off(t,r,this),c.interop&&c.off(t,r)}return n.isEmpty(o)&&(this._listeningTo=void 0),this};var p=function(e,t,r,o){if(e){var i,s=o.context,c=o.listeners,a=0;if(t||s||r){for(i=t?[t]:n.keys(e);a<i.length;a++){var u=e[t=i[a]];if(!u)break;for(var l=[],f=0;f<u.length;f++){var p=u[f];if(r&&r!==p.callback&&r!==p.callback._callback||s&&s!==p.context)l.push(p);else{var h=p.listening;h&&h.off(t,r)}}l.length?e[t]=l:delete e[t]}return e}for(i=n.keys(c);a<i.length;a++)c[i[a]].cleanup()}};c.once=function(e,t,n){var r=u(h,{},e,t,this.off.bind(this));return"string"==typeof e&&null==n&&(t=void 0),this.on(r,t,n)},c.listenToOnce=function(e,t,n){var r=u(h,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,r)};var h=function(e,t,r,o){if(r){var i=e[t]=n.once((function(){o(t,i),r.apply(this,arguments)}));i._callback=r}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return u(d,this._events,e,void 0,n),this};var d=function(e,t,n,r){if(e){var o=e[t],i=e.all;o&&i&&(i=i.slice()),o&&y(o,r),i&&y(i,[t].concat(r))}return e},y=function(e,t){var n,r=-1,o=e.length,i=t[0],s=t[1],c=t[2];switch(t.length){case 0:for(;++r<o;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i);return;case 2:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,s);return;case 3:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,s,c);return;default:for(;++r<o;)(n=e[r]).callback.apply(n.ctx,t);return}},v=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};v.prototype.on=c.on,v.prototype.off=function(e,t){var n;this.interop?(this._events=u(p,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},v.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},c.bind=c.on,c.unbind=c.off,n.extend(t,c);var m=t.Model=function(e,t){var r=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{});var o=n.result(this,"defaults");r=n.defaults(n.extend({},o,r),o),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(m.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var o;if("object"==typeof e?(o=e,r=t):(o={})[e]=t,r||(r={}),!this._validate(o,r))return!1;var i=r.unset,s=r.silent,c=[],a=this._changing;this._changing=!0,a||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,l=this.changed,f=this._previousAttributes;for(var p in o)t=o[p],n.isEqual(u[p],t)||c.push(p),n.isEqual(f[p],t)?delete l[p]:l[p]=t,i?delete u[p]:u[p]=t;if(this.idAttribute in o&&(this.id=this.get(this.idAttribute)),!s){c.length&&(this._pending=r);for(var h=0;h<c.length;h++)this.trigger("change:"+c[h],this,u[c[h]],r)}if(a)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,r=this._changing?this._previousAttributes:this.attributes,o={};for(var i in e){var s=e[i];n.isEqual(r[i],s)||(o[i]=s,t=!0)}return!!t&&o},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var o=e.parse?t.parse(n,e):n;if(!t.set(o,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},z(this,e),this.sync("read",this,e)},save:function(e,t,r){var o;null==e||"object"==typeof e?(o=e,r=t):(o={})[e]=t;var i=(r=n.extend({validate:!0,parse:!0},r)).wait;if(o&&!i){if(!this.set(o,r))return!1}else if(!this._validate(o,r))return!1;var s=this,c=r.success,a=this.attributes;r.success=function(e){s.attributes=a;var t=r.parse?s.parse(e,r):e;if(i&&(t=n.extend({},o,t)),t&&!s.set(t,r))return!1;c&&c.call(r.context,s,e,r),s.trigger("sync",s,e,r)},z(this,r),o&&i&&(this.attributes=n.extend({},a,o));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=o);var l=this.sync(u,this,r);return this.attributes=a,l},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,o=e.wait,i=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){o&&i(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):(z(this,e),s=this.sync("delete",this,e)),o||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}});var g=t.Collection=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},_=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r,o=Array(e.length-n),i=t.length;for(r=0;r<o.length;r++)o[r]=e[r+n];for(r=0;r<i;r++)e[r+n]=t[r];for(r=0;r<o.length;r++)e[r+i+n]=o[r]};n.extend(g.prototype,c,{model:m,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,w))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:e.slice();var o=this._removeModels(e,t);return!t.silent&&o.length&&(t.changes={added:[],merged:[],removed:o},this.trigger("update",this,t)),r?o[0]:o},set:function(e,t){if(null!=e){(t=n.extend({},b,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var r=!n.isArray(e);e=r?[e]:e.slice();var o=t.at;null!=o&&(o=+o),o>this.length&&(o=this.length),o<0&&(o+=this.length+1);var i,s,c=[],a=[],u=[],l=[],f={},p=t.add,h=t.merge,d=t.remove,y=!1,v=this.comparator&&null==o&&!1!==t.sort,m=n.isString(this.comparator)?this.comparator:null;for(s=0;s<e.length;s++){i=e[s];var g=this.get(i);if(g){if(h&&i!==g){var w=this._isModel(i)?i.attributes:i;t.parse&&(w=g.parse(w,t)),g.set(w,t),u.push(g),v&&!y&&(y=g.hasChanged(m))}f[g.cid]||(f[g.cid]=!0,c.push(g)),e[s]=g}else p&&(i=e[s]=this._prepareModel(i,t))&&(a.push(i),this._addReference(i,t),f[i.cid]=!0,c.push(i))}if(d){for(s=0;s<this.length;s++)f[(i=this.models[s]).cid]||l.push(i);l.length&&this._removeModels(l,t)}var O=!1,S=!v&&p&&d;if(c.length&&S?(O=this.length!==c.length||n.some(this.models,(function(e,t){return e!==c[t]})),this.models.length=0,_(this.models,c,0),this.length=this.models.length):a.length&&(v&&(y=!0),_(this.models,a,null==o?this.length:o),this.length=this.models.length),y&&this.sort({silent:!0}),!t.silent){for(s=0;s<a.length;s++)null!=o&&(t.index=o+s),(i=a[s]).trigger("add",i,this,t);(y||O)&&this.trigger("sort",this,t),(a.length||l.length||u.length)&&(t.changes={added:a,removed:l,merged:u},this.trigger("update",this,t))}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return i.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=t.bind(this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,r=this;return e.success=function(n){var o=e.reset?"reset":"set";r[o](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},z(this,e),this.sync("read",this,e)},create:function(e,t){var r=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var o=this,i=t.success;return t.success=function(e,t,n){r&&o.add(e,n),i&&i.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},values:function(){return new S(this,x)},keys:function(){return new S(this,k)},entries:function(){return new S(this,j)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var o=this.get(e[r]);if(o){var i=this.indexOf(o);this.models.splice(i,1),this.length--,delete this._byId[o.cid];var s=this.modelId(o.attributes);null!=s&&delete this._byId[s],t.silent||(t.index=i,o.trigger("remove",o,this,t)),n.push(o),this._removeReference(o,t)}}return n},_isModel:function(e){return e instanceof m},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,r),"change"===e){var o=this.modelId(t.previousAttributes()),i=this.modelId(t.attributes);o!==i&&(null!=o&&delete this._byId[o],null!=i&&(this._byId[i]=t))}}this.trigger.apply(this,arguments)}});var O="function"==typeof Symbol&&Symbol.iterator;O&&(g.prototype[O]=g.prototype.values);var S=function(e,t){this._collection=e,this._kind=t,this._index=0},x=1,k=2,j=3;O&&(S.prototype[O]=function(){return this}),S.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e,t=this._collection.at(this._index);if(this._index++,this._kind===x)e=t;else{var n=this._collection.modelId(t.attributes);e=this._kind===k?n:[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var E=t.View=function(e){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(e,P)),this._ensureElement(),this.initialize.apply(this,arguments)},R=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var o=t.match(R);this.delegate(o[1],o[2],r.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var T=function(e,t,r,o){n.each(r,(function(n,r){t[r]&&(e.prototype[r]=function(e,t,n,r){switch(t){case 1:return function(){return e[n](this[r])};case 2:return function(t){return e[n](this[r],t)};case 3:return function(t,o){return e[n](this[r],C(t,this),o)};case 4:return function(t,o,i){return e[n](this[r],C(t,this),o,i)};default:return function(){var t=i.call(arguments);return t.unshift(this[r]),e[n].apply(e,t)}}}(t,n,r,o))}))},C=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?A(e):n.isString(e)?function(t){return t.get(e)}:e},A=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}};n.each([[g,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[m,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(e){var t=e[0],r=e[1],o=e[2];t.mixin=function(e){var r=n.reduce(n.functions(e),(function(e,t){return e[t]=0,e}),{});T(t,e,r,o)},T(t,n,r,o)})),t.sync=function(e,r,o){var i=D[e];n.defaults(o||(o={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:i,dataType:"json"};if(o.url||(s.url=n.result(r,"url")||F()),null!=o.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(o.attrs||r.toJSON(o))),o.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),o.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){s.type="POST",o.emulateJSON&&(s.data._method=i);var c=o.beforeSend;o.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",i),c)return c.apply(this,arguments)}}"GET"===s.type||o.emulateJSON||(s.processData=!1);var a=o.error;o.error=function(e,t,n){o.textStatus=t,o.errorThrown=n,a&&a.call(o.context,e,t,n)};var u=o.xhr=t.ajax(n.extend(s,o));return r.trigger("request",r,u,o),u};var D={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var N=t.Router=function(e){e||(e={}),this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},B=/\((.*?)\)/g,V=/(\(\?)?:\w+/g,M=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(N.prototype,c,{preinitialize:function(){},initialize:function(){},route:function(e,r,o){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(o=r,r=""),o||(o=this[r]);var i=this;return t.history.route(e,(function(n){var s=i._extractParameters(e,n);!1!==i.execute(o,s,r)&&(i.trigger.apply(i,["route:"+r].concat(s)),i.trigger("route",r,s),t.history.trigger("route",i,r,s))})),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(I,"\\$&").replace(B,"(?:$1)?").replace(V,(function(e,t){return t?e:"([^/?]+)"})).replace(M,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,(function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null}))}});var L=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,q=/^\/+|\/+$/g,H=/#.*$/;L.started=!1,n.extend(L.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace($,"")},start:function(e){if(L.started)throw new Error("Backbone.history has already been started");if(L.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(q,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,o=r.insertBefore(this.iframe,r.firstChild).contentWindow;o.document.open(),o.document.close(),o.location.hash="#"+this.fragment}var i=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?i("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?i("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),L.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!L.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;e=e.replace(H,"");var o=this.decodeFragment(e);if(this.fragment!==o){if(this.fragment=o,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new L;m.extend=g.extend=N.extend=E.extend=L.extend=function(e,t){var r,o=this;return r=e&&n.has(e,"constructor")?e.constructor:function(){return o.apply(this,arguments)},n.extend(r,o,t),r.prototype=n.create(o.prototype,e),r.prototype.constructor=r,r.__super__=o.prototype,r};var F=function(){throw new Error('A "url" property or function must be specified')},z=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}(i,n,e,t)}.apply(t,r),void 0===o||(e.exports=o)},9755:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(r,o){"use strict";var i=[],s=Object.getPrototypeOf,c=i.slice,a=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},u=i.push,l=i.indexOf,f={},p=f.toString,h=f.hasOwnProperty,d=h.toString,y=d.call(Object),v={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},g=function(e){return null!=e&&e===e.window},b=r.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function _(e,t,n){var r,o,i=(n=n||b).createElement("script");if(i.text=e,t)for(r in w)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function O(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[p.call(e)]||"object":typeof e}var S="3.6.0",x=function(e,t){return new x.fn.init(e,t)};function k(e){var t=!!e&&"length"in e&&e.length,n=O(e);return!m(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}x.fn=x.prototype={jquery:S,constructor:x,length:0,toArray:function(){return c.call(this)},get:function(e){return null==e?c.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(x.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:i.sort,splice:i.splice},x.extend=x.fn.extend=function(){var e,t,n,r,o,i,s=arguments[0]||{},c=1,a=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[c]||{},c++),"object"==typeof s||m(s)||(s={}),c===a&&(s=this,c--);c<a;c++)if(null!=(e=arguments[c]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(u&&r&&(x.isPlainObject(r)||(o=Array.isArray(r)))?(n=s[t],i=o&&!Array.isArray(n)?[]:o||x.isPlainObject(n)?n:{},o=!1,s[t]=x.extend(u,i,r)):void 0!==r&&(s[t]=r));return s},x.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e)||(t=s(e))&&("function"!=typeof(n=h.call(t,"constructor")&&t.constructor)||d.call(n)!==y))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){_(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(k(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(k(Object(e))?x.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,s=!n;o<i;o++)!t(e[o],o)!==s&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,s=[];if(k(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&s.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&s.push(o);return a(s)},guid:1,support:v}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=i[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){f["[object "+t+"]"]=t.toLowerCase()}));var j=function(e){var t,n,r,o,i,s,c,a,u,l,f,p,h,d,y,v,m,g,b,w="sizzle"+1*new Date,_=e.document,O=0,S=0,x=ae(),k=ae(),j=ae(),E=ae(),R=function(e,t){return e===t&&(f=!0),0},P={}.hasOwnProperty,T=[],C=T.pop,A=T.push,D=T.push,N=T.slice,B=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},V="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",L="\\[[\\x20\\t\\r\\n\\f]*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",$=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+L+")*)|.*)\\)|)",q=new RegExp(M+"+","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),F=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),z=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),U=new RegExp(M+"|>"),W=new RegExp($),G=new RegExp("^"+I+"$"),J={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+V+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){p()},se=we((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{D.apply(T=N.call(_.childNodes),_.childNodes),T[_.childNodes.length].nodeType}catch(e){D={apply:T.length?function(e,t){A.apply(e,N.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ce(e,t,r,o){var i,c,u,l,f,d,m,g=t&&t.ownerDocument,_=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return r;if(!o&&(p(t),t=t||h,y)){if(11!==_&&(f=Z.exec(e)))if(i=f[1]){if(9===_){if(!(u=t.getElementById(i)))return r;if(u.id===i)return r.push(u),r}else if(g&&(u=g.getElementById(i))&&b(t,u)&&u.id===i)return r.push(u),r}else{if(f[2])return D.apply(r,t.getElementsByTagName(e)),r;if((i=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(r,t.getElementsByClassName(i)),r}if(n.qsa&&!E[e+" "]&&(!v||!v.test(e))&&(1!==_||"object"!==t.nodeName.toLowerCase())){if(m=e,g=t,1===_&&(U.test(e)||z.test(e))){for((g=ee.test(e)&&me(t.parentNode)||t)===t&&n.scope||((l=t.getAttribute("id"))?l=l.replace(re,oe):t.setAttribute("id",l=w)),c=(d=s(e)).length;c--;)d[c]=(l?"#"+l:":scope")+" "+be(d[c]);m=d.join(",")}try{return D.apply(r,g.querySelectorAll(m)),r}catch(t){E(e,!0)}finally{l===w&&t.removeAttribute("id")}}}return a(e.replace(H,"$1"),t,r,o)}function ae(){var e=[];return function t(n,o){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ue(e){return e[w]=!0,e}function le(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ye(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return ue((function(t){return t=+t,ue((function(n,r){for(var o,i=e([],n.length,t),s=i.length;s--;)n[o=i[s]]&&(n[o]=!(r[o]=n[o]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ce.support={},i=ce.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!K.test(t||n&&n.nodeName||"HTML")},p=ce.setDocument=function(e){var t,o,s=e?e.ownerDocument||e:_;return s!=h&&9===s.nodeType&&s.documentElement?(d=(h=s).documentElement,y=!i(h),_!=h&&(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ie,!1):o.attachEvent&&o.attachEvent("onunload",ie)),n.scope=le((function(e){return d.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(h.getElementsByClassName),n.getById=le((function(e){return d.appendChild(e).id=w,!h.getElementsByName||!h.getElementsByName(w).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&y)return t.getElementsByClassName(e)},m=[],v=[],(n.qsa=Q.test(h.querySelectorAll))&&(le((function(e){var t;d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+V+")"),e.querySelectorAll("[id~="+w+"-]").length||v.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=Q.test(g=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&le((function(e){n.disconnectedMatch=g.call(e,"*"),g.call(e,"[s!='']:x"),m.push("!=",$)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=Q.test(d.compareDocumentPosition),b=t||Q.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},R=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==h||e.ownerDocument==_&&b(_,e)?-1:t==h||t.ownerDocument==_&&b(_,t)?1:l?B(l,e)-B(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,s=[e],c=[t];if(!o||!i)return e==h?-1:t==h?1:o?-1:i?1:l?B(l,e)-B(l,t):0;if(o===i)return pe(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;s[r]===c[r];)r++;return r?pe(s[r],c[r]):s[r]==_?-1:c[r]==_?1:0},h):h},ce.matches=function(e,t){return ce(e,null,null,t)},ce.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&y&&!E[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var r=g.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){E(t,!0)}return ce(t,h,null,[e]).length>0},ce.contains=function(e,t){return(e.ownerDocument||e)!=h&&p(e),b(e,t)},ce.attr=function(e,t){(e.ownerDocument||e)!=h&&p(e);var o=r.attrHandle[t.toLowerCase()],i=o&&P.call(r.attrHandle,t.toLowerCase())?o(e,t,!y):void 0;return void 0!==i?i:n.attributes||!y?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ce.escape=function(e){return(e+"").replace(re,oe)},ce.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ce.uniqueSort=function(e){var t,r=[],o=0,i=0;if(f=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(R),f){for(;t=e[i++];)t===e[i]&&(o=r.push(i));for(;o--;)e.splice(r[o],1)}return l=null,e},o=ce.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},r=ce.selectors={cacheLength:50,createPseudo:ue,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ce.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ce.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+M+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var o=ce.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(q," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),c="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,a){var u,l,f,p,h,d,y=i!==s?"nextSibling":"previousSibling",v=t.parentNode,m=c&&t.nodeName.toLowerCase(),g=!a&&!c,b=!1;if(v){if(i){for(;y;){for(p=t;p=p[y];)if(c?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;d=y="only"===e&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&g){for(b=(h=(u=(l=(f=(p=v)[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===O&&u[1])&&u[2],p=h&&v.childNodes[h];p=++h&&p&&p[y]||(b=h=0)||d.pop();)if(1===p.nodeType&&++b&&p===t){l[e]=[O,h,b];break}}else if(g&&(b=h=(u=(l=(f=(p=t)[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===O&&u[1]),!1===b)for(;(p=++h&&p&&p[y]||(b=h=0)||d.pop())&&((c?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++b||(g&&((l=(f=p[w]||(p[w]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[O,b]),p!==t)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,o=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ce.error("unsupported pseudo: "+e);return o[w]?o(t):o.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var r,i=o(e,t),s=i.length;s--;)e[r=B(e,i[s])]=!(n[r]=i[s])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ue((function(e){var t=[],n=[],r=c(e.replace(H,"$1"));return r[w]?ue((function(e,t,n,o){for(var i,s=r(e,null,o,[]),c=e.length;c--;)(i=s[c])&&(e[c]=!(t[c]=i))})):function(e,o,i){return t[0]=e,r(t,null,i,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return ce(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:ue((function(e){return G.test(e||"")||ce.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ye(!1),disabled:ye(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,n){return[n<0?n+t:n]})),even:ve((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ve((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ve((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ve((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=de(t);function ge(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,o=t.next,i=o||r,s=n&&"parentNode"===i,c=S++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,o);return!1}:function(t,n,a){var u,l,f,p=[O,c];if(a){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(l=(f=t[w]||(t[w]={}))[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=l[i])&&u[0]===O&&u[1]===c)return p[2]=u[2];if(l[i]=p,p[2]=e(t,n,a))return!0}return!1}}function _e(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function Oe(e,t,n,r,o){for(var i,s=[],c=0,a=e.length,u=null!=t;c<a;c++)(i=e[c])&&(n&&!n(i,r,o)||(s.push(i),u&&t.push(c)));return s}function Se(e,t,n,r,o,i){return r&&!r[w]&&(r=Se(r)),o&&!o[w]&&(o=Se(o,i)),ue((function(i,s,c,a){var u,l,f,p=[],h=[],d=s.length,y=i||function(e,t,n){for(var r=0,o=t.length;r<o;r++)ce(e,t[r],n);return n}(t||"*",c.nodeType?[c]:c,[]),v=!e||!i&&t?y:Oe(y,p,e,c,a),m=n?o||(i?e:d||r)?[]:s:v;if(n&&n(v,m,c,a),r)for(u=Oe(m,h),r(u,[],c,a),l=u.length;l--;)(f=u[l])&&(m[h[l]]=!(v[h[l]]=f));if(i){if(o||e){if(o){for(u=[],l=m.length;l--;)(f=m[l])&&u.push(v[l]=f);o(null,m=[],u,a)}for(l=m.length;l--;)(f=m[l])&&(u=o?B(i,f):p[l])>-1&&(i[u]=!(s[u]=f))}}else m=Oe(m===s?m.splice(d,m.length):m),o?o(null,s,m,a):D.apply(s,m)}))}function xe(e){for(var t,n,o,i=e.length,s=r.relative[e[0].type],c=s||r.relative[" "],a=s?1:0,l=we((function(e){return e===t}),c,!0),f=we((function(e){return B(t,e)>-1}),c,!0),p=[function(e,n,r){var o=!s&&(r||n!==u)||((t=n).nodeType?l(e,n,r):f(e,n,r));return t=null,o}];a<i;a++)if(n=r.relative[e[a].type])p=[we(_e(p),n)];else{if((n=r.filter[e[a].type].apply(null,e[a].matches))[w]){for(o=++a;o<i&&!r.relative[e[o].type];o++);return Se(a>1&&_e(p),a>1&&be(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(H,"$1"),n,a<o&&xe(e.slice(a,o)),o<i&&xe(e=e.slice(o)),o<i&&be(e))}p.push(n)}return _e(p)}return ge.prototype=r.filters=r.pseudos,r.setFilters=new ge,s=ce.tokenize=function(e,t){var n,o,i,s,c,a,u,l=k[e+" "];if(l)return t?0:l.slice(0);for(c=e,a=[],u=r.preFilter;c;){for(s in n&&!(o=F.exec(c))||(o&&(c=c.slice(o[0].length)||c),a.push(i=[])),n=!1,(o=z.exec(c))&&(n=o.shift(),i.push({value:n,type:o[0].replace(H," ")}),c=c.slice(n.length)),r.filter)!(o=J[s].exec(c))||u[s]&&!(o=u[s](o))||(n=o.shift(),i.push({value:n,type:s,matches:o}),c=c.slice(n.length));if(!n)break}return t?c.length:c?ce.error(e):k(e,a).slice(0)},c=ce.compile=function(e,t){var n,o=[],i=[],c=j[e+" "];if(!c){for(t||(t=s(e)),n=t.length;n--;)(c=xe(t[n]))[w]?o.push(c):i.push(c);c=j(e,function(e,t){var n=t.length>0,o=e.length>0,i=function(i,s,c,a,l){var f,d,v,m=0,g="0",b=i&&[],w=[],_=u,S=i||o&&r.find.TAG("*",l),x=O+=null==_?1:Math.random()||.1,k=S.length;for(l&&(u=s==h||s||l);g!==k&&null!=(f=S[g]);g++){if(o&&f){for(d=0,s||f.ownerDocument==h||(p(f),c=!y);v=e[d++];)if(v(f,s||h,c)){a.push(f);break}l&&(O=x)}n&&((f=!v&&f)&&m--,i&&b.push(f))}if(m+=g,n&&g!==m){for(d=0;v=t[d++];)v(b,w,s,c);if(i){if(m>0)for(;g--;)b[g]||w[g]||(w[g]=C.call(a));w=Oe(w)}D.apply(a,w),l&&!i&&w.length>0&&m+t.length>1&&ce.uniqueSort(a)}return l&&(O=x,u=_),b};return n?ue(i):i}(i,o)),c.selector=e}return c},a=ce.select=function(e,t,n,o){var i,a,u,l,f,p="function"==typeof e&&e,h=!o&&s(e=p.selector||e);if(n=n||[],1===h.length){if((a=h[0]=h[0].slice(0)).length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&y&&r.relative[a[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(i=J.needsContext.test(e)?0:a.length;i--&&(u=a[i],!r.relative[l=u.type]);)if((f=r.find[l])&&(o=f(u.matches[0].replace(te,ne),ee.test(a[0].type)&&me(t.parentNode)||t))){if(a.splice(i,1),!(e=o.length&&be(a)))return D.apply(n,o),n;break}}return(p||c(e,h))(o,t,!y,n,!t||ee.test(e)&&me(t.parentNode)||t),n},n.sortStable=w.split("").sort(R).join("")===w,n.detectDuplicates=!!f,p(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||fe("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||fe("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||fe(V,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ce}(r);x.find=j,x.expr=j.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=j.uniqueSort,x.text=j.getText,x.isXMLDoc=j.isXML,x.contains=j.contains,x.escapeSelector=j.escape;var E=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&x(e).is(n))break;r.push(e)}return r},R=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},P=x.expr.match.needsContext;function T(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,n){return m(t)?x.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?x.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?x.grep(e,(function(e){return l.call(t,e)>-1!==n})):x.filter(t,e,n)}x.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,(function(e){return 1===e.nodeType})))},x.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(x(e).filter((function(){for(t=0;t<r;t++)if(x.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)x.find(e,o[t],n);return r>1?x.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&P.test(e)?x(e):e||[],!1).length}});var D,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:N.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),C.test(r[1])&&x.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=b.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,D=x(b);var B=/^(?:parents|prev(?:Until|All))/,V={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,o=this.length,i=[],s="string"!=typeof e&&x(e);if(!P.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?x.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?l.call(x(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return R((e.parentNode||{}).firstChild,e)},children:function(e){return R(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(T(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},(function(e,t){x.fn[e]=function(n,r){var o=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=x.filter(r,o)),this.length>1&&(V[e]||x.uniqueSort(o),B.test(e)&&o.reverse()),this.pushStack(o)}}));var I=/[^\x20\t\r\n\f]+/g;function L(e){return e}function $(e){throw e}function q(e,t,n,r){var o;try{e&&m(o=e.promise)?o.call(e).done(t).fail(n):e&&m(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return x.each(e.match(I)||[],(function(e,n){t[n]=!0})),t}(e):x.extend({},e);var t,n,r,o,i=[],s=[],c=-1,a=function(){for(o=o||e.once,r=t=!0;s.length;c=-1)for(n=s.shift();++c<i.length;)!1===i[c].apply(n[0],n[1])&&e.stopOnFalse&&(c=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},u={add:function(){return i&&(n&&!t&&(c=i.length-1,s.push(n)),function t(n){x.each(n,(function(n,r){m(r)?e.unique&&u.has(r)||i.push(r):r&&r.length&&"string"!==O(r)&&t(r)}))}(arguments),n&&!t&&a()),this},remove:function(){return x.each(arguments,(function(e,t){for(var n;(n=x.inArray(t,i,n))>-1;)i.splice(n,1),n<=c&&c--})),this},has:function(e){return e?x.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=s=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=s=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||a()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},x.extend({Deferred:function(e){var t=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return x.Deferred((function(n){x.each(t,(function(t,r){var o=m(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&m(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,o){var i=0;function s(e,t,n,o){return function(){var c=this,a=arguments,u=function(){var r,u;if(!(e<i)){if((r=n.apply(c,a))===t.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,m(u)?o?u.call(r,s(i,t,L,o),s(i,t,$,o)):(i++,u.call(r,s(i,t,L,o),s(i,t,$,o),s(i,t,L,t.notifyWith))):(n!==L&&(c=void 0,a=[r]),(o||t.resolveWith)(c,a))}},l=o?u:function(){try{u()}catch(r){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(r,l.stackTrace),e+1>=i&&(n!==$&&(c=void 0,a=[r]),t.rejectWith(c,a))}};e?l():(x.Deferred.getStackHook&&(l.stackTrace=x.Deferred.getStackHook()),r.setTimeout(l))}}return x.Deferred((function(r){t[0][3].add(s(0,r,m(o)?o:L,r.notifyWith)),t[1][3].add(s(0,r,m(e)?e:L)),t[2][3].add(s(0,r,m(n)?n:$))})).promise()},promise:function(e){return null!=e?x.extend(e,o):o}},i={};return x.each(t,(function(e,r){var s=r[2],c=r[5];o[r[1]]=s.add,c&&s.add((function(){n=c}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=s.fireWith})),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=c.call(arguments),i=x.Deferred(),s=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?c.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(q(e,i.done(s(n)).resolve,i.reject,!t),"pending"===i.state()||m(o[n]&&o[n].then)))return i.then();for(;n--;)q(o[n],s(n),i.reject);return i.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&H.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},x.readyException=function(e){r.setTimeout((function(){throw e}))};var F=x.Deferred();function z(){b.removeEventListener("DOMContentLoaded",z),r.removeEventListener("load",z),x.ready()}x.fn.ready=function(e){return F.then(e).catch((function(e){x.readyException(e)})),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==e&&--x.readyWait>0||F.resolveWith(b,[x]))}}),x.ready.then=F.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(x.ready):(b.addEventListener("DOMContentLoaded",z),r.addEventListener("load",z));var U=function(e,t,n,r,o,i,s){var c=0,a=e.length,u=null==n;if("object"===O(n))for(c in o=!0,n)U(e,t,c,n[c],!0,i,s);else if(void 0!==r&&(o=!0,m(r)||(s=!0),u&&(s?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(x(e),n)})),t))for(;c<a;c++)t(e[c],n,s?r:r.call(e[c],c,t(e[c],n)));return o?e:u?t.call(e):a?t(e[0],n):i},W=/^-ms-/,G=/-([a-z])/g;function J(e,t){return t.toUpperCase()}function K(e){return e.replace(W,"ms-").replace(G,J)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=x.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[K(t)]=n;else for(r in t)o[K(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(K):(t=K(t))in r?[t]:t.match(I)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||x.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var Q=new Y,Z=new Y,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return Z.hasData(e)||Q.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,o,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(o=Z.get(i),1===i.nodeType&&!Q.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=K(r.slice(5)),ne(i,r,o[r]));Q.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Z.set(this,e)})):U(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=Z.get(i,e))||void 0!==(n=ne(i,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),x.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Q.get(e,t),n&&(!r||Array.isArray(n)?r=Q.access(e,t,x.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,o=n.shift(),i=x._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,(function(){x.dequeue(e,t)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:x.Callbacks("once memory").add((function(){Q.remove(e,[t+"queue",n])}))})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each((function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){x.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=x.Deferred(),i=this,s=this.length,c=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Q.get(i[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(c));return c(),o.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],se=b.documentElement,ce=function(e){return x.contains(e.ownerDocument,e)},ae={composed:!0};se.getRootNode&&(ce=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ce(e)&&"none"===x.css(e,"display")};function le(e,t,n,r){var o,i,s=20,c=r?function(){return r.cur()}:function(){return x.css(e,t,"")},a=c(),u=n&&n[3]||(x.cssNumber[t]?"":"px"),l=e.nodeType&&(x.cssNumber[t]||"px"!==u&&+a)&&oe.exec(x.css(e,t));if(l&&l[3]!==u){for(a/=2,u=u||l[3],l=+a||1;s--;)x.style(e,t,l+u),(1-i)*(1-(i=c()/a||.5))<=0&&(s=0),l/=i;l*=2,x.style(e,t,l+u),n=n||[]}return n&&(l=+l||+a||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=o)),o}var fe={};function pe(e){var t,n=e.ownerDocument,r=e.nodeName,o=fe[r];return o||(t=n.body.appendChild(n.createElement(r)),o=x.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),fe[r]=o,o)}function he(e,t){for(var n,r,o=[],i=0,s=e.length;i<s;i++)(r=e[i]).style&&(n=r.style.display,t?("none"===n&&(o[i]=Q.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ue(r)&&(o[i]=pe(r))):"none"!==n&&(o[i]="none",Q.set(r,"display",n)));for(i=0;i<s;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}x.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ue(this)?x(this).show():x(this).hide()}))}});var de,ye,ve=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;de=b.createDocumentFragment().appendChild(b.createElement("div")),(ye=b.createElement("input")).setAttribute("type","radio"),ye.setAttribute("checked","checked"),ye.setAttribute("name","t"),de.appendChild(ye),v.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",v.option=!!de.lastChild;var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function we(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&T(e,t)?x.merge([e],n):n}function _e(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,v.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);var Oe=/<|&#?\w+;/;function Se(e,t,n,r,o){for(var i,s,c,a,u,l,f=t.createDocumentFragment(),p=[],h=0,d=e.length;h<d;h++)if((i=e[h])||0===i)if("object"===O(i))x.merge(p,i.nodeType?[i]:i);else if(Oe.test(i)){for(s=s||f.appendChild(t.createElement("div")),c=(me.exec(i)||["",""])[1].toLowerCase(),a=be[c]||be._default,s.innerHTML=a[1]+x.htmlPrefilter(i)+a[2],l=a[0];l--;)s=s.lastChild;x.merge(p,s.childNodes),(s=f.firstChild).textContent=""}else p.push(t.createTextNode(i));for(f.textContent="",h=0;i=p[h++];)if(r&&x.inArray(i,r)>-1)o&&o.push(i);else if(u=ce(i),s=we(f.appendChild(i),"script"),u&&_e(s),n)for(l=0;i=s[l++];)ge.test(i.type||"")&&n.push(i);return f}var xe=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function je(){return!1}function Ee(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function Re(e,t,n,r,o,i){var s,c;if("object"==typeof t){for(c in"string"!=typeof n&&(r=r||n,n=void 0),t)Re(e,c,n,r,t[c],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=je;else if(!o)return e;return 1===i&&(s=o,o=function(e){return x().off(e),s.apply(this,arguments)},o.guid=s.guid||(s.guid=x.guid++)),e.each((function(){x.event.add(this,t,o,r,n)}))}function Pe(e,t,n){n?(Q.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=c.call(arguments),Q.set(this,t,i),r=n(this,t),this[t](),i!==(o=Q.get(this,t))||r?Q.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else i.length&&(Q.set(this,t,{value:x.event.trigger(x.extend(i[0],x.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&x.event.add(e,t,ke)}x.event={global:{},add:function(e,t,n,r,o){var i,s,c,a,u,l,f,p,h,d,y,v=Q.get(e);if(X(e))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&x.find.matchesSelector(se,o),n.guid||(n.guid=x.guid++),(a=v.events)||(a=v.events=Object.create(null)),(s=v.handle)||(s=v.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(I)||[""]).length;u--;)h=y=(c=xe.exec(t[u])||[])[1],d=(c[2]||"").split(".").sort(),h&&(f=x.event.special[h]||{},h=(o?f.delegateType:f.bindType)||h,f=x.event.special[h]||{},l=x.extend({type:h,origType:y,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&x.expr.match.needsContext.test(o),namespace:d.join(".")},i),(p=a[h])||((p=a[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,d,s)||e.addEventListener&&e.addEventListener(h,s)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?p.splice(p.delegateCount++,0,l):p.push(l),x.event.global[h]=!0)},remove:function(e,t,n,r,o){var i,s,c,a,u,l,f,p,h,d,y,v=Q.hasData(e)&&Q.get(e);if(v&&(a=v.events)){for(u=(t=(t||"").match(I)||[""]).length;u--;)if(h=y=(c=xe.exec(t[u])||[])[1],d=(c[2]||"").split(".").sort(),h){for(f=x.event.special[h]||{},p=a[h=(r?f.delegateType:f.bindType)||h]||[],c=c[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=p.length;i--;)l=p[i],!o&&y!==l.origType||n&&n.guid!==l.guid||c&&!c.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(i,1),l.selector&&p.delegateCount--,f.remove&&f.remove.call(e,l));s&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,d,v.handle)||x.removeEvent(e,h,v.handle),delete a[h])}else for(h in a)x.event.remove(e,h+t[u],n,r,!0);x.isEmptyObject(a)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,s,c=new Array(arguments.length),a=x.event.fix(e),u=(Q.get(this,"events")||Object.create(null))[a.type]||[],l=x.event.special[a.type]||{};for(c[0]=a,t=1;t<arguments.length;t++)c[t]=arguments[t];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=x.event.handlers.call(this,a,u),t=0;(o=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==i.namespace&&!a.rnamespace.test(i.namespace)||(a.handleObj=i,a.data=i.data,void 0!==(r=((x.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,c))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,o,i,s,c=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],s={},n=0;n<a;n++)void 0===s[o=(r=t[n]).selector+" "]&&(s[o]=r.needsContext?x(o,this).index(u)>-1:x.find(o,this,null,[u]).length),s[o]&&i.push(r);i.length&&c.push({elem:u,handlers:i})}return u=this,a<t.length&&c.push({elem:u,handlers:t.slice(a)}),c},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ve.test(t.type)&&t.click&&T(t,"input")&&Pe(t,"click",ke),!1},trigger:function(e){var t=this||e;return ve.test(t.type)&&t.click&&T(t,"input")&&Pe(t,"click"),!0},_default:function(e){var t=e.target;return ve.test(t.type)&&t.click&&T(t,"input")&&Q.get(t,"click")||T(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:je,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:je,isPropagationStopped:je,isImmediatePropagationStopped:je,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},(function(e,t){x.event.special[e]={setup:function(){return Pe(this,e,Ee),!1},trigger:function(){return Pe(this,e),!0},_default:function(){return!0},delegateType:t}})),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||x.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),x.fn.extend({on:function(e,t,n,r){return Re(this,e,t,n,r)},one:function(e,t,n,r){return Re(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=je),this.each((function(){x.event.remove(this,e,n,t)}))}});var Te=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return T(e,"table")&&T(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ve(e,t){var n,r,o,i,s,c;if(1===t.nodeType){if(Q.hasData(e)&&(c=Q.get(e).events))for(o in Q.remove(t,"handle events"),c)for(n=0,r=c[o].length;n<r;n++)x.event.add(t,o,c[o][n]);Z.hasData(e)&&(i=Z.access(e),s=x.extend({},i),Z.set(t,s))}}function Me(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ve.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ie(e,t,n,r){t=a(t);var o,i,s,c,u,l,f=0,p=e.length,h=p-1,d=t[0],y=m(d);if(y||p>1&&"string"==typeof d&&!v.checkClone&&Ce.test(d))return e.each((function(o){var i=e.eq(o);y&&(t[0]=d.call(this,o,i.html())),Ie(i,t,n,r)}));if(p&&(i=(o=Se(t,e[0].ownerDocument,!1,e,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(c=(s=x.map(we(o,"script"),Ne)).length;f<p;f++)u=o,f!==h&&(u=x.clone(u,!0,!0),c&&x.merge(s,we(u,"script"))),n.call(e[f],u,f);if(c)for(l=s[s.length-1].ownerDocument,x.map(s,Be),f=0;f<c;f++)u=s[f],ge.test(u.type||"")&&!Q.access(u,"globalEval")&&x.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?x._evalUrl&&!u.noModule&&x._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):_(u.textContent.replace(Ae,""),u,l))}return e}function Le(e,t,n){for(var r,o=t?x.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||x.cleanData(we(r)),r.parentNode&&(n&&ce(r)&&_e(we(r,"script")),r.parentNode.removeChild(r));return e}x.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,s,c=e.cloneNode(!0),a=ce(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(s=we(c),r=0,o=(i=we(e)).length;r<o;r++)Me(i[r],s[r]);if(t)if(n)for(i=i||we(e),s=s||we(c),r=0,o=i.length;r<o;r++)Ve(i[r],s[r]);else Ve(e,c);return(s=we(c,"script")).length>0&&_e(s,!a&&we(e,"script")),c},cleanData:function(e){for(var t,n,r,o=x.event.special,i=0;void 0!==(n=e[i]);i++)if(X(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)o[r]?x.event.remove(n,r):x.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),x.fn.extend({detach:function(e){return Le(this,e,!0)},remove:function(e){return Le(this,e)},text:function(e){return U(this,(function(e){return void 0===e?x.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ie(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return Ie(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ie(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ie(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(we(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return x.clone(this,e,t)}))},html:function(e){return U(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!be[(me.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(we(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ie(this,arguments,(function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(we(this)),n&&n.replaceChild(t,this))}),e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){x.fn[e]=function(e){for(var n,r=[],o=x(e),i=o.length-1,s=0;s<=i;s++)n=s===i?this:this.clone(!0),x(o[s])[t](n),u.apply(r,n.get());return this.pushStack(r)}}));var $e=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},He=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];for(o in r=n.call(e),t)e.style[o]=i[o];return r},Fe=new RegExp(ie.join("|"),"i");function ze(e,t,n){var r,o,i,s,c=e.style;return(n=n||qe(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||ce(e)||(s=x.style(e,t)),!v.pixelBoxStyles()&&$e.test(s)&&Fe.test(t)&&(r=c.width,o=c.minWidth,i=c.maxWidth,c.minWidth=c.maxWidth=c.width=s,s=n.width,c.width=r,c.minWidth=o,c.maxWidth=i)),void 0!==s?s+"":s}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(u).appendChild(l);var e=r.getComputedStyle(l);n="1%"!==e.top,a=12===t(e.marginLeft),l.style.right="60%",s=36===t(e.right),o=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),se.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,o,i,s,c,a,u=b.createElement("div"),l=b.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,x.extend(v,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,o;return null==c&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",se.appendChild(e).appendChild(t).appendChild(n),o=r.getComputedStyle(t),c=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),c}}))}();var We=["Webkit","Moz","ms"],Ge=b.createElement("div").style,Je={};function Ke(e){return x.cssProps[e]||Je[e]||(e in Ge?e:Je[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=We.length;n--;)if((e=We[n]+t)in Ge)return e}(e)||e)}var Xe=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,Qe={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var r=oe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function tt(e,t,n,r,o,i){var s="width"===t?1:0,c=0,a=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(a+=x.css(e,n+ie[s],!0,o)),r?("content"===n&&(a-=x.css(e,"padding"+ie[s],!0,o)),"margin"!==n&&(a-=x.css(e,"border"+ie[s]+"Width",!0,o))):(a+=x.css(e,"padding"+ie[s],!0,o),"padding"!==n?a+=x.css(e,"border"+ie[s]+"Width",!0,o):c+=x.css(e,"border"+ie[s]+"Width",!0,o));return!r&&i>=0&&(a+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-a-c-.5))||0),a}function nt(e,t,n){var r=qe(e),o=(!v.boxSizingReliable()||n)&&"border-box"===x.css(e,"boxSizing",!1,r),i=o,s=ze(e,t,r),c="offset"+t[0].toUpperCase()+t.slice(1);if($e.test(s)){if(!n)return s;s="auto"}return(!v.boxSizingReliable()&&o||!v.reliableTrDimensions()&&T(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===x.css(e,"display",!1,r))&&e.getClientRects().length&&(o="border-box"===x.css(e,"boxSizing",!1,r),(i=c in e)&&(s=e[c])),(s=parseFloat(s)||0)+tt(e,t,n||(o?"border":"content"),i,r,s)+"px"}function rt(e,t,n,r,o){return new rt.prototype.init(e,t,n,r,o)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,s,c=K(t),a=Ye.test(t),u=e.style;if(a||(t=Ke(c)),s=x.cssHooks[t]||x.cssHooks[c],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(e,!1,r))?o:u[t];"string"==(i=typeof n)&&(o=oe.exec(n))&&o[1]&&(n=le(e,t,o),i="number"),null!=n&&n==n&&("number"!==i||a||(n+=o&&o[3]||(x.cssNumber[c]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(a?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var o,i,s,c=K(t);return Ye.test(t)||(t=Ke(c)),(s=x.cssHooks[t]||x.cssHooks[c])&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=ze(e,t,r)),"normal"===o&&t in Ze&&(o=Ze[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),x.each(["height","width"],(function(e,t){x.cssHooks[t]={get:function(e,n,r){if(n)return!Xe.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,r):He(e,Qe,(function(){return nt(e,t,r)}))},set:function(e,n,r){var o,i=qe(e),s=!v.scrollboxSize()&&"absolute"===i.position,c=(s||r)&&"border-box"===x.css(e,"boxSizing",!1,i),a=r?tt(e,t,r,c,i):0;return c&&s&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-tt(e,t,"border",!1,i)-.5)),a&&(o=oe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),et(0,n,a)}}})),x.cssHooks.marginLeft=Ue(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),x.each({margin:"",padding:"",border:"Width"},(function(e,t){x.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+ie[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(x.cssHooks[e+t].set=et)})),x.fn.extend({css:function(e,t){return U(this,(function(e,t,n){var r,o,i={},s=0;if(Array.isArray(t)){for(r=qe(e),o=t.length;s<o;s++)i[t[s]]=x.css(e,t[s],!1,r);return i}return void 0!==n?x.style(e,t,n):x.css(e,t)}),e,t,arguments.length>1)}}),x.Tween=rt,rt.prototype={constructor:rt,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(x.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}},rt.prototype.init.prototype=rt.prototype,rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[Ke(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}},rt.propHooks.scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=rt.prototype.init,x.fx.step={};var ot,it,st=/^(?:toggle|show|hide)$/,ct=/queueHooks$/;function at(){it&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(at):r.setTimeout(at,x.fx.interval),x.fx.tick())}function ut(){return r.setTimeout((function(){ot=void 0})),ot=Date.now()}function lt(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)o["margin"+(n=ie[r])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function ft(e,t,n){for(var r,o=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),i=0,s=o.length;i<s;i++)if(r=o[i].call(n,t,e))return r}function pt(e,t,n){var r,o,i=0,s=pt.prefilters.length,c=x.Deferred().always((function(){delete a.elem})),a=function(){if(o)return!1;for(var t=ot||ut(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),i=0,s=u.tweens.length;i<s;i++)u.tweens[i].run(r);return c.notifyWith(e,[u,r,n]),r<1&&s?n:(s||c.notifyWith(e,[u,1,0]),c.resolveWith(e,[u]),!1)},u=c.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||ut(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return t?(c.notifyWith(e,[u,1,0]),c.resolveWith(e,[u,t])):c.rejectWith(e,[u,t]),this}}),l=u.props;for(function(e,t){var n,r,o,i,s;for(n in e)if(o=t[r=K(n)],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(s=x.cssHooks[r])&&"expand"in s)for(n in i=s.expand(i),delete e[r],i)n in e||(e[n]=i[n],t[n]=o);else t[r]=o}(l,u.opts.specialEasing);i<s;i++)if(r=pt.prefilters[i].call(u,e,l,u.opts))return m(r.stop)&&(x._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return x.map(l,ft,u),m(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),x.fx.timer(x.extend(a,{elem:e,anim:u,queue:u.opts.queue})),u}x.Animation=x.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(I);for(var n,r=0,o=e.length;r<o;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,o,i,s,c,a,u,l,f="width"in t||"height"in t,p=this,h={},d=e.style,y=e.nodeType&&ue(e),v=Q.get(e,"fxshow");for(r in n.queue||(null==(s=x._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,p.always((function(){p.always((function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()}))}))),t)if(o=t[r],st.test(o)){if(delete t[r],i=i||"toggle"===o,o===(y?"hide":"show")){if("show"!==o||!v||void 0===v[r])continue;y=!0}h[r]=v&&v[r]||x.style(e,r)}if((a=!x.isEmptyObject(t))||!x.isEmptyObject(h))for(r in f&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=v&&v.display)&&(u=Q.get(e,"display")),"none"===(l=x.css(e,"display"))&&(u?l=u:(he([e],!0),u=e.style.display||u,l=x.css(e,"display"),he([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===x.css(e,"float")&&(a||(p.done((function(){d.display=u})),null==u&&(l=d.display,u="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",p.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),a=!1,h)a||(v?"hidden"in v&&(y=v.hidden):v=Q.access(e,"fxshow",{display:u}),i&&(v.hidden=!y),y&&he([e],!0),p.done((function(){for(r in y||he([e]),Q.remove(e,"fxshow"),h)x.style(e,r,h[r])}))),a=ft(y?v[r]:0,r,p),r in v||(v[r]=a.start,y&&(a.end=a.start,a.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return x.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in x.fx.speeds?r.duration=x.fx.speeds[r.duration]:r.duration=x.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=x.isEmptyObject(e),i=x.speed(t,n,r),s=function(){var t=pt(this,x.extend({},e),i);(o||Q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",i=x.timers,s=Q.get(this);if(o)s[o]&&s[o].stop&&r(s[o]);else for(o in s)s[o]&&s[o].stop&&ct.test(o)&&r(s[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||x.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Q.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=x.timers,s=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),x.each(["toggle","show","hide"],(function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,r,o)}})),x.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(ot=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),ot=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){it||(it=!0,at())},x.fx.stop=function(){it=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(e,t){return e=x.fx&&x.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var o=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(o)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var ht,dt=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return U(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){x.removeAttr(this,e)}))}}),x.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?x.prop(e,t,n):(1===i&&x.isXMLDoc(e)||(o=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:null==(r=x.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&T(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(I);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=dt[t]||x.find.attr;dt[t]=function(e,t,r){var o,i,s=t.toLowerCase();return r||(i=dt[s],dt[s]=o,o=null!=n(e,t,r)?s:null,dt[s]=i),o}}));var yt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function mt(e){return(e.match(I)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(I)||[]}x.fn.extend({prop:function(e,t){return U(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[x.propFix[e]||e]}))}}),x.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&x.isXMLDoc(e)||(t=x.propFix[t]||t,o=x.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){x.propFix[this.toLowerCase()]=this})),x.fn.extend({addClass:function(e){var t,n,r,o,i,s,c,a=0;if(m(e))return this.each((function(t){x(this).addClass(e.call(this,t,gt(this)))}));if((t=bt(e)).length)for(;n=this[a++];)if(o=gt(n),r=1===n.nodeType&&" "+mt(o)+" "){for(s=0;i=t[s++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(c=mt(r))&&n.setAttribute("class",c)}return this},removeClass:function(e){var t,n,r,o,i,s,c,a=0;if(m(e))return this.each((function(t){x(this).removeClass(e.call(this,t,gt(this)))}));if(!arguments.length)return this.attr("class","");if((t=bt(e)).length)for(;n=this[a++];)if(o=gt(n),r=1===n.nodeType&&" "+mt(o)+" "){for(s=0;i=t[s++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(c=mt(r))&&n.setAttribute("class",c)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):m(e)?this.each((function(n){x(this).toggleClass(e.call(this,n,gt(this),t),t)})):this.each((function(){var t,o,i,s;if(r)for(o=0,i=x(this),s=bt(e);t=s[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=gt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+mt(gt(n))+" ").indexOf(t)>-1)return!0;return!1}});var wt=/\r/g;x.fn.extend({val:function(e){var t,n,r,o=this[0];return arguments.length?(r=m(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?e.call(this,n,x(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=x.map(o,(function(e){return null==e?"":e+""}))),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=x.valHooks[o.type]||x.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(wt,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:mt(x.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,s="select-one"===e.type,c=s?null:[],a=s?i+1:o.length;for(r=i<0?a:s?i:0;r<a;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!T(n.parentNode,"optgroup"))){if(t=x(n).val(),s)return t;c.push(t)}return c},set:function(e,t){for(var n,r,o=e.options,i=x.makeArray(t),s=o.length;s--;)((r=o[s]).selected=x.inArray(x.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),x.each(["radio","checkbox"],(function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=x.inArray(x(e).val(),t)>-1}},v.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),v.focusin="onfocusin"in r;var _t=/^(?:focusinfocus|focusoutblur)$/,Ot=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(e,t,n,o){var i,s,c,a,u,l,f,p,d=[n||b],y=h.call(e,"type")?e.type:e,v=h.call(e,"namespace")?e.namespace.split("."):[];if(s=p=c=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!_t.test(y+x.event.triggered)&&(y.indexOf(".")>-1&&(v=y.split("."),y=v.shift(),v.sort()),u=y.indexOf(":")<0&&"on"+y,(e=e[x.expando]?e:new x.Event(y,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:x.makeArray(t,[e]),f=x.event.special[y]||{},o||!f.trigger||!1!==f.trigger.apply(n,t))){if(!o&&!f.noBubble&&!g(n)){for(a=f.delegateType||y,_t.test(a+y)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(n.ownerDocument||b)&&d.push(c.defaultView||c.parentWindow||r)}for(i=0;(s=d[i++])&&!e.isPropagationStopped();)p=s,e.type=i>1?a:f.bindType||y,(l=(Q.get(s,"events")||Object.create(null))[e.type]&&Q.get(s,"handle"))&&l.apply(s,t),(l=u&&s[u])&&l.apply&&X(s)&&(e.result=l.apply(s,t),!1===e.result&&e.preventDefault());return e.type=y,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(d.pop(),t)||!X(n)||u&&m(n[y])&&!g(n)&&((c=n[u])&&(n[u]=null),x.event.triggered=y,e.isPropagationStopped()&&p.addEventListener(y,Ot),n[y](),e.isPropagationStopped()&&p.removeEventListener(y,Ot),x.event.triggered=void 0,c&&(n[u]=c)),e.result}},simulate:function(e,t,n){var r=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(r,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each((function(){x.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}}),v.focusin||x.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=Q.access(r,t);o||r.addEventListener(e,n,!0),Q.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=Q.access(r,t)-1;o?Q.access(r,t,o):(r.removeEventListener(e,n,!0),Q.remove(r,t))}}}));var St=r.location,xt={guid:Date.now()},kt=/\?/;x.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||x.error("Invalid XML: "+(n?x.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var jt=/\[\]$/,Et=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,n,r){var o;if(Array.isArray(t))x.each(t,(function(t,o){n||jt.test(e)?r(e,o):Tt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)}));else if(n||"object"!==O(t))r(e,t);else for(o in t)Tt(e+"["+o+"]",t[o],n,r)}x.param=function(e,t){var n,r=[],o=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,(function(){o(this.name,this.value)}));else for(n in e)Tt(n,e[n],t,o);return r.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&Pt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!ve.test(e))})).map((function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,(function(e){return{name:t.name,value:e.replace(Et,"\r\n")}})):{name:t.name,value:n.replace(Et,"\r\n")}})).get()}});var Ct=/%20/g,At=/#.*$/,Dt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,Vt=/^\/\//,Mt={},It={},Lt="*/".concat("*"),$t=b.createElement("a");function qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(I)||[];if(m(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ht(e,t,n,r){var o={},i=e===It;function s(c){var a;return o[c]=!0,x.each(e[c]||[],(function(e,c){var u=c(t,n,r);return"string"!=typeof u||i||o[u]?i?!(a=u):void 0:(t.dataTypes.unshift(u),s(u),!1)})),a}return s(t.dataTypes[0])||!o["*"]&&s("*")}function Ft(e,t){var n,r,o=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&x.extend(!0,e,r),e}$t.href=St.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,x.ajaxSettings),t):Ft(x.ajaxSettings,e)},ajaxPrefilter:qt(Mt),ajaxTransport:qt(It),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,i,s,c,a,u,l,f,p,h=x.ajaxSetup({},t),d=h.context||h,y=h.context&&(d.nodeType||d.jquery)?x(d):x.event,v=x.Deferred(),m=x.Callbacks("once memory"),g=h.statusCode||{},w={},_={},O="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Nt.exec(i);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?i:null},setRequestHeader:function(e,t){return null==u&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)S.always(e[S.status]);else for(t in e)g[t]=[g[t],e[t]];return this},abort:function(e){var t=e||O;return n&&n.abort(t),k(0,t),this}};if(v.promise(S),h.url=((e||h.url||St.href)+"").replace(Vt,St.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(I)||[""],null==h.crossDomain){a=b.createElement("a");try{a.href=h.url,a.href=a.href,h.crossDomain=$t.protocol+"//"+$t.host!=a.protocol+"//"+a.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=x.param(h.data,h.traditional)),Ht(Mt,h,t,S),u)return S;for(f in(l=x.event&&h.global)&&0==x.active++&&x.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Bt.test(h.type),o=h.url.replace(At,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ct,"+")):(p=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(kt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Dt,"$1"),p=(kt.test(o)?"&":"?")+"_="+xt.guid+++p),h.url=o+p),h.ifModified&&(x.lastModified[o]&&S.setRequestHeader("If-Modified-Since",x.lastModified[o]),x.etag[o]&&S.setRequestHeader("If-None-Match",x.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&S.setRequestHeader("Content-Type",h.contentType),S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Lt+"; q=0.01":""):h.accepts["*"]),h.headers)S.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(!1===h.beforeSend.call(d,S,h)||u))return S.abort();if(O="abort",m.add(h.complete),S.done(h.success),S.fail(h.error),n=Ht(It,h,t,S)){if(S.readyState=1,l&&y.trigger("ajaxSend",[S,h]),u)return S;h.async&&h.timeout>0&&(c=r.setTimeout((function(){S.abort("timeout")}),h.timeout));try{u=!1,n.send(w,k)}catch(e){if(u)throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,s,a){var f,p,b,w,_,O=t;u||(u=!0,c&&r.clearTimeout(c),n=void 0,i=a||"",S.readyState=e>0?4:0,f=e>=200&&e<300||304===e,s&&(w=function(e,t,n){for(var r,o,i,s,c=e.contents,a=e.dataTypes;"*"===a[0];)a.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in c)if(c[o]&&c[o].test(r)){a.unshift(o);break}if(a[0]in n)i=a[0];else{for(o in n){if(!a[0]||e.converters[o+" "+a[0]]){i=o;break}s||(s=o)}i=i||s}if(i)return i!==a[0]&&a.unshift(i),n[i]}(h,S,s)),!f&&x.inArray("script",h.dataTypes)>-1&&x.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),w=function(e,t,n,r){var o,i,s,c,a,u={},l=e.dataTypes.slice();if(l[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=i,i=l.shift())if("*"===i)i=a;else if("*"!==a&&a!==i){if(!(s=u[a+" "+i]||u["* "+i]))for(o in u)if((c=o.split(" "))[1]===i&&(s=u[a+" "+c[0]]||u["* "+c[0]])){!0===s?s=u[o]:!0!==u[o]&&(i=c[0],l.unshift(c[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+a+" to "+i}}}return{state:"success",data:t}}(h,w,S,f),f?(h.ifModified&&((_=S.getResponseHeader("Last-Modified"))&&(x.lastModified[o]=_),(_=S.getResponseHeader("etag"))&&(x.etag[o]=_)),204===e||"HEAD"===h.type?O="nocontent":304===e?O="notmodified":(O=w.state,p=w.data,f=!(b=w.error))):(b=O,!e&&O||(O="error",e<0&&(e=0))),S.status=e,S.statusText=(t||O)+"",f?v.resolveWith(d,[p,O,S]):v.rejectWith(d,[S,O,b]),S.statusCode(g),g=void 0,l&&y.trigger(f?"ajaxSuccess":"ajaxError",[S,h,f?p:b]),m.fireWith(d,[S,O]),l&&(y.trigger("ajaxComplete",[S,h]),--x.active||x.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],(function(e,t){x[t]=function(e,n,r,o){return m(n)&&(o=o||r,r=n,n=void 0),x.ajax(x.extend({url:e,type:t,dataType:o,data:n,success:r},x.isPlainObject(e)&&e))}})),x.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),x._evalUrl=function(e,t,n){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t,n)}})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return m(e)?this.each((function(t){x(this).wrapInner(e.call(this,t))})):this.each((function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m(e);return this.each((function(n){x(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){x(this).replaceWith(this.childNodes)})),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Ut=x.ajaxSettings.xhr();v.cors=!!Ut&&"withCredentials"in Ut,v.ajax=Ut=!!Ut,x.ajaxTransport((function(e){var t,n;if(v.cors||Ut&&!e.crossDomain)return{send:function(o,i){var s,c=e.xhr();if(c.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)c[s]=e.xhrFields[s];for(s in e.mimeType&&c.overrideMimeType&&c.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)c.setRequestHeader(s,o[s]);t=function(e){return function(){t&&(t=n=c.onload=c.onerror=c.onabort=c.ontimeout=c.onreadystatechange=null,"abort"===e?c.abort():"error"===e?"number"!=typeof c.status?i(0,"error"):i(c.status,c.statusText):i(zt[c.status]||c.status,c.statusText,"text"!==(c.responseType||"text")||"string"!=typeof c.responseText?{binary:c.response}:{text:c.responseText},c.getAllResponseHeaders()))}},c.onload=t(),n=c.onerror=c.ontimeout=t("error"),void 0!==c.onabort?c.onabort=n:c.onreadystatechange=function(){4===c.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{c.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),x.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),x.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,o){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Wt,Gt=[],Jt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||x.expando+"_"+xt.guid++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",(function(e,t,n){var o,i,s,c=!1!==e.jsonp&&(Jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(c||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,c?e[c]=e[c].replace(Jt,"$1"+o):!1!==e.jsonp&&(e.url+=(kt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||x.error(o+" was not called"),s[0]},e.dataTypes[0]="json",i=r[o],r[o]=function(){s=arguments},n.always((function(){void 0===i?x(r).removeProp(o):r[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(o)),s&&m(i)&&i(s[0]),s=i=void 0})),"script"})),v.createHTMLDocument=((Wt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(r)):t=b),i=!n&&[],(o=C.exec(e))?[t.createElement(o[1])]:(o=Se([e],t,i),i&&i.length&&x(i).remove(),x.merge([],o.childNodes)));var r,o,i},x.fn.load=function(e,t,n){var r,o,i,s=this,c=e.indexOf(" ");return c>-1&&(r=mt(e.slice(c)),e=e.slice(0,c)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&x.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){i=arguments,s.html(r?x("<div>").append(x.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},x.expr.pseudos.animated=function(e){return x.grep(x.timers,(function(t){return e===t.elem})).length},x.offset={setOffset:function(e,t,n){var r,o,i,s,c,a,u=x.css(e,"position"),l=x(e),f={};"static"===u&&(e.style.position="relative"),c=l.offset(),i=x.css(e,"top"),a=x.css(e,"left"),("absolute"===u||"fixed"===u)&&(i+a).indexOf("auto")>-1?(s=(r=l.position()).top,o=r.left):(s=parseFloat(i)||0,o=parseFloat(a)||0),m(t)&&(t=t.call(e,n,x.extend({},c))),null!=t.top&&(f.top=t.top-c.top+s),null!=t.left&&(f.left=t.left-c.left+o),"using"in t?t.using.call(e,f):l.css(f)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){x.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===x.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((o=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),o.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-x.css(r,"marginTop",!0),left:t.left-o.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||se}))}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;x.fn[e]=function(r){return U(this,(function(e,r,o){var i;if(g(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o}),e,r,arguments.length)}})),x.each(["top","left"],(function(e,t){x.cssHooks[t]=Ue(v.pixelPosition,(function(e,n){if(n)return n=ze(e,t),$e.test(n)?x(e).position()[t]+"px":n}))})),x.each({Height:"height",Width:"width"},(function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){x.fn[r]=function(o,i){var s=arguments.length&&(n||"boolean"!=typeof o),c=n||(!0===o||!0===i?"margin":"border");return U(this,(function(t,n,o){var i;return g(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?x.css(t,n,c):x.style(t,n,o,c)}),t,s?o:void 0,s)}}))})),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){x.fn[t]=function(e){return this.on(t,e)}})),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Kt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;x.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=c.call(arguments,2),o=function(){return e.apply(t||this,r.concat(c.call(arguments)))},o.guid=e.guid=e.guid||x.guid++,o},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=T,x.isFunction=m,x.isWindow=g,x.camelCase=K,x.type=O,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},x.trim=function(e){return null==e?"":(e+"").replace(Kt,"")},void 0===(n=function(){return x}.apply(t,[]))||(e.exports=n);var Xt=r.jQuery,Yt=r.$;return x.noConflict=function(e){return r.$===x&&(r.$=Yt),e&&r.jQuery===x&&(r.jQuery=Xt),x},void 0===o&&(r.jQuery=r.$=x),x}))},6419:function(e,t,n){e.exports=function(){var e="1.13.1",t="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||Function("return this")()||{},r=Array.prototype,o=Object.prototype,i="undefined"!=typeof Symbol?Symbol.prototype:null,s=r.push,c=r.slice,a=o.toString,u=o.hasOwnProperty,l="undefined"!=typeof ArrayBuffer,f="undefined"!=typeof DataView,p=Array.isArray,h=Object.keys,d=Object.create,y=l&&ArrayBuffer.isView,v=isNaN,m=isFinite,g=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],w=Math.pow(2,53)-1;function _(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=Array(t+1);for(o=0;o<t;o++)i[o]=arguments[o];return i[t]=r,e.apply(this,i)}}function O(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function S(e){return void 0===e}function x(e){return!0===e||!1===e||"[object Boolean]"===a.call(e)}function k(e){var t="[object "+e+"]";return function(e){return a.call(e)===t}}var j=k("String"),E=k("Number"),R=k("Date"),P=k("RegExp"),T=k("Error"),C=k("Symbol"),A=k("ArrayBuffer"),D=k("Function"),N=t.document&&t.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof N&&(D=function(e){return"function"==typeof e||!1});var B=D,V=k("Object"),M=f&&V(new DataView(new ArrayBuffer(8))),I="undefined"!=typeof Map&&V(new Map),L=k("DataView"),$=M?function(e){return null!=e&&B(e.getInt8)&&A(e.buffer)}:L,q=p||k("Array");function H(e,t){return null!=e&&u.call(e,t)}var F=k("Arguments");!function(){F(arguments)||(F=function(e){return H(e,"callee")})}();var z=F;function U(e){return E(e)&&v(e)}function W(e){return function(){return e}}function G(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=w}}function J(e){return function(t){return null==t?void 0:t[e]}}var K=J("byteLength"),X=G(K),Y=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Q=l?function(e){return y?y(e)&&!$(e):X(e)&&Y.test(a.call(e))}:W(!1),Z=J("length");function ee(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=b.length,r=e.constructor,i=B(r)&&r.prototype||o,s="constructor";for(H(e,s)&&!t.contains(s)&&t.push(s);n--;)(s=b[n])in e&&e[s]!==i[s]&&!t.contains(s)&&t.push(s)}function te(e){if(!O(e))return[];if(h)return h(e);var t=[];for(var n in e)H(e,n)&&t.push(n);return g&&ee(e,t),t}function ne(e,t){var n=te(t),r=n.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var s=n[i];if(t[s]!==o[s]||!(s in o))return!1}return!0}function re(e){return e instanceof re?e:this instanceof re?void(this._wrapped=e):new re(e)}function oe(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,K(e))}re.VERSION=e,re.prototype.value=function(){return this._wrapped},re.prototype.valueOf=re.prototype.toJSON=re.prototype.value,re.prototype.toString=function(){return String(this._wrapped)};var ie="[object DataView]";function se(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&function e(t,n,r,o){t instanceof re&&(t=t._wrapped),n instanceof re&&(n=n._wrapped);var s=a.call(t);if(s!==a.call(n))return!1;if(M&&"[object Object]"==s&&$(t)){if(!$(n))return!1;s=ie}switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return i.valueOf.call(t)===i.valueOf.call(n);case"[object ArrayBuffer]":case ie:return e(oe(t),oe(n),r,o)}var c="[object Array]"===s;if(!c&&Q(t)){if(K(t)!==K(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;c=!0}if(!c){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,l=n.constructor;if(u!==l&&!(B(u)&&u instanceof u&&B(l)&&l instanceof l)&&"constructor"in t&&"constructor"in n)return!1}o=o||[];for(var f=(r=r||[]).length;f--;)if(r[f]===t)return o[f]===n;if(r.push(t),o.push(n),c){if((f=t.length)!==n.length)return!1;for(;f--;)if(!se(t[f],n[f],r,o))return!1}else{var p,h=te(t);if(f=h.length,te(n).length!==f)return!1;for(;f--;)if(!H(n,p=h[f])||!se(t[p],n[p],r,o))return!1}return r.pop(),o.pop(),!0}(e,t,n,r)}function ce(e){if(!O(e))return[];var t=[];for(var n in e)t.push(n);return g&&ee(e,t),t}function ae(e){var t=Z(e);return function(n){if(null==n)return!1;var r=ce(n);if(Z(r))return!1;for(var o=0;o<t;o++)if(!B(n[e[o]]))return!1;return e!==he||!B(n[ue])}}var ue="forEach",le=["clear","delete"],fe=["get","has","set"],pe=le.concat(ue,fe),he=le.concat(fe),de=["add"].concat(le,ue,"has"),ye=I?ae(pe):k("Map"),ve=I?ae(he):k("WeakMap"),me=I?ae(de):k("Set"),ge=k("WeakSet");function be(e){for(var t=te(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=e[t[o]];return r}function we(e){for(var t={},n=te(e),r=0,o=n.length;r<o;r++)t[e[n[r]]]=n[r];return t}function _e(e){var t=[];for(var n in e)B(e[n])&&t.push(n);return t.sort()}function Oe(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],s=e(i),c=s.length,a=0;a<c;a++){var u=s[a];t&&void 0!==n[u]||(n[u]=i[u])}return n}}var Se=Oe(ce),xe=Oe(te),ke=Oe(ce,!0);function je(e){if(!O(e))return{};if(d)return d(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Ee(e){return O(e)?q(e)?e.slice():Se({},e):e}function Re(e){return q(e)?e:[e]}function Pe(e){return re.toPath(e)}function Te(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function Ce(e,t,n){var r=Te(e,Pe(t));return S(r)?n:r}function Ae(e){return e}function De(e){return e=xe({},e),function(t){return ne(t,e)}}function Ne(e){return e=Pe(e),function(t){return Te(t,e)}}function Be(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return function(){return e.apply(t,arguments)}}function Ve(e,t,n){return null==e?Ae:B(e)?Be(e,t,n):O(e)&&!q(e)?De(e):Ne(e)}function Me(e,t){return Ve(e,t,1/0)}function Ie(e,t,n){return re.iteratee!==Me?re.iteratee(e,t):Ve(e,t,n)}function Le(){}function $e(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}re.toPath=Re,re.iteratee=Me;var qe=Date.now||function(){return(new Date).getTime()};function He(e){var t=function(t){return e[t]},n="(?:"+te(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}}var Fe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ze=He(Fe),Ue=He(we(Fe)),We=re.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ge=/(.)^/,Je={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ke=/\\|'|\r|\n|\u2028|\u2029/g;function Xe(e){return"\\"+Je[e]}var Ye=/^\s*(\w|\$)+\s*$/,Qe=0;function Ze(e,t,n,r,o){if(!(r instanceof t))return e.apply(n,o);var i=je(e.prototype),s=e.apply(i,o);return O(s)?s:i}var et=_((function(e,t){var n=et.placeholder,r=function(){for(var o=0,i=t.length,s=Array(i),c=0;c<i;c++)s[c]=t[c]===n?arguments[o++]:t[c];for(;o<arguments.length;)s.push(arguments[o++]);return Ze(e,r,this,this,s)};return r}));et.placeholder=re;var tt=_((function(e,t,n){if(!B(e))throw new TypeError("Bind must be called on a function");var r=_((function(o){return Ze(e,r,t,this,n.concat(o))}));return r})),nt=G(Z);function rt(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var o=r.length,i=0,s=Z(e);i<s;i++){var c=e[i];if(nt(c)&&(q(c)||z(c)))if(t>1)rt(c,t-1,n,r),o=r.length;else for(var a=0,u=c.length;a<u;)r[o++]=c[a++];else n||(r[o++]=c)}return r}var ot=_((function(e,t){var n=(t=rt(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=tt(e[r],e)}return e})),it=_((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),st=et(it,re,1);function ct(e){return function(){return!e.apply(this,arguments)}}function at(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var ut=et(at,2);function lt(e,t,n){t=Ie(t,n);for(var r,o=te(e),i=0,s=o.length;i<s;i++)if(t(e[r=o[i]],r,e))return r}function ft(e){return function(t,n,r){n=Ie(n,r);for(var o=Z(t),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(n(t[i],i,t))return i;return-1}}var pt=ft(1),ht=ft(-1);function dt(e,t,n,r){for(var o=(n=Ie(n,r,1))(t),i=0,s=Z(e);i<s;){var c=Math.floor((i+s)/2);n(e[c])<o?i=c+1:s=c}return i}function yt(e,t,n){return function(r,o,i){var s=0,a=Z(r);if("number"==typeof i)e>0?s=i>=0?i:Math.max(i+a,s):a=i>=0?Math.min(i+1,a):i+a+1;else if(n&&i&&a)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=t(c.call(r,s,a),U))>=0?i+s:-1;for(i=e>0?s:a-1;i>=0&&i<a;i+=e)if(r[i]===o)return i;return-1}}var vt=yt(1,pt,dt),mt=yt(-1,ht);function gt(e,t,n){var r=(nt(e)?pt:lt)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function bt(e,t,n){var r,o;if(t=Be(t,n),nt(e))for(r=0,o=e.length;r<o;r++)t(e[r],r,e);else{var i=te(e);for(r=0,o=i.length;r<o;r++)t(e[i[r]],i[r],e)}return e}function wt(e,t,n){t=Ie(t,n);for(var r=!nt(e)&&te(e),o=(r||e).length,i=Array(o),s=0;s<o;s++){var c=r?r[s]:s;i[s]=t(e[c],c,e)}return i}function _t(e){var t=function(t,n,r,o){var i=!nt(t)&&te(t),s=(i||t).length,c=e>0?0:s-1;for(o||(r=t[i?i[c]:c],c+=e);c>=0&&c<s;c+=e){var a=i?i[c]:c;r=n(r,t[a],a,t)}return r};return function(e,n,r,o){var i=arguments.length>=3;return t(e,Be(n,o,4),r,i)}}var Ot=_t(1),St=_t(-1);function xt(e,t,n){var r=[];return t=Ie(t,n),bt(e,(function(e,n,o){t(e,n,o)&&r.push(e)})),r}function kt(e,t,n){t=Ie(t,n);for(var r=!nt(e)&&te(e),o=(r||e).length,i=0;i<o;i++){var s=r?r[i]:i;if(!t(e[s],s,e))return!1}return!0}function jt(e,t,n){t=Ie(t,n);for(var r=!nt(e)&&te(e),o=(r||e).length,i=0;i<o;i++){var s=r?r[i]:i;if(t(e[s],s,e))return!0}return!1}function Et(e,t,n,r){return nt(e)||(e=be(e)),("number"!=typeof n||r)&&(n=0),vt(e,t,n)>=0}var Rt=_((function(e,t,n){var r,o;return B(t)?o=t:(t=Pe(t),r=t.slice(0,-1),t=t[t.length-1]),wt(e,(function(e){var i=o;if(!i){if(r&&r.length&&(e=Te(e,r)),null==e)return;i=e[t]}return null==i?i:i.apply(e,n)}))}));function Pt(e,t){return wt(e,Ne(t))}function Tt(e,t,n){var r,o,i=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var c=0,a=(e=nt(e)?e:be(e)).length;c<a;c++)null!=(r=e[c])&&r>i&&(i=r);else t=Ie(t,n),bt(e,(function(e,n,r){((o=t(e,n,r))>s||o===-1/0&&i===-1/0)&&(i=e,s=o)}));return i}function Ct(e,t,n){if(null==t||n)return nt(e)||(e=be(e)),e[$e(e.length-1)];var r=nt(e)?Ee(e):be(e),o=Z(r);t=Math.max(Math.min(t,o),0);for(var i=o-1,s=0;s<t;s++){var c=$e(s,i),a=r[s];r[s]=r[c],r[c]=a}return r.slice(0,t)}function At(e,t){return function(n,r,o){var i=t?[[],[]]:{};return r=Ie(r,o),bt(n,(function(t,o){var s=r(t,o,n);e(i,t,s)})),i}}var Dt=At((function(e,t,n){H(e,n)?e[n].push(t):e[n]=[t]})),Nt=At((function(e,t,n){e[n]=t})),Bt=At((function(e,t,n){H(e,n)?e[n]++:e[n]=1})),Vt=At((function(e,t,n){e[n?0:1].push(t)}),!0),Mt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function It(e,t,n){return t in n}var Lt=_((function(e,t){var n={},r=t[0];if(null==e)return n;B(r)?(t.length>1&&(r=Be(r,t[1])),t=ce(e)):(r=It,t=rt(t,!1,!1),e=Object(e));for(var o=0,i=t.length;o<i;o++){var s=t[o],c=e[s];r(c,s,e)&&(n[s]=c)}return n})),$t=_((function(e,t){var n,r=t[0];return B(r)?(r=ct(r),t.length>1&&(n=t[1])):(t=wt(rt(t,!1,!1),String),r=function(e,n){return!Et(t,n)}),Lt(e,r,n)}));function qt(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Ht(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:qt(e,e.length-t)}function Ft(e,t,n){return c.call(e,null==t||n?1:t)}var zt=_((function(e,t){return t=rt(t,!0,!0),xt(e,(function(e){return!Et(t,e)}))})),Ut=_((function(e,t){return zt(e,t)}));function Wt(e,t,n,r){x(t)||(r=n,n=t,t=!1),null!=n&&(n=Ie(n,r));for(var o=[],i=[],s=0,c=Z(e);s<c;s++){var a=e[s],u=n?n(a,s,e):a;t&&!n?(s&&i===u||o.push(a),i=u):n?Et(i,u)||(i.push(u),o.push(a)):Et(o,a)||o.push(a)}return o}var Gt=_((function(e){return Wt(rt(e,!0,!0))}));function Jt(e){for(var t=e&&Tt(e,Z).length||0,n=Array(t),r=0;r<t;r++)n[r]=Pt(e,r);return n}var Kt=_(Jt);function Xt(e,t){return e._chain?re(t).chain():t}function Yt(e){return bt(_e(e),(function(t){var n=re[t]=e[t];re.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),Xt(this,n.apply(re,e))}})),re}bt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=r[e];re.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Xt(this,n)}})),bt(["concat","join","slice"],(function(e){var t=r[e];re.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Xt(this,e)}}));var Qt=Yt({__proto__:null,VERSION:e,restArguments:_,isObject:O,isNull:function(e){return null===e},isUndefined:S,isBoolean:x,isElement:function(e){return!(!e||1!==e.nodeType)},isString:j,isNumber:E,isDate:R,isRegExp:P,isError:T,isSymbol:C,isArrayBuffer:A,isDataView:$,isArray:q,isFunction:B,isArguments:z,isFinite:function(e){return!C(e)&&m(e)&&!isNaN(parseFloat(e))},isNaN:U,isTypedArray:Q,isEmpty:function(e){if(null==e)return!0;var t=Z(e);return"number"==typeof t&&(q(e)||j(e)||z(e))?0===t:0===Z(te(e))},isMatch:ne,isEqual:function(e,t){return se(e,t)},isMap:ye,isWeakMap:ve,isSet:me,isWeakSet:ge,keys:te,allKeys:ce,values:be,pairs:function(e){for(var t=te(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=[t[o],e[t[o]]];return r},invert:we,functions:_e,methods:_e,extend:Se,extendOwn:xe,assign:xe,defaults:ke,create:function(e,t){var n=je(e);return t&&xe(n,t),n},clone:Ee,tap:function(e,t){return t(e),e},get:Ce,has:function(e,t){for(var n=(t=Pe(t)).length,r=0;r<n;r++){var o=t[r];if(!H(e,o))return!1;e=e[o]}return!!n},mapObject:function(e,t,n){t=Ie(t,n);for(var r=te(e),o=r.length,i={},s=0;s<o;s++){var c=r[s];i[c]=t(e[c],c,e)}return i},identity:Ae,constant:W,noop:Le,toPath:Re,property:Ne,propertyOf:function(e){return null==e?Le:function(t){return Ce(e,t)}},matcher:De,matches:De,times:function(e,t,n){var r=Array(Math.max(0,e));t=Be(t,n,1);for(var o=0;o<e;o++)r[o]=t(o);return r},random:$e,now:qe,escape:ze,unescape:Ue,templateSettings:We,template:function(e,t,n){!t&&n&&(t=n),t=ke({},t,re.templateSettings);var r=RegExp([(t.escape||Ge).source,(t.interpolate||Ge).source,(t.evaluate||Ge).source].join("|")+"|$","g"),o=0,i="__p+='";e.replace(r,(function(t,n,r,s,c){return i+=e.slice(o,c).replace(Ke,Xe),o=c+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(i+="';\n"+s+"\n__p+='"),t})),i+="';\n";var s,c=t.variable;if(c){if(!Ye.test(c))throw new Error("variable is not a bare identifier: "+c)}else i="with(obj||{}){\n"+i+"}\n",c="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{s=new Function(c,"_",i)}catch(e){throw e.source=i,e}var a=function(e){return s.call(this,e,re)};return a.source="function("+c+"){\n"+i+"}",a},result:function(e,t,n){var r=(t=Pe(t)).length;if(!r)return B(n)?n.call(e):n;for(var o=0;o<r;o++){var i=null==e?void 0:e[t[o]];void 0===i&&(i=n,o=r),e=B(i)?i.call(e):i}return e},uniqueId:function(e){var t=++Qe+"";return e?e+t:t},chain:function(e){var t=re(e);return t._chain=!0,t},iteratee:Me,partial:et,bind:tt,bindAll:ot,memoize:function(e,t){var n=function(r){var o=n.cache,i=""+(t?t.apply(this,arguments):r);return H(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return n.cache={},n},delay:it,defer:st,throttle:function(e,t,n){var r,o,i,s,c=0;n||(n={});var a=function(){c=!1===n.leading?0:qe(),r=null,s=e.apply(o,i),r||(o=i=null)},u=function(){var u=qe();c||!1!==n.leading||(c=u);var l=t-(u-c);return o=this,i=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),c=u,s=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(a,l)),s};return u.cancel=function(){clearTimeout(r),c=0,r=o=i=null},u},debounce:function(e,t,n){var r,o,i,s,c,a=function(){var u=qe()-o;t>u?r=setTimeout(a,t-u):(r=null,n||(s=e.apply(c,i)),r||(i=c=null))},u=_((function(u){return c=this,i=u,o=qe(),r||(r=setTimeout(a,t),n&&(s=e.apply(c,i))),s}));return u.cancel=function(){clearTimeout(r),r=i=c=null},u},wrap:function(e,t){return et(t,e)},negate:ct,compose:function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:at,once:ut,findKey:lt,findIndex:pt,findLastIndex:ht,sortedIndex:dt,indexOf:vt,lastIndexOf:mt,find:gt,detect:gt,findWhere:function(e,t){return gt(e,De(t))},each:bt,forEach:bt,map:wt,collect:wt,reduce:Ot,foldl:Ot,inject:Ot,reduceRight:St,foldr:St,filter:xt,select:xt,reject:function(e,t,n){return xt(e,ct(Ie(t)),n)},every:kt,all:kt,some:jt,any:jt,contains:Et,includes:Et,include:Et,invoke:Rt,pluck:Pt,where:function(e,t){return xt(e,De(t))},max:Tt,min:function(e,t,n){var r,o,i=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var c=0,a=(e=nt(e)?e:be(e)).length;c<a;c++)null!=(r=e[c])&&r<i&&(i=r);else t=Ie(t,n),bt(e,(function(e,n,r){((o=t(e,n,r))<s||o===1/0&&i===1/0)&&(i=e,s=o)}));return i},shuffle:function(e){return Ct(e,1/0)},sample:Ct,sortBy:function(e,t,n){var r=0;return t=Ie(t,n),Pt(wt(e,(function(e,n,o){return{value:e,index:r++,criteria:t(e,n,o)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")},groupBy:Dt,indexBy:Nt,countBy:Bt,partition:Vt,toArray:function(e){return e?q(e)?c.call(e):j(e)?e.match(Mt):nt(e)?wt(e,Ae):be(e):[]},size:function(e){return null==e?0:nt(e)?e.length:te(e).length},pick:Lt,omit:$t,first:Ht,head:Ht,take:Ht,initial:qt,last:function(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Ft(e,Math.max(0,e.length-t))},rest:Ft,tail:Ft,drop:Ft,compact:function(e){return xt(e,Boolean)},flatten:function(e,t){return rt(e,t,!1)},without:Ut,uniq:Wt,unique:Wt,union:Gt,intersection:function(e){for(var t=[],n=arguments.length,r=0,o=Z(e);r<o;r++){var i=e[r];if(!Et(t,i)){var s;for(s=1;s<n&&Et(arguments[s],i);s++);s===n&&t.push(i)}}return t},difference:zt,unzip:Jt,transpose:Jt,zip:Kt,object:function(e,t){for(var n={},r=0,o=Z(e);r<o;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},range:function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),i=0;i<r;i++,e+=n)o[i]=e;return o},chunk:function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,o=e.length;r<o;)n.push(c.call(e,r,r+=t));return n},mixin:Yt,default:re});return Qt._=Qt,Qt}()},9050:(e,t,n)=>{"use strict";n.r(t),n.d(t,{VERSION:()=>o,after:()=>Nt,all:()=>en,allKeys:()=>ve,any:()=>tn,assign:()=>Ne,before:()=>Bt,bind:()=>Ot,bindAll:()=>kt,chain:()=>gt,chunk:()=>In,clone:()=>Ie,collect:()=>Jt,compact:()=>En,compose:()=>Dt,constant:()=>Q,contains:()=>nn,countBy:()=>yn,create:()=>Me,debounce:()=>Tt,default:()=>Fn,defaults:()=>Be,defer:()=>Rt,delay:()=>Et,detect:()=>Ut,difference:()=>Pn,drop:()=>kn,each:()=>Gt,escape:()=>st,every:()=>en,extend:()=>De,extendOwn:()=>Ne,filter:()=>Qt,find:()=>Ut,findIndex:()=>Lt,findKey:()=>Mt,findLastIndex:()=>$t,findWhere:()=>Wt,first:()=>xn,flatten:()=>Rn,foldl:()=>Xt,foldr:()=>Yt,forEach:()=>Gt,functions:()=>Ce,get:()=>Fe,groupBy:()=>hn,has:()=>ze,head:()=>xn,identity:()=>Ue,include:()=>nn,includes:()=>nn,indexBy:()=>dn,indexOf:()=>Ft,initial:()=>Sn,inject:()=>Xt,intersection:()=>Dn,invert:()=>Te,invoke:()=>rn,isArguments:()=>K,isArray:()=>W,isArrayBuffer:()=>M,isBoolean:()=>R,isDataView:()=>U,isDate:()=>D,isElement:()=>P,isEmpty:()=>ae,isEqual:()=>ye,isError:()=>B,isFinite:()=>X,isFunction:()=>$,isMap:()=>xe,isMatch:()=>ue,isNaN:()=>Y,isNull:()=>j,isNumber:()=>A,isObject:()=>k,isRegExp:()=>N,isSet:()=>je,isString:()=>C,isSymbol:()=>V,isTypedArray:()=>oe,isUndefined:()=>E,isWeakMap:()=>ke,isWeakSet:()=>Ee,iteratee:()=>Xe,keys:()=>ce,last:()=>jn,lastIndexOf:()=>zt,map:()=>Jt,mapObject:()=>Qe,matcher:()=>We,matches:()=>We,max:()=>cn,memoize:()=>jt,methods:()=>Ce,min:()=>an,mixin:()=>$n,negate:()=>At,noop:()=>Ze,now:()=>rt,object:()=>Vn,omit:()=>On,once:()=>Vt,pairs:()=>Pe,partial:()=>_t,partition:()=>vn,pick:()=>_n,pluck:()=>on,property:()=>Ge,propertyOf:()=>et,random:()=>nt,range:()=>Mn,reduce:()=>Xt,reduceRight:()=>Yt,reject:()=>Zt,rest:()=>kn,restArguments:()=>x,result:()=>yt,sample:()=>un,select:()=>Qt,shuffle:()=>ln,size:()=>bn,some:()=>tn,sortBy:()=>fn,sortedIndex:()=>qt,tail:()=>kn,take:()=>xn,tap:()=>Le,template:()=>dt,templateSettings:()=>at,throttle:()=>Pt,times:()=>tt,toArray:()=>gn,toPath:()=>$e,transpose:()=>Nn,unescape:()=>ct,union:()=>An,uniq:()=>Cn,unique:()=>Cn,uniqueId:()=>mt,unzip:()=>Nn,values:()=>Re,where:()=>sn,without:()=>Tn,wrap:()=>Ct,zip:()=>Bn});var r={};n.r(r),n.d(r,{VERSION:()=>o,after:()=>Nt,all:()=>en,allKeys:()=>ve,any:()=>tn,assign:()=>Ne,before:()=>Bt,bind:()=>Ot,bindAll:()=>kt,chain:()=>gt,chunk:()=>In,clone:()=>Ie,collect:()=>Jt,compact:()=>En,compose:()=>Dt,constant:()=>Q,contains:()=>nn,countBy:()=>yn,create:()=>Me,debounce:()=>Tt,default:()=>qn,defaults:()=>Be,defer:()=>Rt,delay:()=>Et,detect:()=>Ut,difference:()=>Pn,drop:()=>kn,each:()=>Gt,escape:()=>st,every:()=>en,extend:()=>De,extendOwn:()=>Ne,filter:()=>Qt,find:()=>Ut,findIndex:()=>Lt,findKey:()=>Mt,findLastIndex:()=>$t,findWhere:()=>Wt,first:()=>xn,flatten:()=>Rn,foldl:()=>Xt,foldr:()=>Yt,forEach:()=>Gt,functions:()=>Ce,get:()=>Fe,groupBy:()=>hn,has:()=>ze,head:()=>xn,identity:()=>Ue,include:()=>nn,includes:()=>nn,indexBy:()=>dn,indexOf:()=>Ft,initial:()=>Sn,inject:()=>Xt,intersection:()=>Dn,invert:()=>Te,invoke:()=>rn,isArguments:()=>K,isArray:()=>W,isArrayBuffer:()=>M,isBoolean:()=>R,isDataView:()=>U,isDate:()=>D,isElement:()=>P,isEmpty:()=>ae,isEqual:()=>ye,isError:()=>B,isFinite:()=>X,isFunction:()=>$,isMap:()=>xe,isMatch:()=>ue,isNaN:()=>Y,isNull:()=>j,isNumber:()=>A,isObject:()=>k,isRegExp:()=>N,isSet:()=>je,isString:()=>C,isSymbol:()=>V,isTypedArray:()=>oe,isUndefined:()=>E,isWeakMap:()=>ke,isWeakSet:()=>Ee,iteratee:()=>Xe,keys:()=>ce,last:()=>jn,lastIndexOf:()=>zt,map:()=>Jt,mapObject:()=>Qe,matcher:()=>We,matches:()=>We,max:()=>cn,memoize:()=>jt,methods:()=>Ce,min:()=>an,mixin:()=>$n,negate:()=>At,noop:()=>Ze,now:()=>rt,object:()=>Vn,omit:()=>On,once:()=>Vt,pairs:()=>Pe,partial:()=>_t,partition:()=>vn,pick:()=>_n,pluck:()=>on,property:()=>Ge,propertyOf:()=>et,random:()=>nt,range:()=>Mn,reduce:()=>Xt,reduceRight:()=>Yt,reject:()=>Zt,rest:()=>kn,restArguments:()=>x,result:()=>yt,sample:()=>un,select:()=>Qt,shuffle:()=>ln,size:()=>bn,some:()=>tn,sortBy:()=>fn,sortedIndex:()=>qt,tail:()=>kn,take:()=>xn,tap:()=>Le,template:()=>dt,templateSettings:()=>at,throttle:()=>Pt,times:()=>tt,toArray:()=>gn,toPath:()=>$e,transpose:()=>Nn,unescape:()=>ct,union:()=>An,uniq:()=>Cn,unique:()=>Cn,uniqueId:()=>mt,unzip:()=>Nn,values:()=>Re,where:()=>sn,without:()=>Tn,wrap:()=>Ct,zip:()=>Bn});var o="1.13.1",i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},s=Array.prototype,c=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,u=s.push,l=s.slice,f=c.toString,p=c.hasOwnProperty,h="undefined"!=typeof ArrayBuffer,d="undefined"!=typeof DataView,y=Array.isArray,v=Object.keys,m=Object.create,g=h&&ArrayBuffer.isView,b=isNaN,w=isFinite,_=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],S=Math.pow(2,53)-1;function x(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),o=0;o<n;o++)r[o]=arguments[o+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=Array(t+1);for(o=0;o<t;o++)i[o]=arguments[o];return i[t]=r,e.apply(this,i)}}function k(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function j(e){return null===e}function E(e){return void 0===e}function R(e){return!0===e||!1===e||"[object Boolean]"===f.call(e)}function P(e){return!(!e||1!==e.nodeType)}function T(e){var t="[object "+e+"]";return function(e){return f.call(e)===t}}const C=T("String"),A=T("Number"),D=T("Date"),N=T("RegExp"),B=T("Error"),V=T("Symbol"),M=T("ArrayBuffer");var I=T("Function"),L=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof L&&(I=function(e){return"function"==typeof e||!1});const $=I,q=T("Object");var H=d&&q(new DataView(new ArrayBuffer(8))),F="undefined"!=typeof Map&&q(new Map),z=T("DataView");const U=H?function(e){return null!=e&&$(e.getInt8)&&M(e.buffer)}:z,W=y||T("Array");function G(e,t){return null!=e&&p.call(e,t)}var J=T("Arguments");!function(){J(arguments)||(J=function(e){return G(e,"callee")})}();const K=J;function X(e){return!V(e)&&w(e)&&!isNaN(parseFloat(e))}function Y(e){return A(e)&&b(e)}function Q(e){return function(){return e}}function Z(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=S}}function ee(e){return function(t){return null==t?void 0:t[e]}}const te=ee("byteLength"),ne=Z(te);var re=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const oe=h?function(e){return g?g(e)&&!U(e):ne(e)&&re.test(f.call(e))}:Q(!1),ie=ee("length");function se(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=O.length,r=e.constructor,o=$(r)&&r.prototype||c,i="constructor";for(G(e,i)&&!t.contains(i)&&t.push(i);n--;)(i=O[n])in e&&e[i]!==o[i]&&!t.contains(i)&&t.push(i)}function ce(e){if(!k(e))return[];if(v)return v(e);var t=[];for(var n in e)G(e,n)&&t.push(n);return _&&se(e,t),t}function ae(e){if(null==e)return!0;var t=ie(e);return"number"==typeof t&&(W(e)||C(e)||K(e))?0===t:0===ie(ce(e))}function ue(e,t){var n=ce(t),r=n.length;if(null==e)return!r;for(var o=Object(e),i=0;i<r;i++){var s=n[i];if(t[s]!==o[s]||!(s in o))return!1}return!0}function le(e){return e instanceof le?e:this instanceof le?void(this._wrapped=e):new le(e)}function fe(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,te(e))}le.VERSION=o,le.prototype.value=function(){return this._wrapped},le.prototype.valueOf=le.prototype.toJSON=le.prototype.value,le.prototype.toString=function(){return String(this._wrapped)};var pe="[object DataView]";function he(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&de(e,t,n,r)}function de(e,t,n,r){e instanceof le&&(e=e._wrapped),t instanceof le&&(t=t._wrapped);var o=f.call(e);if(o!==f.call(t))return!1;if(H&&"[object Object]"==o&&U(e)){if(!U(t))return!1;o=pe}switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return a.valueOf.call(e)===a.valueOf.call(t);case"[object ArrayBuffer]":case pe:return de(fe(e),fe(t),n,r)}var i="[object Array]"===o;if(!i&&oe(e)){if(te(e)!==te(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;i=!0}if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,c=t.constructor;if(s!==c&&!($(s)&&s instanceof s&&$(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),i){if((u=e.length)!==t.length)return!1;for(;u--;)if(!he(e[u],t[u],n,r))return!1}else{var l,p=ce(e);if(u=p.length,ce(t).length!==u)return!1;for(;u--;)if(!G(t,l=p[u])||!he(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0}function ye(e,t){return he(e,t)}function ve(e){if(!k(e))return[];var t=[];for(var n in e)t.push(n);return _&&se(e,t),t}function me(e){var t=ie(e);return function(n){if(null==n)return!1;var r=ve(n);if(ie(r))return!1;for(var o=0;o<t;o++)if(!$(n[e[o]]))return!1;return e!==Oe||!$(n[ge])}}var ge="forEach",be=["clear","delete"],we=["get","has","set"],_e=be.concat(ge,we),Oe=be.concat(we),Se=["add"].concat(be,ge,"has");const xe=F?me(_e):T("Map"),ke=F?me(Oe):T("WeakMap"),je=F?me(Se):T("Set"),Ee=T("WeakSet");function Re(e){for(var t=ce(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=e[t[o]];return r}function Pe(e){for(var t=ce(e),n=t.length,r=Array(n),o=0;o<n;o++)r[o]=[t[o],e[t[o]]];return r}function Te(e){for(var t={},n=ce(e),r=0,o=n.length;r<o;r++)t[e[n[r]]]=n[r];return t}function Ce(e){var t=[];for(var n in e)$(e[n])&&t.push(n);return t.sort()}function Ae(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var o=1;o<r;o++)for(var i=arguments[o],s=e(i),c=s.length,a=0;a<c;a++){var u=s[a];t&&void 0!==n[u]||(n[u]=i[u])}return n}}const De=Ae(ve),Ne=Ae(ce),Be=Ae(ve,!0);function Ve(e){if(!k(e))return{};if(m)return m(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Me(e,t){var n=Ve(e);return t&&Ne(n,t),n}function Ie(e){return k(e)?W(e)?e.slice():De({},e):e}function Le(e,t){return t(e),e}function $e(e){return W(e)?e:[e]}function qe(e){return le.toPath(e)}function He(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function Fe(e,t,n){var r=He(e,qe(t));return E(r)?n:r}function ze(e,t){for(var n=(t=qe(t)).length,r=0;r<n;r++){var o=t[r];if(!G(e,o))return!1;e=e[o]}return!!n}function Ue(e){return e}function We(e){return e=Ne({},e),function(t){return ue(t,e)}}function Ge(e){return e=qe(e),function(t){return He(t,e)}}function Je(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return function(){return e.apply(t,arguments)}}function Ke(e,t,n){return null==e?Ue:$(e)?Je(e,t,n):k(e)&&!W(e)?We(e):Ge(e)}function Xe(e,t){return Ke(e,t,1/0)}function Ye(e,t,n){return le.iteratee!==Xe?le.iteratee(e,t):Ke(e,t,n)}function Qe(e,t,n){t=Ye(t,n);for(var r=ce(e),o=r.length,i={},s=0;s<o;s++){var c=r[s];i[c]=t(e[c],c,e)}return i}function Ze(){}function et(e){return null==e?Ze:function(t){return Fe(e,t)}}function tt(e,t,n){var r=Array(Math.max(0,e));t=Je(t,n,1);for(var o=0;o<e;o++)r[o]=t(o);return r}function nt(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}le.toPath=$e,le.iteratee=Xe;const rt=Date.now||function(){return(new Date).getTime()};function ot(e){var t=function(t){return e[t]},n="(?:"+ce(e).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(o,t):e}}const it={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},st=ot(it),ct=ot(Te(it)),at=le.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ut=/(.)^/,lt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ft=/\\|'|\r|\n|\u2028|\u2029/g;function pt(e){return"\\"+lt[e]}var ht=/^\s*(\w|\$)+\s*$/;function dt(e,t,n){!t&&n&&(t=n),t=Be({},t,le.templateSettings);var r=RegExp([(t.escape||ut).source,(t.interpolate||ut).source,(t.evaluate||ut).source].join("|")+"|$","g"),o=0,i="__p+='";e.replace(r,(function(t,n,r,s,c){return i+=e.slice(o,c).replace(ft,pt),o=c+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(i+="';\n"+s+"\n__p+='"),t})),i+="';\n";var s,c=t.variable;if(c){if(!ht.test(c))throw new Error("variable is not a bare identifier: "+c)}else i="with(obj||{}){\n"+i+"}\n",c="obj";i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{s=new Function(c,"_",i)}catch(e){throw e.source=i,e}var a=function(e){return s.call(this,e,le)};return a.source="function("+c+"){\n"+i+"}",a}function yt(e,t,n){var r=(t=qe(t)).length;if(!r)return $(n)?n.call(e):n;for(var o=0;o<r;o++){var i=null==e?void 0:e[t[o]];void 0===i&&(i=n,o=r),e=$(i)?i.call(e):i}return e}var vt=0;function mt(e){var t=++vt+"";return e?e+t:t}function gt(e){var t=le(e);return t._chain=!0,t}function bt(e,t,n,r,o){if(!(r instanceof t))return e.apply(n,o);var i=Ve(e.prototype),s=e.apply(i,o);return k(s)?s:i}var wt=x((function(e,t){var n=wt.placeholder,r=function(){for(var o=0,i=t.length,s=Array(i),c=0;c<i;c++)s[c]=t[c]===n?arguments[o++]:t[c];for(;o<arguments.length;)s.push(arguments[o++]);return bt(e,r,this,this,s)};return r}));wt.placeholder=le;const _t=wt,Ot=x((function(e,t,n){if(!$(e))throw new TypeError("Bind must be called on a function");var r=x((function(o){return bt(e,r,t,this,n.concat(o))}));return r})),St=Z(ie);function xt(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var o=r.length,i=0,s=ie(e);i<s;i++){var c=e[i];if(St(c)&&(W(c)||K(c)))if(t>1)xt(c,t-1,n,r),o=r.length;else for(var a=0,u=c.length;a<u;)r[o++]=c[a++];else n||(r[o++]=c)}return r}const kt=x((function(e,t){var n=(t=xt(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=Ot(e[r],e)}return e}));function jt(e,t){var n=function(r){var o=n.cache,i=""+(t?t.apply(this,arguments):r);return G(o,i)||(o[i]=e.apply(this,arguments)),o[i]};return n.cache={},n}const Et=x((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),Rt=_t(Et,le,1);function Pt(e,t,n){var r,o,i,s,c=0;n||(n={});var a=function(){c=!1===n.leading?0:rt(),r=null,s=e.apply(o,i),r||(o=i=null)},u=function(){var u=rt();c||!1!==n.leading||(c=u);var l=t-(u-c);return o=this,i=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),c=u,s=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(a,l)),s};return u.cancel=function(){clearTimeout(r),c=0,r=o=i=null},u}function Tt(e,t,n){var r,o,i,s,c,a=function(){var u=rt()-o;t>u?r=setTimeout(a,t-u):(r=null,n||(s=e.apply(c,i)),r||(i=c=null))},u=x((function(u){return c=this,i=u,o=rt(),r||(r=setTimeout(a,t),n&&(s=e.apply(c,i))),s}));return u.cancel=function(){clearTimeout(r),r=i=c=null},u}function Ct(e,t){return _t(t,e)}function At(e){return function(){return!e.apply(this,arguments)}}function Dt(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}}function Nt(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Bt(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const Vt=_t(Bt,2);function Mt(e,t,n){t=Ye(t,n);for(var r,o=ce(e),i=0,s=o.length;i<s;i++)if(t(e[r=o[i]],r,e))return r}function It(e){return function(t,n,r){n=Ye(n,r);for(var o=ie(t),i=e>0?0:o-1;i>=0&&i<o;i+=e)if(n(t[i],i,t))return i;return-1}}const Lt=It(1),$t=It(-1);function qt(e,t,n,r){for(var o=(n=Ye(n,r,1))(t),i=0,s=ie(e);i<s;){var c=Math.floor((i+s)/2);n(e[c])<o?i=c+1:s=c}return i}function Ht(e,t,n){return function(r,o,i){var s=0,c=ie(r);if("number"==typeof i)e>0?s=i>=0?i:Math.max(i+c,s):c=i>=0?Math.min(i+1,c):i+c+1;else if(n&&i&&c)return r[i=n(r,o)]===o?i:-1;if(o!=o)return(i=t(l.call(r,s,c),Y))>=0?i+s:-1;for(i=e>0?s:c-1;i>=0&&i<c;i+=e)if(r[i]===o)return i;return-1}}const Ft=Ht(1,Lt,qt),zt=Ht(-1,$t);function Ut(e,t,n){var r=(St(e)?Lt:Mt)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function Wt(e,t){return Ut(e,We(t))}function Gt(e,t,n){var r,o;if(t=Je(t,n),St(e))for(r=0,o=e.length;r<o;r++)t(e[r],r,e);else{var i=ce(e);for(r=0,o=i.length;r<o;r++)t(e[i[r]],i[r],e)}return e}function Jt(e,t,n){t=Ye(t,n);for(var r=!St(e)&&ce(e),o=(r||e).length,i=Array(o),s=0;s<o;s++){var c=r?r[s]:s;i[s]=t(e[c],c,e)}return i}function Kt(e){var t=function(t,n,r,o){var i=!St(t)&&ce(t),s=(i||t).length,c=e>0?0:s-1;for(o||(r=t[i?i[c]:c],c+=e);c>=0&&c<s;c+=e){var a=i?i[c]:c;r=n(r,t[a],a,t)}return r};return function(e,n,r,o){var i=arguments.length>=3;return t(e,Je(n,o,4),r,i)}}const Xt=Kt(1),Yt=Kt(-1);function Qt(e,t,n){var r=[];return t=Ye(t,n),Gt(e,(function(e,n,o){t(e,n,o)&&r.push(e)})),r}function Zt(e,t,n){return Qt(e,At(Ye(t)),n)}function en(e,t,n){t=Ye(t,n);for(var r=!St(e)&&ce(e),o=(r||e).length,i=0;i<o;i++){var s=r?r[i]:i;if(!t(e[s],s,e))return!1}return!0}function tn(e,t,n){t=Ye(t,n);for(var r=!St(e)&&ce(e),o=(r||e).length,i=0;i<o;i++){var s=r?r[i]:i;if(t(e[s],s,e))return!0}return!1}function nn(e,t,n,r){return St(e)||(e=Re(e)),("number"!=typeof n||r)&&(n=0),Ft(e,t,n)>=0}const rn=x((function(e,t,n){var r,o;return $(t)?o=t:(t=qe(t),r=t.slice(0,-1),t=t[t.length-1]),Jt(e,(function(e){var i=o;if(!i){if(r&&r.length&&(e=He(e,r)),null==e)return;i=e[t]}return null==i?i:i.apply(e,n)}))}));function on(e,t){return Jt(e,Ge(t))}function sn(e,t){return Qt(e,We(t))}function cn(e,t,n){var r,o,i=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var c=0,a=(e=St(e)?e:Re(e)).length;c<a;c++)null!=(r=e[c])&&r>i&&(i=r);else t=Ye(t,n),Gt(e,(function(e,n,r){((o=t(e,n,r))>s||o===-1/0&&i===-1/0)&&(i=e,s=o)}));return i}function an(e,t,n){var r,o,i=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var c=0,a=(e=St(e)?e:Re(e)).length;c<a;c++)null!=(r=e[c])&&r<i&&(i=r);else t=Ye(t,n),Gt(e,(function(e,n,r){((o=t(e,n,r))<s||o===1/0&&i===1/0)&&(i=e,s=o)}));return i}function un(e,t,n){if(null==t||n)return St(e)||(e=Re(e)),e[nt(e.length-1)];var r=St(e)?Ie(e):Re(e),o=ie(r);t=Math.max(Math.min(t,o),0);for(var i=o-1,s=0;s<t;s++){var c=nt(s,i),a=r[s];r[s]=r[c],r[c]=a}return r.slice(0,t)}function ln(e){return un(e,1/0)}function fn(e,t,n){var r=0;return t=Ye(t,n),on(Jt(e,(function(e,n,o){return{value:e,index:r++,criteria:t(e,n,o)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")}function pn(e,t){return function(n,r,o){var i=t?[[],[]]:{};return r=Ye(r,o),Gt(n,(function(t,o){var s=r(t,o,n);e(i,t,s)})),i}}const hn=pn((function(e,t,n){G(e,n)?e[n].push(t):e[n]=[t]})),dn=pn((function(e,t,n){e[n]=t})),yn=pn((function(e,t,n){G(e,n)?e[n]++:e[n]=1})),vn=pn((function(e,t,n){e[n?0:1].push(t)}),!0);var mn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function gn(e){return e?W(e)?l.call(e):C(e)?e.match(mn):St(e)?Jt(e,Ue):Re(e):[]}function bn(e){return null==e?0:St(e)?e.length:ce(e).length}function wn(e,t,n){return t in n}const _n=x((function(e,t){var n={},r=t[0];if(null==e)return n;$(r)?(t.length>1&&(r=Je(r,t[1])),t=ve(e)):(r=wn,t=xt(t,!1,!1),e=Object(e));for(var o=0,i=t.length;o<i;o++){var s=t[o],c=e[s];r(c,s,e)&&(n[s]=c)}return n})),On=x((function(e,t){var n,r=t[0];return $(r)?(r=At(r),t.length>1&&(n=t[1])):(t=Jt(xt(t,!1,!1),String),r=function(e,n){return!nn(t,n)}),_n(e,r,n)}));function Sn(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function xn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Sn(e,e.length-t)}function kn(e,t,n){return l.call(e,null==t||n?1:t)}function jn(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:kn(e,Math.max(0,e.length-t))}function En(e){return Qt(e,Boolean)}function Rn(e,t){return xt(e,t,!1)}const Pn=x((function(e,t){return t=xt(t,!0,!0),Qt(e,(function(e){return!nn(t,e)}))})),Tn=x((function(e,t){return Pn(e,t)}));function Cn(e,t,n,r){R(t)||(r=n,n=t,t=!1),null!=n&&(n=Ye(n,r));for(var o=[],i=[],s=0,c=ie(e);s<c;s++){var a=e[s],u=n?n(a,s,e):a;t&&!n?(s&&i===u||o.push(a),i=u):n?nn(i,u)||(i.push(u),o.push(a)):nn(o,a)||o.push(a)}return o}const An=x((function(e){return Cn(xt(e,!0,!0))}));function Dn(e){for(var t=[],n=arguments.length,r=0,o=ie(e);r<o;r++){var i=e[r];if(!nn(t,i)){var s;for(s=1;s<n&&nn(arguments[s],i);s++);s===n&&t.push(i)}}return t}function Nn(e){for(var t=e&&cn(e,ie).length||0,n=Array(t),r=0;r<t;r++)n[r]=on(e,r);return n}const Bn=x(Nn);function Vn(e,t){for(var n={},r=0,o=ie(e);r<o;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n}function Mn(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),o=Array(r),i=0;i<r;i++,e+=n)o[i]=e;return o}function In(e,t){if(null==t||t<1)return[];for(var n=[],r=0,o=e.length;r<o;)n.push(l.call(e,r,r+=t));return n}function Ln(e,t){return e._chain?le(t).chain():t}function $n(e){return Gt(Ce(e),(function(t){var n=le[t]=e[t];le.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),Ln(this,n.apply(le,e))}})),le}Gt(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=s[e];le.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Ln(this,n)}})),Gt(["concat","join","slice"],(function(e){var t=s[e];le.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Ln(this,e)}}));const qn=le;var Hn=$n(r);Hn._=Hn;const Fn=Hn}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(5205)})()}));
//# sourceMappingURL=demo.js.map